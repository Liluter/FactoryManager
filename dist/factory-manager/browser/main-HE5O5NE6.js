var rx=Object.defineProperty,ix=Object.defineProperties;var ox=Object.getOwnPropertyDescriptors;var qE=Object.getOwnPropertySymbols,sx=Object.getPrototypeOf,ax=Object.prototype.hasOwnProperty,cx=Object.prototype.propertyIsEnumerable,ux=Reflect.get;var zE=(t,e,n)=>e in t?rx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})ax.call(e,n)&&zE(t,n,e[n]);if(qE)for(var n of qE(e))cx.call(e,n)&&zE(t,n,e[n]);return t},me=(t,e)=>ix(t,ox(e));var Gr=(t,e,n)=>ux(sx(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function GE(t,e){return Object.is(t,e)}var st=null,Yu=!1,Zu=1,fr=Symbol("SIGNAL");function he(t){let e=st;return st=t,e}function WE(){return st}var qa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lp(t){if(Yu)throw new Error("");if(st===null)return;st.consumerOnSignalRead(t);let e=st.nextProducerIndex++;if(tl(st),e<st.producerNode.length&&st.producerNode[e]!==t&&Ha(st)){let n=st.producerNode[e];el(n,st.producerIndexOfThis[e])}st.producerNode[e]!==t&&(st.producerNode[e]=t,st.producerIndexOfThis[e]=Ha(st)?ZE(t,st,e):0),st.producerLastReadVersion[e]=t.version}function lx(){Zu++}function KE(t){if(!(Ha(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zu)){if(!t.producerMustRecompute(t)&&!Up(t)){t.dirty=!1,t.lastCleanEpoch=Zu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zu}}function QE(t){if(t.liveConsumerNode===void 0)return;let e=Yu;Yu=!0;try{for(let n of t.liveConsumerNode)n.dirty||dx(n)}finally{Yu=e}}function YE(){return st?.consumerAllowSignalWrites!==!1}function dx(t){t.dirty=!0,QE(t),t.consumerMarkedDirty?.(t)}function Xu(t){return t&&(t.nextProducerIndex=0),he(t)}function Vp(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ha(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)el(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Up(t){tl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(KE(n),r!==n.version))return!0}return!1}function jp(t){if(tl(t),Ha(t))for(let e=0;e<t.producerNode.length;e++)el(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ZE(t,e,n){if(JE(t),t.liveConsumerNode.length===0&&XE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ZE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function el(t,e){if(JE(t),t.liveConsumerNode.length===1&&XE(t))for(let r=0;r<t.producerNode.length;r++)el(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];tl(i),i.producerIndexOfThis[r]=e}}function Ha(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function JE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function XE(t){return t.producerNode!==void 0}function e0(t){let e=Object.create(hx);e.computation=t;let n=()=>{if(KE(e),Lp(e),e.value===Ju)throw e.error;return e.value};return n[fr]=e,n}var Op=Symbol("UNSET"),Fp=Symbol("COMPUTING"),Ju=Symbol("ERRORED"),hx=me(U({},qa),{value:Op,dirty:!0,error:null,equal:GE,producerMustRecompute(t){return t.value===Op||t.value===Fp},producerRecomputeValue(t){if(t.value===Fp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Fp;let n=Xu(t),r;try{r=t.computation()}catch(i){r=Ju,t.error=i}finally{Vp(t,n)}if(e!==Op&&e!==Ju&&r!==Ju&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function fx(){throw new Error}var t0=fx;function n0(){t0()}function r0(t){t0=t}var px=null;function i0(t){let e=Object.create(s0);e.value=t;let n=()=>(Lp(e),e.value);return n[fr]=e,n}function Bp(t,e){YE()||n0(),t.equal(t.value,e)||(t.value=e,mx(t))}function o0(t,e){YE()||n0(),Bp(t,e(t.value))}var s0=me(U({},qa),{equal:GE,value:void 0});function mx(t){t.version++,lx(),QE(t),px?.()}function re(t){return typeof t=="function"}function Oo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nl=Oo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Li(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof nl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{a0(o)}catch(s){e=e??[],s instanceof nl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new nl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)a0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Li(n,e)}remove(e){let{_finalizers:n}=this;n&&Li(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var $p=qe.EMPTY;function rl(t){return t instanceof qe||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function a0(t){re(t)?t():t.unsubscribe()}var Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(t,e,...n){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function il(t){Fo.setTimeout(()=>{let{onUnhandledError:e}=Cn;if(e)e(t);else throw t})}function za(){}var c0=Hp("C",void 0,void 0);function u0(t){return Hp("E",void 0,t)}function l0(t){return Hp("N",t,void 0)}function Hp(t,e,n){return{kind:t,value:e,error:n}}var Vi=null;function Lo(t){if(Cn.useDeprecatedSynchronousErrorHandling){let e=!Vi;if(e&&(Vi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vi;if(Vi=null,n)throw r}}else t()}function d0(t){Cn.useDeprecatedSynchronousErrorHandling&&Vi&&(Vi.errorThrown=!0,Vi.error=t)}var Ui=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rl(e)&&e.add(this)):this.destination=vx}static create(e,n,r){return new Vo(e,n,r)}next(e){this.isStopped?zp(l0(e),this):this._next(e)}error(e){this.isStopped?zp(u0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zp(c0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gx=Function.prototype.bind;function qp(t,e){return gx.call(t,e)}var Gp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ol(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ol(r)}else ol(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ol(n)}}},Vo=class extends Ui{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qp(e.next,o),error:e.error&&qp(e.error,o),complete:e.complete&&qp(e.complete,o)}):i=e}this.destination=new Gp(i)}};function ol(t){Cn.useDeprecatedSynchronousErrorHandling?d0(t):il(t)}function yx(t){throw t}function zp(t,e){let{onStoppedNotification:n}=Cn;n&&Fo.setTimeout(()=>n(t,e))}var vx={closed:!0,next:za,error:yx,complete:za};var Uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(t){return t}function sl(...t){return Wp(t)}function Wp(t){return t.length===0?Xt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Ix(n)?n:new Vo(n,r,i);return Lo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=h0(r),new r((i,o)=>{let s=new Vo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Uo](){return this}pipe(...n){return Wp(n)(this)}toPromise(n){return n=h0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function h0(t){var e;return(e=t??Cn.Promise)!==null&&e!==void 0?e:Promise}function _x(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function Ix(t){return t&&t instanceof Ui||_x(t)&&rl(t)}function Kp(t){return re(t?.lift)}function _e(t){return e=>{if(Kp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new Qp(t,e,n,r,i)}var Qp=class extends Ui{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function jo(){return _e((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Bo=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return jo()(this)}};var f0=Oo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var lt=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new al(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new f0}next(n){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$p:(this.currentObservers=null,o.push(n),new qe(()=>{this.currentObservers=null,Li(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new al(e,n),t})(),al=class extends lt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:$p}};var at=class extends lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Yp={now(){return(Yp.delegate||Date).now()},delegate:void 0};var cl=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ga={setInterval(t,e,...n){let{delegate:r}=Ga;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ga;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var $o=class extends cl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ga.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ga.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Li(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ho=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ho.now=Yp.now;var qo=class extends Ho{constructor(e,n=Ho.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var zo=new qo($o),Zp=zo;var ul=class extends $o{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ll=class extends qo{};var Jp=new ll(ul);var en=new ae(t=>t.complete());function dl(t){return t&&re(t.schedule)}function p0(t){return t[t.length-1]}function hl(t){return re(p0(t))?t.pop():void 0}function Wr(t){return dl(p0(t))?t.pop():void 0}function Xp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function g0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function m0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ji(t){return this instanceof ji?(this.v=t,this):new ji(t)}function y0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(M){return new Promise(function(R,j){o.push([y,M,R,j])>1||u(y,M)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(M){g(o[0][3],M)}}function l(y){y.value instanceof ji?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function v0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof m0=="function"?m0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var fl=t=>t&&typeof t.length=="number"&&typeof t!="function";function pl(t){return re(t?.then)}function ml(t){return re(t[Uo])}function gl(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function yl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vl=wx();function _l(t){return re(t?.[vl])}function Il(t){return y0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ji(n.read());if(i)return yield ji(void 0);yield yield ji(r)}}finally{n.releaseLock()}})}function wl(t){return re(t?.getReader)}function Ze(t){if(t instanceof ae)return t;if(t!=null){if(ml(t))return Ex(t);if(fl(t))return Dx(t);if(pl(t))return Cx(t);if(gl(t))return _0(t);if(_l(t))return bx(t);if(wl(t))return Tx(t)}throw yl(t)}function Ex(t){return new ae(e=>{let n=t[Uo]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Dx(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Cx(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,il)})}function bx(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _0(t){return new ae(e=>{Sx(t,e).catch(n=>e.error(n))})}function Tx(t){return _0(Il(t))}function Sx(t,e){var n,r,i,o;return g0(this,void 0,void 0,function*(){try{for(n=v0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Bt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Kr(t,e=0){return _e((n,r)=>{n.subscribe(ge(r,i=>Bt(r,t,()=>r.next(i),e),()=>Bt(r,t,()=>r.complete(),e),i=>Bt(r,t,()=>r.error(i),e)))})}function Qr(t,e=0){return _e((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function I0(t,e){return Ze(t).pipe(Qr(e),Kr(e))}function w0(t,e){return Ze(t).pipe(Qr(e),Kr(e))}function E0(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function D0(t,e){return new ae(n=>{let r;return Bt(n,e,()=>{r=t[vl](),Bt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function El(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{Bt(n,e,()=>{let r=t[Symbol.asyncIterator]();Bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function C0(t,e){return El(Il(t),e)}function b0(t,e){if(t!=null){if(ml(t))return I0(t,e);if(fl(t))return E0(t,e);if(pl(t))return w0(t,e);if(gl(t))return El(t,e);if(_l(t))return D0(t,e);if(wl(t))return C0(t,e)}throw yl(t)}function Fe(t,e){return e?b0(t,e):Ze(t)}function Q(...t){let e=Wr(t);return Fe(t,e)}function Go(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function em(t){return!!t&&(t instanceof ae||re(t.lift)&&re(t.subscribe))}var pr=Oo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function T0(t){return t instanceof Date&&!isNaN(t)}function Y(t,e){return _e((n,r)=>{let i=0;n.subscribe(ge(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Ax}=Array;function Rx(t,e){return Ax(e)?t(...e):t(e)}function Dl(t){return Y(e=>Rx(t,e))}var{isArray:Mx}=Array,{getPrototypeOf:Nx,prototype:xx,keys:Px}=Object;function Cl(t){if(t.length===1){let e=t[0];if(Mx(e))return{args:e,keys:null};if(kx(e)){let n=Px(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function kx(t){return t&&typeof t=="object"&&Nx(t)===xx}function bl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Wa(...t){let e=Wr(t),n=hl(t),{args:r,keys:i}=Cl(t);if(r.length===0)return Fe([],e);let o=new ae(Ox(r,e,i?s=>bl(i,s):Xt));return n?o.pipe(Dl(n)):o}function Ox(t,e,n=Xt){return r=>{S0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)S0(e,()=>{let l=Fe(t[u],e),h=!1;l.subscribe(ge(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function S0(t,e,n){t?Bt(n,t,e):e()}function A0(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?b(M):u.push(M),b=M=>{o&&e.next(M),l++;let R=!1;Ze(n(M,h++)).subscribe(ge(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let j=u.shift();s?Bt(e,s,()=>b(j)):b(j)}g()}catch(j){e.error(j)}}))};return t.subscribe(ge(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Je(t,e,n=1/0){return re(e)?Je((r,i)=>Y((o,s)=>e(r,o,i,s))(Ze(t(r,i))),n):(typeof e=="number"&&(n=e),_e((r,i)=>A0(r,i,t,n)))}function Wo(t=1/0){return Je(Xt,t)}function R0(){return Wo(1)}function Ko(...t){return R0()(Fe(t,Wr(t)))}function Tl(t){return new ae(e=>{Ze(t()).subscribe(e)})}function tm(...t){let e=hl(t),{args:n,keys:r}=Cl(t),i=new ae(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ze(n[h]).subscribe(ge(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?bl(r,a):a),o.complete())}))}});return e?i.pipe(Dl(e)):i}function M0(t=0,e,n=Zp){let r=-1;return e!=null&&(dl(e)?n=e:r=e),new ae(i=>{let o=T0(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function nm(t=0,e=zo){return t<0&&(t=0),M0(t,t,e)}function Ct(t,e){return _e((n,r)=>{let i=0;n.subscribe(ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Yr(t){return _e((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ge(n,void 0,void 0,s=>{o=Ze(t(s,Yr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function N0(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ge(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Bi(t,e){return re(e)?Je(t,e,1):Je(t,1)}function Zr(t){return _e((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mr(t){return t<=0?()=>en:_e((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function rm(t){return Y(()=>t)}function Sl(t=Fx){return _e((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Fx(){return new pr}function Ka(t){return _e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function jn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,o)=>t(i,o,r)):Xt,mr(1),n?Zr(e):Sl(()=>new pr))}function Qo(t){return t<=0?()=>en:_e((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function im(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,o)=>t(i,o,r)):Xt,Qo(1),n?Zr(e):Sl(()=>new pr))}function Al(t,e){return _e(N0(t,e,arguments.length>=2,!0))}function $i(...t){let e=Wr(t);return _e((n,r)=>{(e?Ko(t,n,e):Ko(t,n)).subscribe(r)})}function xt(t,e){return _e((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ge(r,u=>{i?.unsubscribe();let l=0,h=o++;Ze(t(u,h)).subscribe(i=ge(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function om(t){return _e((e,n)=>{Ze(t).subscribe(ge(n,()=>n.complete(),za)),!n.closed&&e.subscribe(n)})}function ze(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xt}var fD="https://g.co/ng/security#xss",z=class extends Error{constructor(e,n){super(pg(e,n)),this.code=e}};function pg(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ic(t){return{toString:t}.toString()}var Rl="__parameters__";function Lx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pD(t,e,n){return ic(()=>{let r=Lx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Rl)?u[Rl]:Object.defineProperty(u,Rl,{value:[]})[Rl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var qi=globalThis;function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function Vx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function qt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(qt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function wm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Ux=xe({__forward_ref__:xe});function hn(t){return t.__forward_ref__=hn,t.toString=function(){return qt(this())},t}function Pt(t){return mD(t)?t():t}function mD(t){return typeof t=="function"&&t.hasOwnProperty(Ux)&&t.__forward_ref__===hn}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xi(t){return{providers:t.providers||[],imports:t.imports||[]}}function ld(t){return x0(t,yD)||x0(t,vD)}function gD(t){return ld(t)!==null}function x0(t,e){return t.hasOwnProperty(e)?t[e]:null}function jx(t){let e=t&&(t[yD]||t[vD]);return e||null}function P0(t){return t&&(t.hasOwnProperty(k0)||t.hasOwnProperty(Bx))?t[k0]:null}var yD=xe({\u0275prov:xe}),k0=xe({\u0275inj:xe}),vD=xe({ngInjectableDef:xe}),Bx=xe({ngInjectorDef:xe}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _D(t){return t&&!!t.\u0275providers}var $x=xe({\u0275cmp:xe}),Hx=xe({\u0275dir:xe}),qx=xe({\u0275pipe:xe}),zx=xe({\u0275mod:xe}),Ul=xe({\u0275fac:xe}),Ya=xe({__NG_ELEMENT_ID__:xe}),O0=xe({__NG_ENV_ID__:xe});function ns(t){return typeof t=="string"?t:t==null?"":String(t)}function Gx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ns(t)}function Wx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function mg(t,e){throw new z(-201,!1)}var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{}),Em;function ID(){return Em}function $t(t){let e=Em;return Em=t,e}function wD(t,e,n){let r=ld(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;mg(t,"Injector")}var Kx={},Za=Kx,Dm="__NG_DI_FLAG__",jl="ngTempTokenPath",Qx="ngTokenPath",Yx=/\n/gm,Zx="\u0275",F0="__source",es;function Jx(){return es}function Jr(t){let e=es;return es=t,e}function Xx(t,e=ue.Default){if(es===void 0)throw new z(-203,!1);return es===null?wD(t,void 0,e):es.get(t,e&ue.Optional?null:void 0,e)}function ee(t,e=ue.Default){return(ID()||Xx)(Pt(t),e)}function k(t,e=ue.Default){return ee(t,dd(e))}function dd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Cm(t){let e=[];for(let n=0;n<t.length;n++){let r=Pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],u=eP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ee(i,o))}else e.push(ee(r))}return e}function ED(t,e){return t[Dm]=e,t.prototype[Dm]=e,t}function eP(t){return t[Dm]}function tP(t,e,n,r){let i=t[jl];throw e[F0]&&i.unshift(e[F0]),t.message=nP(`
`+t.message,i,n,r),t[Qx]=i,t[jl]=null,t}function nP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Zx?t.slice(2):t;let i=qt(e);if(Array.isArray(e))i=e.map(qt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):qt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Yx,`
  `)}`}var Ft=ED(pD("Optional"),8);var DD=ED(pD("SkipSelf"),4);function Gi(t,e){let n=t.hasOwnProperty(Ul);return n?t[Ul]:null}function gg(t,e){t.forEach(n=>Array.isArray(n)?gg(n,e):e(n))}function CD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rP(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function iP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function yg(t,e,n){let r=oc(t,e);return r>=0?t[r|1]=n:(r=~r,iP(t,r,e,n)),r}function sm(t,e){let n=oc(t,e);if(n>=0)return t[n|1]}function oc(t,e){return oP(t,e,1)}function oP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var rs={},Ht=[],is=new H(""),bD=new H("",-1),TD=new H(""),$l=class{get(e,n=Za){if(n===Za){let r=new Error(`NullInjectorError: No provider for ${qt(e)}!`);throw r.name="NullInjectorError",r}return n}},SD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(SD||{}),Hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hn||{}),ti=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ti||{});function sP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function bm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];aP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function AD(t){return t===3||t===4||t===6}function aP(t){return t.charCodeAt(0)===64}function Ja(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?L0(t,n,i,null,e[++r]):L0(t,n,i,null,null))}}return t}function L0(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var RD="ng-template";function cP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&sP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(vg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function vg(t){return t.type===4&&t.value!==RD}function uP(t,e,n){let r=t.type===4&&!n?RD:t.value;return e===r}function lP(t,e,n){let r=4,i=t.attrs,o=i!==null?fP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!bn(r)&&!bn(u))return!1;if(s&&bn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!uP(t,u,n)||u===""&&e.length===1){if(bn(r))return!1;s=!0}}else if(r&8){if(i===null||!cP(t,i,u,n)){if(bn(r))return!1;s=!0}}else{let l=e[++a],h=dP(u,i,vg(t),n);if(h===-1){if(bn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(bn(r))return!1;s=!0}}}}return bn(r)||s}function bn(t){return(t&1)===0}function dP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pP(e,t)}function MD(t,e,n=!1){for(let r=0;r<e.length;r++)if(lP(t,e[r],n))return!0;return!1}function hP(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function fP(t){for(let e=0;e<t.length;e++){let n=t[e];if(AD(n))return e}return t.length}function pP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function mP(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function V0(t,e){return t?":not("+e.trim()+")":e}function gP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!bn(s)&&(e+=V0(o,i),i=""),r=s,o=o||!bn(r);n++}return i!==""&&(e+=V0(o,i)),e}function yP(t){return t.map(gP).join(",")}function vP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!bn(i))break;i=o}r++}return{attrs:e,classes:n}}function Re(t){return ic(()=>{let e=OD(t),n=me(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===SD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hn.Emulated,styles:t.styles||Ht,_:null,schemas:t.schemas||null,tView:null,id:""});FD(n);let r=t.dependencies;return n.directiveDefs=j0(r,!1),n.pipeDefs=j0(r,!0),n.id=wP(n),n})}function _P(t){return ni(t)||ND(t)}function IP(t){return t!==null}function eo(t){return ic(()=>({type:t.type,bootstrap:t.bootstrap||Ht,declarations:t.declarations||Ht,imports:t.imports||Ht,exports:t.exports||Ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function U0(t,e){if(t==null)return rs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ti.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ti.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ue(t){return ic(()=>{let e=OD(t);return FD(e),e})}function _g(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ni(t){return t[$x]||null}function ND(t){return t[Hx]||null}function xD(t){return t[qx]||null}function PD(t){let e=ni(t)||ND(t)||xD(t);return e!==null?e.standalone:!1}function kD(t,e){let n=t[zx]||null;if(!n&&e===!0)throw new Error(`Type ${qt(t)} does not have '\u0275mod' property.`);return n}function OD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||rs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:U0(t.inputs,e),outputs:U0(t.outputs),debugInfo:null}}function FD(t){t.features?.forEach(e=>e(t))}function j0(t,e){if(!t)return null;let n=e?xD:_P;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(IP)}function wP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Gn(t){return{\u0275providers:t}}function EP(...t){return{\u0275providers:LD(!0,t),\u0275fromNgModule:!0}}function LD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return gg(e,s=>{let a=s;Tm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&VD(i,o),n}function VD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ig(i,o=>{e(o,r)})}}function Tm(t,e,n,r){if(t=Pt(t),!t)return!1;let i=null,o=P0(t),s=!o&&ni(t);if(!o&&!s){let u=t.ngModule;if(o=P0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Tm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{gg(o.imports,h=>{Tm(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&VD(l,e)}if(!a){let l=Gi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ht},i),e({provide:TD,useValue:i,multi:!0},i),e({provide:is,useValue:()=>ee(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Ig(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ig(t,e){for(let n of t)_D(n)&&(n=n.\u0275providers),Array.isArray(n)?Ig(n,e):e(n)}var DP=xe({provide:String,useValue:xe});function UD(t){return t!==null&&typeof t=="object"&&DP in t}function CP(t){return!!(t&&t.useExisting)}function bP(t){return!!(t&&t.useFactory)}function os(t){return typeof t=="function"}function TP(t){return!!t.useClass}var hd=new H(""),kl={},SP={},am;function wg(){return am===void 0&&(am=new $l),am}var tn=class{},Xa=class extends tn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Am(e,s=>this.processProvider(s)),this.records.set(bD,Yo(void 0,this)),i.has("environment")&&this.records.set(tn,Yo(void 0,this));let o=this.records.get(hd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TD,Ht,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Jr(this),r=$t(void 0),i;try{return e()}finally{Jr(n),$t(r)}}get(e,n=Za,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(O0))return e[O0](this);r=dd(r);let i,o=Jr(this),s=$t(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=xP(e)&&ld(e);l&&this.injectableDefInScope(l)?u=Yo(Sm(e),kl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?wg():this.parent;return n=r&ue.Optional&&n===Za?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[jl]=a[jl]||[]).unshift(qt(e)),o)throw a;return tP(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(s),Jr(o)}}resolveInjectorInitializers(){let e=he(null),n=Jr(this),r=$t(void 0),i;try{let o=this.get(is,Ht,ue.Self);for(let s of o)s()}finally{Jr(n),$t(r),he(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(qt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=Pt(e);let n=os(e)?e:Pt(e&&e.provide),r=RP(e);if(!os(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Yo(void 0,kl,!0),i.factory=()=>Cm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=he(null);try{return n.value===kl&&(n.value=SP,n.value=n.factory()),typeof n.value=="object"&&n.value&&NP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Sm(t){let e=ld(t),n=e!==null?e.factory:Gi(t);if(n!==null)return n;if(t instanceof H)throw new z(204,!1);if(t instanceof Function)return AP(t);throw new z(204,!1)}function AP(t){if(t.length>0)throw new z(204,!1);let n=jx(t);return n!==null?()=>n.factory(t):()=>new t}function RP(t){if(UD(t))return Yo(void 0,t.useValue);{let e=jD(t);return Yo(e,kl)}}function jD(t,e,n){let r;if(os(t)){let i=Pt(t);return Gi(i)||Sm(i)}else if(UD(t))r=()=>Pt(t.useValue);else if(bP(t))r=()=>t.useFactory(...Cm(t.deps||[]));else if(CP(t))r=()=>ee(Pt(t.useExisting));else{let i=Pt(t&&(t.useClass||t.provide));if(MP(t))r=()=>new i(...Cm(t.deps));else return Gi(i)||Sm(i)}return r}function Yo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function MP(t){return!!t.deps}function NP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function xP(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Am(t,e){for(let n of t)Array.isArray(n)?Am(n,e):n&&_D(n)?Am(n.\u0275providers,e):e(n)}function Wn(t,e){t instanceof Xa&&t.assertNotDestroyed();let n,r=Jr(t),i=$t(void 0);try{return e()}finally{Jr(r),$t(i)}}function BD(){return ID()!==void 0||Jx()!=null}function PP(t){if(!BD())throw new z(-203,!1)}function kP(t){return typeof t=="function"}var _r=0,oe=1,X=2,Ot=3,Sn=4,zt=5,ss=6,Hl=7,bt=8,as=9,qn=10,We=11,ec=12,B0=13,Is=14,nn=15,cs=16,Zo=17,us=18,fd=19,$D=20,Xr=21,cm=22,dn=23,gt=25,HD=1;var Wi=7,ql=8,zl=9,kt=10,Gl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Gl||{});function ei(t){return Array.isArray(t)&&typeof t[HD]=="object"}function Ir(t){return Array.isArray(t)&&t[HD]===!0}function qD(t){return(t.flags&4)!==0}function pd(t){return t.componentOffset>-1}function Eg(t){return(t.flags&1)===1}function ri(t){return!!t.template}function Rm(t){return(t[X]&512)!==0}var Mm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function oi(){return GD}function GD(t){return t.type.prototype.ngOnChanges&&(t.setInput=FP),OP}oi.ngInherit=!0;function OP(){let t=KD(this),e=t?.current;if(e){let n=t.previous;if(n===rs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function FP(t,e,n,r,i){let o=this.declaredInputs[r],s=KD(t)||LP(t,{previous:rs,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Mm(l&&l.currentValue,n,u===rs),zD(t,e,i,n)}var WD="__ngSimpleChanges__";function KD(t){return t[WD]||null}function LP(t,e){return t[WD]=e}var $0=null;var Bn=function(t,e,n){$0?.(t,e,n)},VP="svg",UP="math";function zn(t){for(;Array.isArray(t);)t=t[_r];return t}function QD(t,e){return zn(e[t])}function fn(t,e){return zn(e[t.index])}function Dg(t,e){return t.data[e]}function Cg(t,e){return t[e]}function si(t,e){let n=e[t];return ei(n)?n:n[_r]}function bg(t){return(t[X]&128)===128}function jP(t){return Ir(t[Ot])}function ls(t,e){return e==null?null:t[e]}function YD(t){t[Zo]=0}function ZD(t){t[X]&1024||(t[X]|=1024,bg(t)&&gd(t))}function BP(t,e){for(;t>0;)e=e[Is],t--;return e}function md(t){return!!(t[X]&9216||t[dn]?.dirty)}function Nm(t){t[qn].changeDetectionScheduler?.notify(8),t[X]&64&&(t[X]|=1024),md(t)&&gd(t)}function gd(t){t[qn].changeDetectionScheduler?.notify(0);let e=Ki(t);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!bg(e)));)e=Ki(e)}function JD(t,e){if((t[X]&256)===256)throw new z(911,!1);t[Xr]===null&&(t[Xr]=[]),t[Xr].push(e)}function $P(t,e){if(t[Xr]===null)return;let n=t[Xr].indexOf(e);n!==-1&&t[Xr].splice(n,1)}function Ki(t){let e=t[Ot];return Ir(e)?e[Ot]:e}var le={lFrame:uC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var XD=!1;function HP(){return le.lFrame.elementDepthCount}function qP(){le.lFrame.elementDepthCount++}function zP(){le.lFrame.elementDepthCount--}function eC(){return le.bindingsEnabled}function tC(){return le.skipHydrationRootTNode!==null}function GP(t){return le.skipHydrationRootTNode===t}function WP(){le.skipHydrationRootTNode=null}function fe(){return le.lFrame.lView}function vt(){return le.lFrame.tView}function Gt(t){return le.lFrame.contextLView=t,t[bt]}function Wt(t){return le.lFrame.contextLView=null,t}function Kt(){let t=nC();for(;t!==null&&t.type===64;)t=t.parent;return t}function nC(){return le.lFrame.currentTNode}function KP(){let t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function sc(t,e){let n=le.lFrame;n.currentTNode=t,n.isParent=e}function rC(){return le.lFrame.isParent}function iC(){le.lFrame.isParent=!1}function QP(){return le.lFrame.contextLView}function oC(){return XD}function H0(t){XD=t}function yd(){let t=le.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function YP(){return le.lFrame.bindingIndex}function ZP(t){return le.lFrame.bindingIndex=t}function ws(){return le.lFrame.bindingIndex++}function Tg(t){let e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function JP(){return le.lFrame.inI18n}function XP(t,e){let n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,xm(e)}function e1(){return le.lFrame.currentDirectiveIndex}function xm(t){le.lFrame.currentDirectiveIndex=t}function t1(t){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sC(t){le.lFrame.currentQueryIndex=t}function n1(t){let e=t[oe];return e.type===2?e.declTNode:e.type===1?t[zt]:null}function aC(t,e,n){if(n&ue.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ue.Host);)if(i=n1(o),i===null||(o=o[Is],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=le.lFrame=cC();return r.currentTNode=e,r.lView=t,!0}function Sg(t){let e=cC(),n=t[oe];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function cC(){let t=le.lFrame,e=t===null?null:t.child;return e===null?uC(t):e}function uC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function lC(){let t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var dC=lC;function Ag(){let t=lC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function r1(t){return(le.lFrame.contextLView=BP(t,le.lFrame.contextLView))[bt]}function wr(){return le.lFrame.selectedIndex}function Qi(t){le.lFrame.selectedIndex=t}function Rg(){let t=le.lFrame;return Dg(t.tView,t.selectedIndex)}function i1(){return le.lFrame.currentNamespace}var hC=!0;function Mg(){return hC}function Ng(t){hC=t}function o1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=GD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function xg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ol(t,e,n){fC(t,e,3,n)}function Fl(t,e,n,r){(t[X]&3)===n&&fC(t,e,n,r)}function um(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function fC(t,e,n,r){let i=r!==void 0?t[Zo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Zo]+=65536),(a<o||o==-1)&&(s1(t,n,e,u),t[Zo]=(t[Zo]&4294901760)+u+2),u++}function q0(t,e){Bn(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),Bn(5,t,e)}}function s1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[X]>>14<t[Zo]>>16&&(t[X]&3)===e&&(t[X]+=16384,q0(a,o)):q0(a,o)}var ts=-1,Yi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function a1(t){return t instanceof Yi}function c1(t){return(t.flags&8)!==0}function u1(t){return(t.flags&16)!==0}var lm={},Pm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=dd(r);let i=this.injector.get(e,lm,r);return i!==lm||n===lm?i:this.parentInjector.get(e,n,r)}};function pC(t){return t!==ts}function Wl(t){return t&32767}function l1(t){return t>>16}function Kl(t,e){let n=l1(t),r=e;for(;n>0;)r=r[Is],n--;return r}var km=!0;function Ql(t){let e=km;return km=t,e}var d1=256,mC=d1-1,gC=5,h1=0,$n={};function f1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ya)&&(r=n[Ya]),r==null&&(r=n[Ya]=h1++);let i=r&mC,o=1<<i;e.data[t+(i>>gC)]|=o}function Yl(t,e){let n=yC(t,e);if(n!==-1)return n;let r=e[oe];r.firstCreatePass&&(t.injectorIndex=e.length,dm(r.data,t),dm(e,null),dm(r.blueprint,null));let i=Pg(t,e),o=t.injectorIndex;if(pC(i)){let s=Wl(i),a=Kl(i,e),u=a[oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function dm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Pg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=EC(i),r===null)return ts;if(n++,i=i[Is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ts}function Om(t,e,n){f1(t,e,n)}function p1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(AD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function vC(t,e,n){if(n&ue.Optional||t!==void 0)return t;mg(e,"NodeInjector")}function _C(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),!(n&(ue.Self|ue.Host))){let i=t[as],o=$t(void 0);try{return i?i.get(e,r,n&ue.Optional):wD(e,r,n&ue.Optional)}finally{$t(o)}}return vC(r,e,n)}function IC(t,e,n,r=ue.Default,i){if(t!==null){if(e[X]&2048&&!(r&ue.Self)){let s=_1(t,e,n,r,$n);if(s!==$n)return s}let o=wC(t,e,n,r,$n);if(o!==$n)return o}return _C(e,n,r,i)}function wC(t,e,n,r,i){let o=y1(n);if(typeof o=="function"){if(!aC(e,t,r))return r&ue.Host?vC(i,n,r):_C(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ue.Optional))mg(n);else return s}finally{dC()}}else if(typeof o=="number"){let s=null,a=yC(t,e),u=ts,l=r&ue.Host?e[nn][zt]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?Pg(t,e):e[a+8],u===ts||!G0(r,!1)?a=-1:(s=e[oe],a=Wl(u),e=Kl(u,e)));a!==-1;){let h=e[oe];if(z0(o,a,h.data)){let p=m1(a,e,n,s,r,l);if(p!==$n)return p}u=e[a+8],u!==ts&&G0(r,e[oe].data[a+8]===l)&&z0(o,a,e)?(s=h,a=Wl(u),e=Kl(u,e)):a=-1}}return i}function m1(t,e,n,r,i,o){let s=e[oe],a=s.data[t+8],u=r==null?pd(a)&&km:r!=s&&(a.type&3)!==0,l=i&ue.Host&&o===a,h=g1(a,s,n,u,l);return h!==null?ds(e,s,h,a):$n}function g1(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let b=s[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=s[u];if(y&&ri(y)&&y.type===n)return u}return null}function ds(t,e,n,r){let i=t[n],o=e.data;if(a1(i)){let s=i;s.resolving&&Wx(Gx(o[n]));let a=Ql(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?$t(s.injectImpl):null,h=aC(t,r,ue.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&o1(n,o[n],e)}finally{l!==null&&$t(l),Ql(a),s.resolving=!1,dC()}}return i}function y1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ya)?t[Ya]:void 0;return typeof e=="number"?e>=0?e&mC:v1:e}function z0(t,e,n){let r=1<<t;return!!(n[e+(t>>gC)]&r)}function G0(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}var zi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return IC(this._tNode,this._lView,e,dd(r),n)}};function v1(){return new zi(Kt(),fe())}function Rn(t){return ic(()=>{let e=t.prototype.constructor,n=e[Ul]||Fm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ul]||Fm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fm(t){return mD(t)?()=>{let e=Fm(Pt(t));return e&&e()}:Gi(t)}function _1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!(s[X]&512);){let a=wC(o,s,n,r|ue.Self,$n);if(a!==$n)return a;let u=o.parent;if(!u){let l=s[$D];if(l){let h=l.get(n,$n,r);if(h!==$n)return h}u=EC(s),s=s[Is]}o=u}return i}function EC(t){let e=t[oe],n=e.type;return n===2?e.declTNode:n===1?t[zt]:null}function kg(t){return p1(Kt(),t)}function W0(t,e=null,n=null,r){let i=DC(t,e,n,r);return i.resolveInjectorInitializers(),i}function DC(t,e=null,n=null,r,i=new Set){let o=[n||Ht,EP(t)];return r=r||(typeof t=="object"?void 0:qt(t)),new Xa(o,e||wg(),r||null,i)}var yt=class t{static{this.THROW_IF_NOT_FOUND=Za}static{this.NULL=new $l}static create(e,n){if(Array.isArray(e))return W0({name:""},n,e,"");{let r=e.name??"";return W0({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=G({token:t,providedIn:"any",factory:()=>ee(bD)})}static{this.__NG_ELEMENT_ID__=-1}};var I1=new H("");I1.__NG_ELEMENT_ID__=t=>{let e=Kt();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&ue.Optional)return null;throw new z(204,!1)};var w1="ngOriginalError";function hm(t){return t[w1]}var CC=!0,Og=(()=>{class t{static{this.__NG_ELEMENT_ID__=E1}static{this.__NG_ENV_ID__=n=>n}}return t})(),Lm=class extends Og{constructor(e){super(),this._lView=e}onDestroy(e){return JD(this._lView,e),()=>$P(this._lView,e)}};function E1(){return new Lm(fe())}var Es=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new at(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Vm=class extends lt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,BD()&&(this.destroyRef=k(Og,{optional:!0})??void 0,this.pendingTasks=k(Es,{optional:!0})??void 0)}emit(e){let n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Xe=Vm;function Zl(...t){}function bC(t){let e,n;function r(){t=Zl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function K0(t){return queueMicrotask(()=>t()),()=>{t=Zl}}var Fg="isAngularZone",Jl=Fg+"_ID",D1=0,be=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=CC}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,T1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Fg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,C1,Zl,Zl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},C1={};function Lg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function b1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){bC(()=>{t.callbackScheduled=!1,Um(t),t.isCheckStableRunning=!0,Lg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Um(t)}function T1(t){let e=()=>{b1(t)},n=D1++;t._inner=t._inner.fork({name:"angular",properties:{[Fg]:!0,[Jl]:n,[Jl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(S1(u))return r.invokeTask(o,s,a,u);try{return Q0(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Y0(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Q0(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!A1(u)&&e(),Y0(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Um(t),Lg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Um(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Q0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Y0(t){t._nesting--,Lg(t)}var jm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function S1(t){return TC(t,"__ignore_ng_zone__")}function A1(t){return TC(t,"__scheduler_tick__")}function TC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var gr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&hm(e);for(;n&&hm(n);)n=hm(n);return n||null}},R1=new H("",{providedIn:"root",factory:()=>{let t=k(be),e=k(gr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function M1(){return Vg(Kt(),fe())}function Vg(t,e){return new Mn(fn(t,e))}var Mn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=M1}}return t})();function SC(t){return(t.flags&128)===128}var AC=new Map,N1=0;function x1(){return N1++}function P1(t){AC.set(t[fd],t)}function Bm(t){AC.delete(t[fd])}var Z0="__ngContext__";function Zi(t,e){ei(e)?(t[Z0]=e[fd],P1(e)):t[Z0]=e}function RC(t){return NC(t[ec])}function MC(t){return NC(t[Sn])}function NC(t){for(;t!==null&&!Ir(t);)t=t[Sn];return t}var $m;function xC(t){$m=t}function k1(){if($m!==void 0)return $m;if(typeof document<"u")return document;throw new z(210,!1)}var Ug=new H("",{providedIn:"root",factory:()=>O1}),O1="ng",jg=new H(""),Kn=new H("",{providedIn:"platform",factory:()=>"unknown"});var Bg=new H("",{providedIn:"root",factory:()=>k1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var F1="h",L1="b";var V1=()=>null;function $g(t,e,n=!1){return V1(t,e,n)}var PC=!1,U1=new H("",{providedIn:"root",factory:()=>PC});var Ml;function j1(){if(Ml===void 0&&(Ml=null,qi.trustedTypes))try{Ml=qi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ml}function J0(t){return j1()?.createScriptURL(t)||t}var Xl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fD})`}};function Ds(t){return t instanceof Xl?t.changingThisBreaksApplicationSecurity:t}function Hg(t,e){let n=B1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fD})`)}return n===e}function B1(t){return t instanceof Xl&&t.getTypeName()||null}var $1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kC(t){return t=String(t),t.match($1)?t:"unsafe:"+t}var vd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vd||{});function H1(t){let e=FC();return e?e.sanitize(vd.URL,t)||"":Hg(t,"URL")?Ds(t):kC(ns(t))}function q1(t){let e=FC();if(e)return J0(e.sanitize(vd.RESOURCE_URL,t)||"");if(Hg(t,"ResourceURL"))return J0(Ds(t));throw new z(904,!1)}function z1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?q1:H1}function OC(t,e,n){return z1(e,n)(t)}function FC(){let t=fe();return t&&t[qn].sanitizer}function LC(t){return t instanceof Function?t():t}function G1(t){return(t??k(yt)).get(Kn)==="browser"}var yr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yr||{}),W1;function qg(t,e){return W1(t,e)}function Jo(t,e,n,r,i){if(r!=null){let o,s=!1;Ir(r)?o=r:ei(r)&&(s=!0,r=r[_r]);let a=zn(r);t===0&&n!==null?i==null?$C(e,n,a):ed(e,n,a,i||null,!0):t===1&&n!==null?ed(e,n,a,i||null,!0):t===2?sk(e,a,s):t===3&&e.destroyNode(a),o!=null&&ck(e,t,o,n,i)}}function K1(t,e){return t.createText(e)}function Q1(t,e,n){t.setValue(e,n)}function VC(t,e,n){return t.createElement(e,n)}function Y1(t,e){UC(t,e),e[_r]=null,e[zt]=null}function Z1(t,e,n,r,i,o){r[_r]=i,r[zt]=e,Id(t,r,n,1,i,o)}function UC(t,e){e[qn].changeDetectionScheduler?.notify(9),Id(t,e,e[We],2,null,null)}function J1(t){let e=t[ec];if(!e)return fm(t[oe],t);for(;e;){let n=null;if(ei(e))n=e[ec];else{let r=e[kt];r&&(n=r)}if(!n){for(;e&&!e[Sn]&&e!==t;)ei(e)&&fm(e[oe],e),e=e[Ot];e===null&&(e=t),ei(e)&&fm(e[oe],e),n=e&&e[Sn]}e=n}}function X1(t,e,n,r){let i=kt+r,o=n.length;r>0&&(n[i-1][Sn]=e),r<o-kt?(e[Sn]=n[i],CD(n,kt+r,e)):(n.push(e),e[Sn]=null),e[Ot]=n;let s=e[cs];s!==null&&n!==s&&jC(s,e);let a=e[us];a!==null&&a.insertView(t),Nm(e),e[X]|=128}function jC(t,e){let n=t[zl],r=e[Ot];if(ei(r))t[X]|=Gl.HasTransplantedViews;else{let i=r[Ot][nn];e[nn]!==i&&(t[X]|=Gl.HasTransplantedViews)}n===null?t[zl]=[e]:n.push(e)}function zg(t,e){let n=t[zl],r=n.indexOf(e);n.splice(r,1)}function tc(t,e){if(t.length<=kt)return;let n=kt+e,r=t[n];if(r){let i=r[cs];i!==null&&i!==t&&zg(i,r),e>0&&(t[n-1][Sn]=r[Sn]);let o=Bl(t,kt+e);Y1(r[oe],r);let s=o[us];s!==null&&s.detachView(o[oe]),r[Ot]=null,r[Sn]=null,r[X]&=-129}return r}function _d(t,e){if(!(e[X]&256)){let n=e[We];n.destroyNode&&Id(t,e,n,3,null,null),J1(e)}}function fm(t,e){if(e[X]&256)return;let n=he(null);try{e[X]&=-129,e[X]|=256,e[dn]&&jp(e[dn]),tk(t,e),ek(t,e),e[oe].type===1&&e[We].destroy();let r=e[cs];if(r!==null&&Ir(e[Ot])){r!==e[Ot]&&zg(r,e);let i=e[us];i!==null&&i.detachView(t)}Bm(e)}finally{he(n)}}function ek(t,e){let n=t.cleanup,r=e[Hl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Hl]=null);let i=e[Xr];if(i!==null){e[Xr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function tk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Yi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Bn(4,a,u);try{u.call(a)}finally{Bn(5,a,u)}}else{Bn(4,i,o);try{o.call(i)}finally{Bn(5,i,o)}}}}}function BC(t,e,n){return nk(t,e.parent,n)}function nk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[_r];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Hn.None||o===Hn.Emulated)return null}return fn(r,n)}}function ed(t,e,n,r,i){t.insertBefore(e,n,r,i)}function $C(t,e,n){t.appendChild(e,n)}function X0(t,e,n,r,i){r!==null?ed(t,e,n,r,i):$C(t,e,n)}function HC(t,e){return t.parentNode(e)}function rk(t,e){return t.nextSibling(e)}function qC(t,e,n){return ok(t,e,n)}function ik(t,e,n){return t.type&40?fn(t,n):null}var ok=ik,eD;function Gg(t,e,n,r){let i=BC(t,r,e),o=e[We],s=r.parent||e[zt],a=qC(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)X0(o,i,n[u],a,!1);else X0(o,i,n,a,!1);eD!==void 0&&eD(o,r,e,n,i)}function Qa(t,e){if(e!==null){let n=e.type;if(n&3)return fn(e,t);if(n&4)return Hm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Qa(t,r);{let i=t[e.index];return Ir(i)?Hm(-1,i):zn(i)}}else{if(n&128)return Qa(t,e.next);if(n&32)return qg(e,t)()||zn(t[e.index]);{let r=zC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ki(t[nn]);return Qa(i,r)}else return Qa(t,e.next)}}}return null}function zC(t,e){if(e!==null){let r=t[nn][zt],i=e.projection;return r.projection[i]}return null}function Hm(t,e){let n=kt+t+1;if(n<e.length){let r=e[n],i=r[oe].firstChild;if(i!==null)return Qa(r,i)}return e[Wi]}function sk(t,e,n){t.removeChild(null,e,n)}function Wg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Zi(zn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Wg(t,e,n.child,r,i,o,!1),Jo(e,t,i,a,o);else if(u&32){let l=qg(n,r),h;for(;h=l();)Jo(e,t,i,h,o);Jo(e,t,i,a,o)}else u&16?GC(t,e,r,n,i,o):Jo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Id(t,e,n,r,i,o){Wg(n,r,t.firstChild,e,i,o,!1)}function ak(t,e,n){let r=e[We],i=BC(t,n,e),o=n.parent||e[zt],s=qC(o,n,e);GC(r,0,e,n,i,s)}function GC(t,e,n,r,i,o){let s=n[nn],u=s[zt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Jo(e,t,i,h,o)}else{let l=u,h=s[Ot];SC(r)&&(l.flags|=128),Wg(t,e,l,h,i,o,!0)}}function ck(t,e,n,r,i){let o=n[Wi],s=zn(n);o!==s&&Jo(e,t,r,o,i);for(let a=kt;a<n.length;a++){let u=n[a];Id(u[oe],u,t,e,r,o)}}function uk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:yr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yr.Important),t.setStyle(n,r,i,o))}}function lk(t,e,n){t.setAttribute(e,"style",n)}function WC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function KC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&bm(t,e,r),i!==null&&WC(t,e,i),o!==null&&lk(t,e,o)}var rn={};function F(t=1){QC(vt(),fe(),wr()+t,!1)}function QC(t,e,n,r){if(!r)if((e[X]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ol(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fl(e,o,0,n)}Qi(n)}function ce(t,e=ue.Default){let n=fe();if(n===null)return ee(t,e);let r=Kt();return IC(r,n,Pt(t),e)}function YC(){let t="invalid";throw new Error(t)}function ZC(t,e,n,r,i,o){let s=he(null);try{let a=null;i&ti.SignalBased&&(a=e[r][fr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ti.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):zD(e,a,r,o)}finally{he(s)}}function dk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Qi(~i);else{let o=i,s=n[++r],a=n[++r];XP(s,o);let u=e[o];a(2,u)}}}finally{Qi(-1)}}function wd(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[_r]=i,p[X]=r|4|128|8|64,(l!==null||t&&t[X]&2048)&&(p[X]|=2048),YD(p),p[Ot]=p[Is]=t,p[bt]=n,p[qn]=s||t&&t[qn],p[We]=a||t&&t[We],p[as]=u||t&&t[as]||null,p[zt]=o,p[fd]=x1(),p[ss]=h,p[$D]=l,p[nn]=e.type==2?t[nn]:p,p}function ac(t,e,n,r,i){let o=t.data[e];if(o===null)o=hk(t,e,n,r,i),JP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=KP();o.injectorIndex=s===null?-1:s.injectorIndex}return sc(o,!0),o}function hk(t,e,n,r,i){let o=nC(),s=rC(),a=s?o:o&&o.parent,u=t.data[e]=yk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function JC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function XC(t,e,n,r,i){let o=wr(),s=r&2;try{Qi(-1),s&&e.length>gt&&QC(t,e,gt,!1),Bn(s?2:0,i),n(r,i)}finally{Qi(o),Bn(s?3:1,i)}}function eb(t,e,n){if(qD(e)){let r=he(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{he(r)}}}function tb(t,e,n){eC()&&(Dk(t,e,n,fn(n,e)),(n.flags&64)===64&&ab(t,e,n))}function nb(t,e,n=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function rb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Kg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Kg(t,e,n,r,i,o,s,a,u,l,h){let p=gt+r,g=p+i,y=fk(p,g),b=typeof l=="function"?l():l;return y[oe]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function fk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:rn);return n}function pk(t,e,n,r){let o=r.get(U1,PC)||n===Hn.ShadowDom,s=t.selectRootElement(e,o);return mk(s),s}function mk(t){gk(t)}var gk=()=>null;function yk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return tC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function tD(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ti.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?nD(r,n,l,a,u):nD(r,n,l,a)}return r}function nD(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function vk(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,y=g?g.inputs:null,b=g?g.outputs:null;u=tD(0,p.inputs,h,u,y),l=tD(1,p.outputs,h,l,b);let M=u!==null&&s!==null&&!vg(e)?kk(u,h,s):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function _k(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ib(t,e,n,r,i,o,s,a){let u=fn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Qg(t,n,h,r,i),pd(e)&&Ik(n,e.index)):e.type&3?(r=_k(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Ik(t,e){let n=si(e,t);n[X]&16||(n[X]|=64)}function ob(t,e,n,r){if(eC()){let i=r===null?null:{"":-1},o=bk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&sb(t,e,n,s,i,a),i&&Tk(n,r,i)}n.mergedAttrs=Ja(n.mergedAttrs,n.attrs)}function sb(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Om(Yl(n,e),t,r[l].type);Ak(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=JC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ja(n.mergedAttrs,h.hostAttrs),Rk(t,n,e,u,h),Sk(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}vk(t,n,o)}function wk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Ek(s)!=a&&s.push(a),s.push(n,r,o)}}function Ek(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Dk(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;pd(n)&&Mk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Yl(n,e),Zi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=ds(e,t,a,n);if(Zi(l,e),s!==null&&Pk(e,a-i,l,u,n,s),ri(u)){let h=si(n.index,e);h[bt]=ds(e,t,a,n)}}}function ab(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=e1();try{Qi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];xm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ck(u,l)}}finally{Qi(-1),xm(s)}}function Ck(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function bk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(MD(e,s.selectors,!1))if(r||(r=[]),ri(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;qm(t,e,u)}else r.unshift(s),qm(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function qm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Tk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function Sk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ri(e)&&(n[""]=t)}}function Ak(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Rk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Gi(i.type,!0)),s=new Yi(o,ri(i),ce);t.blueprint[r]=s,n[r]=s,wk(t,e,r,JC(t,n,i.hostVars,rn),i)}function Mk(t,e,n){let r=fn(e,t),i=rb(n),o=t[qn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ed(t,wd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Nk(t,e,n,r,i,o){let s=fn(t,e);xk(e[We],s,o,t.value,n,r,i)}function xk(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ns(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Pk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];ZC(r,n,u,l,h,p)}}function kk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function cb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ub(t,e){let n=t.contentQueries;if(n!==null){let r=he(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];sC(o),a.contentQueries(2,e[s],s)}}}finally{he(r)}}}function Ed(t,e){return t[ec]?t[B0][Sn]=e:t[ec]=e,t[B0]=e,e}function zm(t,e,n){sC(0);let r=he(null);try{e(t,n)}finally{he(r)}}function Ok(t){return t[Hl]??=[]}function Fk(t){return t.cleanup??=[]}function lb(t,e){let n=t[as],r=n?n.get(gr,null):null;r&&r.handleError(e)}function Qg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];ZC(h,l,r,a,u,i)}}function db(t,e,n){let r=QD(e,t);Q1(t[We],r,n)}function Lk(t,e){let n=si(e,t),r=n[oe];Vk(r,n);let i=n[_r];i!==null&&n[ss]===null&&(n[ss]=$g(i,n[as])),Yg(r,n,n[bt])}function Vk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Yg(t,e,n){Sg(e);try{let r=t.viewQuery;r!==null&&zm(1,r,n);let i=t.template;i!==null&&XC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[us]?.finishViewCreation(t),t.staticContentQueries&&ub(t,e),t.staticViewQueries&&zm(2,t.viewQuery,n);let o=t.components;o!==null&&Uk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,Ag()}}function Uk(t,e){for(let n=0;n<e.length;n++)Lk(t,e[n])}function Dd(t,e,n,r){let i=he(null);try{let o=e.tView,a=t[X]&4096?4096:16,u=wd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[cs]=l;let h=t[us];return h!==null&&(u[us]=h.createEmbeddedView(o)),Yg(o,u,n),u}finally{he(i)}}function hb(t,e){let n=kt+e;if(n<t.length)return t[n]}function hs(t,e){return!e||e.firstChild===null||SC(t)}function cc(t,e,n,r=!0){let i=e[oe];if(X1(i,e,t,n),r){let s=Hm(n,t),a=e[We],u=HC(a,t[Wi]);u!==null&&Z1(i,t[zt],a,e,u,s)}let o=e[ss];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fb(t,e){let n=tc(t,e);return n!==void 0&&_d(n[oe],n),n}function td(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(zn(o)),Ir(o)&&jk(o,r);let s=n.type;if(s&8)td(t,e,n.child,r);else if(s&32){let a=qg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=zC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ki(e[nn]);td(u[oe],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function jk(t,e){for(let n=kt;n<t.length;n++){let r=t[n],i=r[oe].firstChild;i!==null&&td(r[oe],r,i,e)}t[Wi]!==t[_r]&&e.push(t[Wi])}var pb=[];function Bk(t){return t[dn]??$k(t)}function $k(t){let e=pb.pop()??Object.create(qk);return e.lView=t,e}function Hk(t){t.lView[dn]!==t&&(t.lView=null,pb.push(t))}var qk=me(U({},qa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{gd(t.lView)},consumerOnSignalRead(){this.lView[dn]=this}});function zk(t){let e=t[dn]??Object.create(Gk);return e.lView=t,e}var Gk=me(U({},qa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ki(t.lView);for(;e&&!mb(e[oe]);)e=Ki(e);e&&ZD(e)},consumerOnSignalRead(){this.lView[dn]=this}});function mb(t){return t.type!==2}var Wk=100;function gb(t,e=!0,n=0){let r=t[qn],i=r.rendererFactory,o=!1;o||i.begin?.();try{Kk(t,n)}catch(s){throw e&&lb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Kk(t,e){let n=oC();try{H0(!0),Gm(t,e);let r=0;for(;md(t);){if(r===Wk)throw new z(103,!1);r++,Gm(t,1)}}finally{H0(n)}}function Qk(t,e,n,r){let i=e[X];if((i&256)===256)return;let o=!1,s=!1;!o&&e[qn].inlineEffectRunner?.flush(),Sg(e);let a=!0,u=null,l=null;o||(mb(t)?(l=Bk(e),u=Xu(l)):WE()===null?(a=!1,l=zk(e),u=Xu(l)):e[dn]&&(jp(e[dn]),e[dn]=null));try{YD(e),ZP(t.bindingStartIndex),n!==null&&XC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Ol(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Fl(e,y,0,null),um(e,0)}if(s||Yk(e),yb(e,0),t.contentQueries!==null&&ub(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Ol(e,y)}else{let y=t.contentHooks;y!==null&&Fl(e,y,1),um(e,1)}dk(t,e);let p=t.components;p!==null&&_b(e,p,0);let g=t.viewQuery;if(g!==null&&zm(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Ol(e,y)}else{let y=t.viewHooks;y!==null&&Fl(e,y,2),um(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[cm]){for(let y of e[cm])y();e[cm]=null}o||(e[X]&=-73)}catch(h){throw o||gd(e),h}finally{l!==null&&(Vp(l,u),a&&Hk(l)),Ag()}}function yb(t,e){for(let n=RC(t);n!==null;n=MC(n))for(let r=kt;r<n.length;r++){let i=n[r];vb(i,e)}}function Yk(t){for(let e=RC(t);e!==null;e=MC(e)){if(!(e[X]&Gl.HasTransplantedViews))continue;let n=e[zl];for(let r=0;r<n.length;r++){let i=n[r];ZD(i)}}}function Zk(t,e,n){let r=si(e,t);vb(r,n)}function vb(t,e){bg(t)&&Gm(t,e)}function Gm(t,e){let r=t[oe],i=t[X],o=t[dn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Up(o)),s||=!1,o&&(o.dirty=!1),t[X]&=-9217,s)Qk(r,t,r.template,t[bt]);else if(i&8192){yb(t,1);let a=r.components;a!==null&&_b(t,a,1)}}function _b(t,e,n){for(let r=0;r<e.length;r++)Zk(t,e[r],n)}function Zg(t,e){let n=oC()?64:1088;for(t[qn].changeDetectionScheduler?.notify(e);t;){t[X]|=n;let r=Ki(t);if(Rm(t)&&!r)return t;t=r}return null}var fs=class{get rootNodes(){let e=this._lView,n=e[oe];return td(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bt]}set context(e){this._lView[bt]=e}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ot];if(Ir(e)){let n=e[ql],r=n?n.indexOf(this):-1;r>-1&&(tc(e,r),Bl(n,r))}this._attachedToViewContainer=!1}_d(this._lView[oe],this._lView)}onDestroy(e){JD(this._lView,e)}markForCheck(){Zg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){Nm(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,gb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Rm(this._lView),n=this._lView[cs];n!==null&&!e&&zg(n,this._lView),UC(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=Rm(this._lView),r=this._lView[cs];r!==null&&!n&&jC(r,this._lView),Nm(this._lView)}};var k8=new RegExp(`^(\\d+)*(${L1}|${F1})*(.*)`);var Jk=()=>null;function ps(t,e){return Jk(t,e)}var ms=class{},Cd=new H("",{providedIn:"root",factory:()=>!1});var Ib=new H(""),wb=new H(""),Wm=class{},nd=class{};function Xk(t){let e=Error(`No component factory found for ${qt(t)}.`);return e[eO]=t,e}var eO="ngComponent";var Km=class{resolveComponentFactory(e){throw Xk(e)}},gs=class{static{this.NULL=new Km}},ys=class{},Qn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>tO()}}return t})();function tO(){let t=fe(),e=Kt(),n=si(e.index,t);return(ei(n)?n:t)[We]}var nO=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}}return t})();function Qm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=wm(i,a);else if(o==2){let u=a,l=e[++s];r=wm(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var rd=class extends gs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ni(e);return new vs(n,this.ngModule)}};function rD(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ti.None;e?n.push({propName:s,templateName:r,isSignal:(a&ti.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function rO(t){let e=t.toLowerCase();return e==="svg"?VP:e==="math"?UP:null}var vs=class extends nd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=rD(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rD(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=he(null);try{i=i||this.ngModule;let s=i instanceof tn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Pm(e,s):e,u=a.get(ys,null);if(u===null)throw new z(407,!1);let l=a.get(nO,null),h=a.get(ms,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=r?pk(g,r,this.componentDef.encapsulation,a):VC(g,y,rO(y)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;b!==null&&(R=$g(b,a,!0));let j=Kg(0,null,null,1,0,null,null,null,null,null,null),q=wd(null,j,null,M,null,null,p,g,a,null,R);Sg(q);let K,de,$e=null;try{let ne=this.componentDef,D,v=null;ne.findHostDirectiveDefs?(D=[],v=new Map,ne.findHostDirectiveDefs(ne,D,v),D.push(ne)):D=[ne];let I=iO(q,b);$e=oO(I,b,ne,D,q,p,g),de=Dg(j,gt),b&&cO(g,ne,b,r),n!==void 0&&uO(de,this.ngContentSelectors,n),K=aO($e,ne,D,v,q,[lO]),Yg(j,q,null)}catch(ne){throw $e!==null&&Bm($e),Bm(q),ne}finally{Ag()}return new Ym(this.componentType,K,Vg(de,q),q,de)}finally{he(o)}}},Ym=class extends Wm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Qg(o[oe],o,i,e,n),this.previousInputValues.set(e,n);let s=si(this._tNode.index,o);Zg(s,1)}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function iO(t,e){let n=t[oe],r=gt;return t[r]=e,ac(n,r,2,"#host",null)}function oO(t,e,n,r,i,o,s){let a=i[oe];sO(r,t,e,s);let u=null;e!==null&&(u=$g(e,i[as]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=wd(i,rb(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&qm(a,t,r.length-1),Ed(i,p),i[t.index]=p}function sO(t,e,n,r){for(let i of t)e.mergedAttrs=Ja(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qm(e,e.mergedAttrs,!0),n!==null&&KC(r,n,e))}function aO(t,e,n,r,i,o){let s=Kt(),a=i[oe],u=fn(s,i);sb(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=ds(i,a,p,s);Zi(g,i)}ab(a,i,s),u&&Zi(u,i);let l=ds(i,a,s.directiveStart+s.componentOffset,s);if(t[bt]=i[bt]=l,o!==null)for(let h of o)h(l,e);return eb(a,s,i),l}function cO(t,e,n,r){if(r)bm(t,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=vP(e.selectors[0]);i&&bm(t,n,i),o&&o.length>0&&WC(t,n,o.join(" "))}}function uO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function lO(){let t=Kt();xg(fe()[oe],t)}var bd=(()=>{class t{static{this.__NG_ELEMENT_ID__=dO}}return t})();function dO(){let t=Kt();return fO(t,fe())}var hO=bd,Eb=class extends hO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vg(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Pg(this._hostTNode,this._hostLView);if(pC(e)){let n=Kl(e,this._hostLView),r=Wl(e),i=n[oe].data[r+8];return new zi(i,n)}else return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=iD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ps(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,hs(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!kP(e),a;if(s)a=n;else{let b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let u=s?e:new vs(ni(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(tn,null);M&&(o=M)}let h=ni(u.componentType??{}),p=ps(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,hs(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(jP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ot],l=new Eb(u,u[zt],u[Ot]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return cc(s,i,o,r),e.attachToViewContainerRef(),CD(pm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=iD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=tc(this._lContainer,n);r&&(Bl(pm(this._lContainer),n),_d(r[oe],r))}detach(e){let n=this._adjustIndex(e,-1),r=tc(this._lContainer,n);return r&&Bl(pm(this._lContainer),n)!=null?new fs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iD(t){return t[ql]}function pm(t){return t[ql]||(t[ql]=[])}function fO(t,e){let n,r=e[t.index];return Ir(r)?n=r:(n=cb(r,e,null,t),e[t.index]=n,Ed(e,n)),mO(n,e,t,r),new Eb(n,t,e)}function pO(t,e){let n=t[We],r=n.createComment(""),i=fn(e,t),o=HC(n,i);return ed(n,o,r,rk(n,i),!1),r}var mO=vO,gO=()=>!1;function yO(t,e,n){return gO(t,e,n)}function vO(t,e,n,r){if(t[Wi])return;let i;n.type&8?i=zn(r):i=pO(e,n),t[Wi]=i}var oD=new Set;function ai(t){oD.has(t)||(oD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function _O(t){return typeof t=="function"&&t[fr]!==void 0}function uc(t,e){ai("NgSignals");let n=i0(t),r=n[fr];return e?.equal&&(r.equal=e.equal),n.set=i=>Bp(r,i),n.update=i=>o0(r,i),n.asReadonly=IO.bind(n),n}function IO(){let t=this[fr];if(t.readonlyFn===void 0){let e=()=>this();e[fr]=t,t.readonlyFn=e}return t.readonlyFn}function Db(t){return _O(t)&&typeof t.set=="function"}function wO(t){return Object.getPrototypeOf(t.prototype).constructor}function Qt(t){let e=wO(t.type),n=!0,r=[t];for(;e;){let i;if(ri(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Nl(t.inputs),s.inputTransforms=Nl(t.inputTransforms),s.declaredInputs=Nl(t.declaredInputs),s.outputs=Nl(t.outputs);let a=i.hostBindings;a&&TO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&CO(t,u),l&&bO(t,l),EO(t,i),Vx(t.outputs,i.outputs),ri(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Qt&&(n=!1)}}e=Object.getPrototypeOf(e)}DO(r)}function EO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function DO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ja(i.hostAttrs,n=Ja(n,i.hostAttrs))}}function Nl(t){return t===rs?{}:t===Ht?[]:t}function CO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function bO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function TO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Jg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ii=class{},nc=class{};var Zm=class extends ii{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rd(this);let o=kD(e);this._bootstrapComponents=LC(o.bootstrap),this._r3Injector=DC(e,n,[{provide:ii,useValue:this},{provide:gs,useValue:this.componentFactoryResolver},...r],qt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jm=class extends nc{constructor(e){super(),this.moduleType=e}create(e){return new Zm(this.moduleType,e,[])}};var id=class extends ii{constructor(e){super(),this.componentFactoryResolver=new rd(this),this.instance=null;let n=new Xa([...e.providers,{provide:ii,useValue:this},{provide:gs,useValue:this.componentFactoryResolver}],e.parent||wg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Td(t,e,n=null){return new id({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Xg(t,e,n){return t[e]=n}function SO(t,e){return t[e]}function An(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Cb(t,e,n,r){let i=An(t,e,n);return An(t,e+1,r)||i}function AO(t){return(t.flags&32)===32}function RO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=ac(e,t,4,s||null,a||null);ob(e,n,h,ls(l,u)),xg(e,h);let p=h.tView=Kg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function od(t,e,n,r,i,o,s,a,u,l){let h=n+gt,p=e.firstCreatePass?RO(h,e,t,r,i,o,s,a,u):e.data[h];sc(p,!1);let g=MO(e,t,p,n);Mg()&&Gg(e,t,g,p),Zi(g,t);let y=cb(g,t,g,p);return t[h]=y,Ed(t,y),yO(y,p,t),Eg(p)&&tb(e,t,p),u!=null&&nb(t,p,l),p}function Le(t,e,n,r,i,o,s,a){let u=fe(),l=vt(),h=ls(l.consts,o);return od(u,l,t,e,n,r,i,h,s,a),Le}var MO=NO;function NO(t,e,n,r){return Ng(!0),e[We].createComment("")}var Xo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Xo||{}),bb=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Xm=class t{constructor(){this.ngZone=k(be),this.scheduler=k(ms),this.errorHandler=k(gr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Xo.EarlyRead,Xo.Write,Xo.MixedReadWrite,Xo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}},eg=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function ey(t,e){!e?.injector&&PP(ey);let n=e?.injector??k(yt);return G1(n)?(ai("NgAfterNextRender"),PO(t,n,e,!0)):kO}function xO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function PO(t,e,n,r){let i=e.get(bb);i.impl??=e.get(Xm);let o=n?.phase??Xo.MixedReadWrite,s=n?.manualCleanup!==!0?e.get(Og):null,a=new eg(i.impl,xO(t,o),r,s);return i.impl.register(a),a}var kO={destroy(){}};function to(t,e,n,r){let i=fe(),o=ws();if(An(i,o,e)){let s=vt(),a=Rg();Nk(a,i,t,e,n,r)}return to}function OO(t,e,n,r){return An(t,ws(),n)?e+ns(n)+r:rn}function FO(t,e,n,r,i,o){let s=YP(),a=Cb(t,s,n,i);return Tg(2),a?e+ns(n)+r+ns(i)+o:rn}function xl(t,e){return t<<17|e<<2}function Ji(t){return t>>17&32767}function LO(t){return(t&2)==2}function VO(t,e){return t&131071|e<<17}function tg(t){return t|2}function _s(t){return(t&131068)>>2}function mm(t,e){return t&-131069|e<<2}function UO(t){return(t&1)===1}function ng(t){return t|1}function jO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ji(s),u=_s(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||oc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Ji(t[a+1]);t[r+1]=xl(g,a),g!==0&&(t[g+1]=mm(t[g+1],r)),t[a+1]=VO(t[a+1],r)}else t[r+1]=xl(a,0),a!==0&&(t[a+1]=mm(t[a+1],r)),a=r;else t[r+1]=xl(u,0),a===0?a=r:t[u+1]=mm(t[u+1],r),u=r;l&&(t[r+1]=tg(t[r+1])),sD(t,h,r,!0),sD(t,h,r,!1),BO(e,h,t,r,o),s=xl(a,u),o?e.classBindings=s:e.styleBindings=s}function BO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&oc(o,e)>=0&&(n[r+1]=ng(n[r+1]))}function sD(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ji(i):_s(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];$O(u,e)&&(a=!0,t[s+1]=r?ng(l):tg(l)),s=r?Ji(l):_s(l)}a&&(t[n+1]=r?tg(i):ng(i))}function $O(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?oc(t,e)>=0:!1}var Tn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HO(t){return t.substring(Tn.key,Tn.keyEnd)}function qO(t){return zO(t),Tb(t,Sb(t,0,Tn.textEnd))}function Tb(t,e){let n=Tn.textEnd;return n===e?-1:(e=Tn.keyEnd=GO(t,Tn.key=e,n),Sb(t,e,n))}function zO(t){Tn.key=0,Tn.keyEnd=0,Tn.value=0,Tn.valueEnd=0,Tn.textEnd=t.length}function Sb(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function GO(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ke(t,e,n){let r=fe(),i=ws();if(An(r,i,e)){let o=vt(),s=Rg();ib(o,s,r,t,e,r[We],n,!1)}return Ke}function rg(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Qg(t,n,o[s],s,r)}function Cs(t,e){return KO(t,e,null,!0),Cs}function lc(t){QO(tF,WO,t,!0)}function WO(t,e){for(let n=qO(e);n>=0;n=Tb(e,n))yg(t,HO(e),!0)}function KO(t,e,n,r){let i=fe(),o=vt(),s=Tg(2);if(o.firstUpdatePass&&Rb(o,t,s,r),e!==rn&&An(i,s,e)){let a=o.data[wr()];Mb(o,a,i,i[We],t,i[s+1]=rF(e,n),r,s)}}function QO(t,e,n,r){let i=vt(),o=Tg(2);i.firstUpdatePass&&Rb(i,null,o,r);let s=fe();if(n!==rn&&An(s,o,n)){let a=i.data[wr()];if(Nb(a,r)&&!Ab(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=wm(u,n||"")),rg(i,a,s,n,r)}else nF(i,a,s,s[We],s[o+1],s[o+1]=eF(t,e,n),r,o)}}function Ab(t,e){return e>=t.expandoStartIndex}function Rb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[wr()],s=Ab(t,n);Nb(o,r)&&e===null&&!s&&(e=!1),e=YO(i,o,e,r),jO(i,o,e,n,s,r)}}function YO(t,e,n,r){let i=t1(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=gm(null,t,e,n,r),n=rc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=gm(i,t,e,n,r),o===null){let u=ZO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=gm(null,t,e,u[1],r),u=rc(u,e.attrs,r),JO(t,e,r,u))}else o=XO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function ZO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(_s(r)!==0)return t[Ji(r)]}function JO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ji(i)]=r}function XO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=rc(r,s,n)}return rc(r,e.attrs,n)}function gm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=rc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function rc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yg(t,s,n?!0:e[++o]))}return t===void 0?null:t}function eF(t,e,n){if(n==null||n==="")return Ht;let r=[],i=Ds(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function tF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&yg(t,r,n)}function nF(t,e,n,r,i,o,s,a){i===rn&&(i=Ht);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,b=null,M;h===p?(u+=2,l+=2,g!==y&&(b=p,M=y)):p===null||h!==null&&h<p?(u+=2,b=h):(l+=2,b=p,M=y),b!==null&&Mb(t,e,n,r,b,M,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function Mb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=UO(l)?aD(u,e,n,i,_s(l),s):void 0;if(!sd(h)){sd(o)||LO(l)&&(o=aD(u,null,n,i,a,s));let p=QD(wr(),n);uk(r,s,p,i,o)}}function aD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===rn&&(g=p?Ht:void 0);let y=p?sm(g,r):h===r?g:void 0;if(l&&!sd(y)&&(y=sm(u,r)),sd(y)&&(a=y,s))return a;let b=t[i+1];i=s?Ji(b):_s(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=sm(u,r))}return a}function sd(t){return t!==void 0}function rF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=qt(Ds(t)))),t}function Nb(t,e){return(t.flags&(e?8:16))!==0}var ig=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function ym(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function iF(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=ym(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),y=e[u],b=ym(s,g,u,y,n);if(b!==0){b<0&&t.updateValue(s,y),s--,u--;continue}let M=n(o,l),R=n(s,g),j=n(o,h);if(Object.is(j,R)){let q=n(u,y);Object.is(q,M)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new ad,i??=uD(t,o,s,n),og(t,r,o,j))t.updateValue(o,h),o++,s++;else if(i.has(j))r.set(M,t.detach(o)),s--;else{let q=t.create(o,e[o]);t.attach(o,q),o++,s++}}for(;o<=u;)cD(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=ym(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new ad,i??=uD(t,o,s,n);let y=n(o,p);if(og(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let b=n(o,h);r.set(b,t.detach(o)),s--}}}for(;!l.done;)cD(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function og(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function cD(t,e,n,r,i){if(og(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function uD(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var ad=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function je(t,e){ai("NgControlFlow");let n=fe(),r=ws(),i=n[r]!==rn?n[r]:-1,o=i!==-1?cd(n,gt+i):void 0,s=0;if(An(n,r,t)){let a=he(null);try{if(o!==void 0&&fb(o,s),t!==-1){let u=gt+t,l=cd(n,u),h=ug(n[oe],u),p=ps(l,h.tView.ssrId),g=Dd(n,h,e,{dehydratedView:p});cc(l,g,s,hs(h,p))}}finally{he(a)}}else if(o!==void 0){let a=hb(o,s);a!==void 0&&(a[bt]=e)}}var sg=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-kt}};function Nn(t,e){return e}var ag=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function xn(t,e,n,r,i,o,s,a,u,l,h,p,g){ai("NgControlFlow");let y=fe(),b=vt(),M=u!==void 0,R=fe(),j=a?s.bind(R[nn][bt]):s,q=new ag(M,j);R[gt+t]=q,od(y,b,t+1,e,n,r,i,ls(b.consts,o)),M&&od(y,b,t+2,u,l,h,p,ls(b.consts,g))}var cg=class extends ig{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-kt}at(e){return this.getLView(e)[bt].$implicit}attach(e,n){let r=n[ss];this.needsIndexUpdate||=e!==this.length,cc(this.lContainer,n,e,hs(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,oF(this.lContainer,e)}create(e,n){let r=ps(this.lContainer,this.templateTNode.tView.ssrId),i=Dd(this.hostLView,this.templateTNode,new sg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){_d(e[oe],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[bt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[bt].$index=e}getLView(e){return sF(this.lContainer,e)}};function Pn(t){let e=he(null),n=wr();try{let r=fe(),i=r[oe],o=r[n],s=n+1,a=cd(r,s);if(o.liveCollection===void 0){let l=ug(i,s);o.liveCollection=new cg(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(iF(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=ws(),h=u.length===0;if(An(r,l,h)){let p=n+2,g=cd(r,p);if(h){let y=ug(i,p),b=ps(g,y.tView.ssrId),M=Dd(r,y,void 0,{dehydratedView:b});cc(g,M,0,hs(y,b))}else fb(g,0)}}}finally{he(e)}}function cd(t,e){return t[e]}function oF(t,e){return tc(t,e)}function sF(t,e){return hb(t,e)}function ug(t,e){return Dg(t,e)}function aF(t,e,n,r,i,o){let s=e.consts,a=ls(s,i),u=ac(e,t,2,r,a);return ob(e,n,u,ls(s,o)),u.attrs!==null&&Qm(u,u.attrs,!1),u.mergedAttrs!==null&&Qm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function N(t,e,n,r){let i=fe(),o=vt(),s=gt+t,a=i[We],u=o.firstCreatePass?aF(s,o,i,e,n,r):o.data[s],l=cF(o,i,u,a,e,t);i[s]=l;let h=Eg(u);return sc(u,!0),KC(a,l,u),!AO(u)&&Mg()&&Gg(o,i,l,u),HP()===0&&Zi(l,i),qP(),h&&(tb(o,i,u),eb(o,u,i)),r!==null&&nb(i,u),N}function x(){let t=Kt();rC()?iC():(t=t.parent,sc(t,!1));let e=t;GP(e)&&WP(),zP();let n=vt();return n.firstCreatePass&&(xg(n,t),qD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&c1(e)&&rg(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&u1(e)&&rg(n,e,fe(),e.stylesWithoutHost,!1),x}function Te(t,e,n,r){return N(t,e,n,r),x(),Te}var cF=(t,e,n,r,i,o)=>(Ng(!0),VC(r,i,i1()));function ci(){return fe()}var Hi=void 0;function uF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var lF=["en",[["a","p"],["AM","PM"],Hi],[["AM","PM"],Hi,Hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hi,"{1} 'at' {0}",Hi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",uF],vm={};function pn(t){let e=dF(t),n=lD(e);if(n)return n;let r=e.split("-")[0];if(n=lD(r),n)return n;if(r==="en")return lF;throw new z(701,!1)}function lD(t){return t in vm||(vm[t]=qi.ng&&qi.ng.common&&qi.ng.common.locales&&qi.ng.common.locales[t]),vm[t]}var Qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Qe||{});function dF(t){return t.toLowerCase().replace(/_/g,"-")}var ud="en-US";var hF=ud;function fF(t){typeof t=="string"&&(hF=t.toLowerCase().replace(/_/g,"-"))}var pF=(t,e,n)=>{};function Tt(t,e,n,r){let i=fe(),o=vt(),s=Kt();return xb(o,i,i[We],s,t,e,r),Tt}function mF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Hl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function xb(t,e,n,r,i,o,s){let a=Eg(r),l=t.firstCreatePass&&Fk(t),h=e[bt],p=Ok(e),g=!0;if(r.type&3||s){let M=fn(r,e),R=s?s(M):M,j=p.length,q=s?de=>s(zn(de[r.index])):r.index,K=null;if(!s&&a&&(K=mF(t,e,i,r.index)),K!==null){let de=K.__ngLastListenerFn__||K;de.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,g=!1}else{o=hD(r,e,h,o),pF(M,i,o);let de=n.listen(R,i,o);p.push(o,de),l&&l.push(i,q,j,j+1)}}else o=hD(r,e,h,o);let y=r.outputs,b;if(g&&y!==null&&(b=y[i])){let M=b.length;if(M)for(let R=0;R<M;R+=2){let j=b[R],q=b[R+1],$e=e[j][q].subscribe(o),ne=p.length;p.push(o,$e),l&&l.push(i,r.index,ne,-(ne+1))}}}function dD(t,e,n,r){let i=he(null);try{return Bn(6,e,n),n(r)!==!1}catch(o){return lb(t,o),!1}finally{Bn(7,e,n),he(i)}}function hD(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?si(t.index,e):e;Zg(s,5);let a=dD(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=dD(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Lt(t=1){return r1(t)}function gF(t,e){let n=null,r=hP(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?MD(t,o,!0):mP(r,o))return i}return n}function Pb(t){let e=fe()[nn][zt];if(!e.projection){let n=t?t.length:1,r=e.projection=rP(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?gF(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function kb(t,e=0,n,r,i,o){let s=fe(),a=vt(),u=r?t+1:null;u!==null&&od(s,a,u,r,i,o,null,n);let l=ac(a,gt+t,16,null,n||null);l.projection===null&&(l.projection=e),iC();let p=!s[ss]||tC();s[nn][zt].projection[l.projection]===null&&u!==null?yF(s,a,u):p&&(l.flags&32)!==32&&ak(a,s,l)}function yF(t,e,n){let r=gt+n,i=e.data[r],o=t[r],s=ps(o,i.tView.ssrId),a=Dd(t,i,void 0,{dehydratedView:s});cc(o,a,0,hs(i,s))}function vF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function bs(t){let e=QP();return Cg(e,gt+t)}function V(t,e=""){let n=fe(),r=vt(),i=t+gt,o=r.firstCreatePass?ac(r,i,1,e,null):r.data[i],s=_F(r,n,o,e,t);n[i]=s,Mg()&&Gg(r,n,s,o),sc(o,!1)}var _F=(t,e,n,r,i)=>(Ng(!0),K1(e[We],r));function pe(t){return dt("",t,""),pe}function dt(t,e,n){let r=fe(),i=OO(r,t,e,n);return i!==rn&&db(r,wr(),i),dt}function ty(t,e,n,r,i){let o=fe(),s=FO(o,t,e,n,r,i);return s!==rn&&db(o,wr(),s),ty}function Er(t,e,n){Db(e)&&(e=e());let r=fe(),i=ws();if(An(r,i,e)){let o=vt(),s=Rg();ib(o,s,r,t,e,r[We],n,!1)}return Er}function ui(t,e){let n=Db(t);return n&&t.set(e),n}function Dr(t,e){let n=fe(),r=vt(),i=Kt();return xb(r,n,n[We],i,t,e),Dr}function IF(t,e,n){let r=vt();if(r.firstCreatePass){let i=ri(t);lg(n,r.data,r.blueprint,i,!0),lg(e,r.data,r.blueprint,i,!1)}}function lg(t,e,n,r,i){if(t=Pt(t),Array.isArray(t))for(let o=0;o<t.length;o++)lg(t[o],e,n,r,i);else{let o=vt(),s=fe(),a=Kt(),u=os(t)?t:Pt(t.provide),l=jD(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(os(t)||!t.multi){let y=new Yi(l,i,ce),b=Im(u,e,i?h:h+g,p);b===-1?(Om(Yl(a,s),o,u),_m(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=Im(u,e,h+g,p),b=Im(u,e,h,h+g),M=y>=0&&n[y],R=b>=0&&n[b];if(i&&!R||!i&&!M){Om(Yl(a,s),o,u);let j=DF(i?EF:wF,n.length,i,r,l);!i&&R&&(n[b].providerFactory=j),_m(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=Ob(n[i?b:y],l,!i&&r);_m(o,t,y>-1?y:b,j)}!i&&r&&R&&n[b].componentProviders++}}}function _m(t,e,n,r){let i=os(e),o=TP(e);if(i||o){let u=(o?Pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Ob(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Im(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wF(t,e,n,r){return dg(this.multi,[])}function EF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ds(n,n[oe],this.providerFactory.index,r);o=a.slice(0,s),dg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],dg(i,o);return o}function dg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function DF(t,e,n,r,i){let o=new Yi(t,n,ce);return o.multi=[],o.index=e,o.componentProviders=0,Ob(o,i,r&&!n),o}function Yn(t,e=[]){return n=>{n.providersResolver=(r,i)=>IF(r,i?i(t):t,e)}}var CF=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=LD(!1,n.type),i=r.length>0?Td([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(ee(tn))})}}return t})();function Me(t){ai("NgStandalone"),t.getStandaloneInjector=e=>e.get(CF).getOrCreateStandaloneInjector(t)}function dc(t,e,n){let r=yd()+t,i=fe();return i[r]===rn?Xg(i,r,n?e.call(n):e()):SO(i,r)}function Sd(t,e,n,r){return Lb(fe(),yd(),t,e,n,r)}function Fb(t,e){let n=t[e];return n===rn?void 0:n}function Lb(t,e,n,r,i,o){let s=e+n;return An(t,s,i)?Xg(t,s+1,o?r.call(o,i):r(i)):Fb(t,s+1)}function bF(t,e,n,r,i,o,s){let a=e+n;return Cb(t,a,i,o)?Xg(t,a+2,s?r.call(s,i,o):r(i,o)):Fb(t,a+2)}function Ye(t,e){let n=vt(),r,i=t+gt;n.firstCreatePass?(r=TF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Gi(r.type,!0)),s,a=$t(ce);try{let u=Ql(!1),l=o();return Ql(u),vF(n,fe(),i,l),l}finally{$t(a)}}function TF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Zn(t,e,n){let r=t+gt,i=fe(),o=Cg(i,r);return Vb(i,r)?Lb(i,yd(),e,o.transform,n,o):o.transform(n)}function mn(t,e,n,r){let i=t+gt,o=fe(),s=Cg(o,i);return Vb(o,i)?bF(o,yd(),e,s.transform,n,r,s):s.transform(n,r)}function Vb(t,e){return t[oe].data[e].pure}var vr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ub=new vr("18.2.13");var Ad=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var jb=new H("");function li(t){return!!t&&typeof t.then=="function"}function ny(t){return!!t&&typeof t.subscribe=="function"}var Rd=new H(""),Bb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(Rd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(li(o))n.push(o);else if(ny(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Md=new H("");function SF(){r0(()=>{throw new z(600,!1)})}function AF(t){return t.isBoundToModule}var RF=10;function MF(t,e,n){try{let r=n();return li(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var no=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(R1),this.afterRenderManager=k(bb),this.zonelessEnabled=k(Cd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new lt,this.afterTick=new lt,this.componentTypes=[],this.components=[],this.isStable=k(Es).hasPendingTasks.pipe(Y(n=>!n)),this._injector=k(tn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof nd;if(!this._injector.get(Bb).done){let g=!i&&PD(n),y=!1;throw new z(405,y)}let s;i?s=n:s=this._injector.get(gs).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=AF(s)?void 0:this._injector.get(ii),u=r||s.selector,l=s.create(yt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(jb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ll(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let n=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ys,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<RF;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)NF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>md(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ll(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Md,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ll(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ll(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function NF(t,e,n,r){if(!n&&!md(t))return;gb(t,e,n&&!r?0:1)}var hg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Nd=(()=>{class t{compileModuleSync(n){return new Jm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=kD(n),o=LC(i.declarations).reduce((s,a)=>{let u=ni(a);return u&&s.push(new vs(u)),s},[]);return new hg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xF=(()=>{class t{constructor(){this.zone=k(be),this.changeDetectionScheduler=k(ms),this.applicationRef=k(no)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PF=new H("",{factory:()=>!1});function $b({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new be(me(U({},qb()),{scheduleInRootZone:n})),[{provide:be,useFactory:t},{provide:is,multi:!0,useFactory:()=>{let r=k(xF,{optional:!0});return()=>r.initialize()}},{provide:is,multi:!0,useFactory:()=>{let r=k(kF);return()=>{r.initialize()}}},e===!0?{provide:Ib,useValue:!0}:[],{provide:wb,useValue:n??CC}]}function Hb(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=$b({ngZoneFactory:()=>{let i=qb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ai("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Gn([{provide:PF,useValue:!0},{provide:Cd,useValue:!1},r])}function qb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kF=(()=>{class t{constructor(){this.subscription=new qe,this.initialized=!1,this.zone=k(be),this.pendingTasks=k(Es)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var OF=(()=>{class t{constructor(){this.appRef=k(no),this.taskService=k(Es),this.ngZone=k(be),this.zonelessEnabled=k(Cd),this.disableScheduling=k(Ib,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new qe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Jl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(wb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jm||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?K0:bC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Jl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,K0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FF(){return typeof $localize<"u"&&$localize.locale||ud}var xd=new H("",{providedIn:"root",factory:()=>k(xd,ue.Optional|ue.SkipSelf)||FF()});var fg=new H("");function Pl(t){return!t.moduleRef}function LF(t){let e=Pl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(be);return n.run(()=>{Pl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(gr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Pl(t)){let o=()=>e.destroy(),s=t.platformInjector.get(fg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(fg);s.add(o),t.moduleRef.onDestroy(()=>{Ll(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return MF(r,n,()=>{let o=e.get(Bb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(xd,ud);if(fF(s||ud),Pl(t)){let a=e.get(no);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return VF(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function VF(t,e){let n=t.injector.get(no);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}var Vl=null;function UF(t=[],e){return yt.create({name:e,providers:[{provide:hd,useValue:"platform"},{provide:fg,useValue:new Set([()=>Vl=null])},...t]})}function jF(t=[]){if(Vl)return Vl;let e=UF(t);return Vl=e,SF(),BF(e),e}function BF(t){t.get(jg,null)?.forEach(n=>n())}var di=(()=>{class t{static{this.__NG_ELEMENT_ID__=$F}}return t})();function $F(t){return HF(Kt(),fe(),(t&16)===16)}function HF(t,e,n){if(pd(t)&&!n){let r=si(t.index,e);return new fs(r,r)}else if(t.type&175){let r=e[nn];return new fs(r,e)}return null}function zb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=jF(r),o=[$b({}),{provide:ms,useExisting:OF},...n||[]],s=new id({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return LF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Cr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function hc(t,e){ai("NgSignals");let n=e0(t);return e?.equal&&(n[fr].equal=e.equal),n}function kn(t){let e=he(null);try{return t()}finally{he(e)}}function Gb(t){let e=ni(t);if(!e)return null;let n=new vs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Zb=null;function Ar(){return Zb}function Jb(t){Zb??=t}var Bd=class{};var Yt=new H(""),dy=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(qF),providedIn:"platform"})}}return t})(),Xb=new H(""),qF=(()=>{class t extends dy{constructor(){super(),this._doc=k(Yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ar().getBaseHref(this._doc)}onPopState(n){let r=Ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function hy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Wb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Tr(t){return t&&t[0]!=="?"?"?"+t:t}var Rr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(fy),providedIn:"root"})}}return t})(),eT=new H(""),fy=(()=>{class t extends Rr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hy(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ee(dy),ee(eT,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tT=(()=>{class t extends Rr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=hy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ee(dy),ee(eT,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Ts=(()=>{class t{constructor(n){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=WF(Wb(Kb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Tr(r))}normalize(n){return t.stripTrailingSlash(GF(this._basePath,Kb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Tr}static{this.joinWithSlash=hy}static{this.stripTrailingSlash=Wb}static{this.\u0275fac=function(r){return new(r||t)(ee(Rr))}}static{this.\u0275prov=G({token:t,factory:()=>zF(),providedIn:"root"})}}return t})();function zF(){return new Ts(ee(Rr))}function GF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Kb(t){return t.replace(/\/index.html$/,"")}function WF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Vt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Vt||{}),Pe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Pe||{}),on=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(on||{}),hi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function KF(t){return pn(t)[Qe.LocaleId]}function QF(t,e,n){let r=pn(t),i=[r[Qe.DayPeriodsFormat],r[Qe.DayPeriodsStandalone]],o=gn(i,e);return gn(o,n)}function YF(t,e,n){let r=pn(t),i=[r[Qe.DaysFormat],r[Qe.DaysStandalone]],o=gn(i,e);return gn(o,n)}function ZF(t,e,n){let r=pn(t),i=[r[Qe.MonthsFormat],r[Qe.MonthsStandalone]],o=gn(i,e);return gn(o,n)}function JF(t,e){let r=pn(t)[Qe.Eras];return gn(r,e)}function Pd(t,e){let n=pn(t);return gn(n[Qe.DateFormat],e)}function kd(t,e){let n=pn(t);return gn(n[Qe.TimeFormat],e)}function Od(t,e){let r=pn(t)[Qe.DateTimeFormat];return gn(r,e)}function qd(t,e){let n=pn(t),r=n[Qe.NumberSymbols][e];if(typeof r>"u"){if(e===hi.CurrencyDecimal)return n[Qe.NumberSymbols][hi.Decimal];if(e===hi.CurrencyGroup)return n[Qe.NumberSymbols][hi.Group]}return r}function nT(t){if(!t[Qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function XF(t){let e=pn(t);return nT(e),(e[Qe.ExtraData][2]||[]).map(r=>typeof r=="string"?ry(r):[ry(r[0]),ry(r[1])])}function eL(t,e,n){let r=pn(t);nT(r);let i=[r[Qe.ExtraData][0],r[Qe.ExtraData][1]],o=gn(i,e)||[];return gn(o,n)||[]}function gn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function ry(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var tL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fd={},nL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Sr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Sr||{}),Ce=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ce||{}),De=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(De||{});function rL(t,e,n,r){let i=hL(t);e=br(n,e)||e;let s=[],a;for(;e;)if(a=nL.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=iT(r,u),i=dL(i,r,!0));let l="";return s.forEach(h=>{let p=uL(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function $d(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function br(t,e){let n=KF(t);if(Fd[n]??={},Fd[n][e])return Fd[n][e];let r="";switch(e){case"shortDate":r=Pd(t,on.Short);break;case"mediumDate":r=Pd(t,on.Medium);break;case"longDate":r=Pd(t,on.Long);break;case"fullDate":r=Pd(t,on.Full);break;case"shortTime":r=kd(t,on.Short);break;case"mediumTime":r=kd(t,on.Medium);break;case"longTime":r=kd(t,on.Long);break;case"fullTime":r=kd(t,on.Full);break;case"short":let i=br(t,"shortTime"),o=br(t,"shortDate");r=Ld(Od(t,on.Short),[i,o]);break;case"medium":let s=br(t,"mediumTime"),a=br(t,"mediumDate");r=Ld(Od(t,on.Medium),[s,a]);break;case"long":let u=br(t,"longTime"),l=br(t,"longDate");r=Ld(Od(t,on.Long),[u,l]);break;case"full":let h=br(t,"fullTime"),p=br(t,"fullDate");r=Ld(Od(t,on.Full),[h,p]);break}return r&&(Fd[n][e]=r),r}function Ld(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function On(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function iL(t,e){return On(t,3).substring(0,e)}function tt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=oL(t,o);if((n>0||a>-n)&&(a+=n),t===Ce.Hours)a===0&&n===-12&&(a=12);else if(t===Ce.FractionalSeconds)return iL(a,e);let u=qd(s,hi.MinusSign);return On(a,e,u,r,i)}}function oL(t,e){switch(t){case Ce.FullYear:return e.getFullYear();case Ce.Month:return e.getMonth();case Ce.Date:return e.getDate();case Ce.Hours:return e.getHours();case Ce.Minutes:return e.getMinutes();case Ce.Seconds:return e.getSeconds();case Ce.FractionalSeconds:return e.getMilliseconds();case Ce.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ke(t,e,n=Vt.Format,r=!1){return function(i,o){return sL(i,o,t,e,n,r)}}function sL(t,e,n,r,i,o){switch(n){case De.Months:return ZF(e,i,r)[t.getMonth()];case De.Days:return YF(e,i,r)[t.getDay()];case De.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=XF(e),h=eL(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,b]=g,M=s>=y.hours&&a>=y.minutes,R=s<b.hours||s===b.hours&&a<b.minutes;if(y.hours<b.hours){if(M&&R)return!0}else if(M||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return QF(e,i,r)[s<12?0:1];case De.Eras:return JF(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Vd(t){return function(e,n,r){let i=-1*r,o=qd(n,hi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Sr.Short:return(i>=0?"+":"")+On(s,2,o)+On(Math.abs(i%60),2,o);case Sr.ShortGMT:return"GMT"+(i>=0?"+":"")+On(s,1,o);case Sr.Long:return"GMT"+(i>=0?"+":"")+On(s,2,o)+":"+On(Math.abs(i%60),2,o);case Sr.Extended:return r===0?"Z":(i>=0?"+":"")+On(s,2,o)+":"+On(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var aL=0,jd=4;function cL(t){let e=$d(t,aL,1).getDay();return $d(t,0,1+(e<=jd?jd:jd+7)-e)}function rT(t){let e=t.getDay(),n=e===0?-3:jd-e;return $d(t.getFullYear(),t.getMonth(),t.getDate()+n)}function iy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=rT(n),s=cL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return On(i,t,qd(r,hi.MinusSign))}}function Ud(t,e=!1){return function(n,r){let o=rT(n).getFullYear();return On(o,t,qd(r,hi.MinusSign),e)}}var oy={};function uL(t){if(oy[t])return oy[t];let e;switch(t){case"G":case"GG":case"GGG":e=ke(De.Eras,Pe.Abbreviated);break;case"GGGG":e=ke(De.Eras,Pe.Wide);break;case"GGGGG":e=ke(De.Eras,Pe.Narrow);break;case"y":e=tt(Ce.FullYear,1,0,!1,!0);break;case"yy":e=tt(Ce.FullYear,2,0,!0,!0);break;case"yyy":e=tt(Ce.FullYear,3,0,!1,!0);break;case"yyyy":e=tt(Ce.FullYear,4,0,!1,!0);break;case"Y":e=Ud(1);break;case"YY":e=Ud(2,!0);break;case"YYY":e=Ud(3);break;case"YYYY":e=Ud(4);break;case"M":case"L":e=tt(Ce.Month,1,1);break;case"MM":case"LL":e=tt(Ce.Month,2,1);break;case"MMM":e=ke(De.Months,Pe.Abbreviated);break;case"MMMM":e=ke(De.Months,Pe.Wide);break;case"MMMMM":e=ke(De.Months,Pe.Narrow);break;case"LLL":e=ke(De.Months,Pe.Abbreviated,Vt.Standalone);break;case"LLLL":e=ke(De.Months,Pe.Wide,Vt.Standalone);break;case"LLLLL":e=ke(De.Months,Pe.Narrow,Vt.Standalone);break;case"w":e=iy(1);break;case"ww":e=iy(2);break;case"W":e=iy(1,!0);break;case"d":e=tt(Ce.Date,1);break;case"dd":e=tt(Ce.Date,2);break;case"c":case"cc":e=tt(Ce.Day,1);break;case"ccc":e=ke(De.Days,Pe.Abbreviated,Vt.Standalone);break;case"cccc":e=ke(De.Days,Pe.Wide,Vt.Standalone);break;case"ccccc":e=ke(De.Days,Pe.Narrow,Vt.Standalone);break;case"cccccc":e=ke(De.Days,Pe.Short,Vt.Standalone);break;case"E":case"EE":case"EEE":e=ke(De.Days,Pe.Abbreviated);break;case"EEEE":e=ke(De.Days,Pe.Wide);break;case"EEEEE":e=ke(De.Days,Pe.Narrow);break;case"EEEEEE":e=ke(De.Days,Pe.Short);break;case"a":case"aa":case"aaa":e=ke(De.DayPeriods,Pe.Abbreviated);break;case"aaaa":e=ke(De.DayPeriods,Pe.Wide);break;case"aaaaa":e=ke(De.DayPeriods,Pe.Narrow);break;case"b":case"bb":case"bbb":e=ke(De.DayPeriods,Pe.Abbreviated,Vt.Standalone,!0);break;case"bbbb":e=ke(De.DayPeriods,Pe.Wide,Vt.Standalone,!0);break;case"bbbbb":e=ke(De.DayPeriods,Pe.Narrow,Vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=ke(De.DayPeriods,Pe.Abbreviated,Vt.Format,!0);break;case"BBBB":e=ke(De.DayPeriods,Pe.Wide,Vt.Format,!0);break;case"BBBBB":e=ke(De.DayPeriods,Pe.Narrow,Vt.Format,!0);break;case"h":e=tt(Ce.Hours,1,-12);break;case"hh":e=tt(Ce.Hours,2,-12);break;case"H":e=tt(Ce.Hours,1);break;case"HH":e=tt(Ce.Hours,2);break;case"m":e=tt(Ce.Minutes,1);break;case"mm":e=tt(Ce.Minutes,2);break;case"s":e=tt(Ce.Seconds,1);break;case"ss":e=tt(Ce.Seconds,2);break;case"S":e=tt(Ce.FractionalSeconds,1);break;case"SS":e=tt(Ce.FractionalSeconds,2);break;case"SSS":e=tt(Ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Vd(Sr.Short);break;case"ZZZZZ":e=Vd(Sr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Vd(Sr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Vd(Sr.Long);break;default:return null}return oy[t]=e,e}function iT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function lL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function dL(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=iT(e,i);return lL(t,r*(o-i))}function hL(t){if(Qb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return $d(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(tL))return fL(r)}let e=new Date(t);if(!Qb(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function fL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function Qb(t){return t instanceof Date&&!isNaN(t.valueOf())}function oT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var sy=/\s+/,Yb=[],zd=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Yb,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(sy):Yb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(sy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(sy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(ce(Mn),ce(Qn))}}static{this.\u0275dir=Ue({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();function sT(t,e){return new z(2100,!1)}var ay=class{createSubscription(e,n){return kn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){kn(()=>e.unsubscribe())}},cy=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},pL=new cy,mL=new ay,fi=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(li(n))return pL;if(ny(n))return mL;throw sT(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(ce(di,16))}}static{this.\u0275pipe=_g({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var gL="mediumDate",yL=new H(""),vL=new H(""),pi=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??gL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return rL(n,s,o||this.locale,a)}catch(s){throw sT(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(ce(xd,16),ce(yL,24),ce(vL,24))}}static{this.\u0275pipe=_g({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var py="browser",_L="server";function IL(t){return t===py}function my(t){return t===_L}var aT=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>IL(k(Kn))?new uy(k(Yt),window):new ly})}}return t})(),uy=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=wL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function wL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ly=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Hd=class{};var vy=class extends Bd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_y=class t extends vy{static makeCurrent(){Jb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=DL();return n==null?null:CL(n)}resetBaseElement(){fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oT(document.cookie,e)}},fc=null;function DL(){return fc=fc||document.querySelector("base"),fc?fc.getAttribute("href"):null}function CL(t){return new URL(t,document.baseURI).pathname}var bL=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Iy=new H(""),dT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ee(Iy),ee(be))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Gd=class{constructor(e){this._doc=e}},gy="ng-app-id",hT=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=my(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${gy}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(gy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(gy,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ee(Yt),ee(Ug),ee(Bg,8),ee(Kn))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),yy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ey=/%COMP%/g,fT="%COMP%",TL=`_nghost-${fT}`,SL=`_ngcontent-${fT}`,AL=!0,RL=new H("",{providedIn:"root",factory:()=>AL});function ML(t){return SL.replace(Ey,t)}function NL(t){return TL.replace(Ey,t)}function pT(t,e){return e.map(n=>n.replace(Ey,t))}var cT=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=my(a),this.defaultRenderer=new pc(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hn.ShadowDom&&(r=me(U({},r),{encapsulation:Hn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Wd?i.applyToHost(n):i instanceof mc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Hn.Emulated:o=new Wd(u,l,r,this.appId,h,s,a,p);break;case Hn.ShadowDom:return new wy(u,l,n,r,s,a,this.nonce,p);default:o=new mc(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ee(dT),ee(hT),ee(Ug),ee(RL),ee(Yt),ee(Kn),ee(be),ee(Bg))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),pc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(yy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(uT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=yy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=yy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yr.DashCase|yr.Important)?e.style.setProperty(n,r,i&yr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ar().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function uT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wy=class extends pc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=pT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mc=class extends pc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?pT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wd=class extends mc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=ML(l),this.hostAttr=NL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xL=(()=>{class t extends Gd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ee(Yt))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),lT=["alt","control","meta","shift"],PL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},OL=(()=>{class t extends Gd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ar().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),lT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=PL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),lT.forEach(s=>{if(s!==i){let a=kL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ee(Yt))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})();function mT(t,e){return zb(U({rootComponent:t},FL(e)))}function FL(t){return{appProviders:[...BL,...t?.providers??[]],platformProviders:jL}}function LL(){_y.makeCurrent()}function VL(){return new gr}function UL(){return xC(document),document}var jL=[{provide:Kn,useValue:py},{provide:jg,useValue:LL,multi:!0},{provide:Yt,useFactory:UL,deps:[]}];var BL=[{provide:hd,useValue:"root"},{provide:gr,useFactory:VL,deps:[]},{provide:Iy,useClass:xL,multi:!0,deps:[Yt,be,Kn]},{provide:Iy,useClass:OL,multi:!0,deps:[Yt]},cT,hT,dT,{provide:ys,useExisting:cT},{provide:Hd,useClass:bL,deps:[]},[]];var gT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(ee(Yt))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var se="primary",Mc=Symbol("RouteTitle"),Sy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function xs(t){return new Sy(t)}function HL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Jn(t[n],e[n]))return!1;return!0}function Jn(t,e){let n=t?Ay(t):void 0,r=e?Ay(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ST(t[i],e[i]))return!1;return!0}function Ay(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ST(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function AT(t){return t.length>0?t[t.length-1]:null}function yi(t){return em(t)?t:li(t)?Fe(Promise.resolve(t)):Q(t)}var zL={exact:MT,subset:NT},RT={exact:GL,subset:WL,ignored:()=>!0};function yT(t,e,n){return zL[n.paths](t.root,e.root,n.matrixParams)&&RT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function GL(t,e){return Jn(t,e)}function MT(t,e,n){if(!io(t.segments,e.segments)||!Yd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!MT(t.children[r],e.children[r],n))return!1;return!0}function WL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ST(t[n],e[n]))}function NT(t,e,n){return xT(t,e,e.segments,n)}function xT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!io(i,n)||e.hasChildren()||!Yd(i,n,r))}else if(t.segments.length===n.length){if(!io(t.segments,n)||!Yd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!NT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!io(t.segments,i)||!Yd(t.segments,i,r)||!t.children[se]?!1:xT(t.children[se],e,o,r)}}function Yd(t,e,n){return e.every((r,i)=>RT[n](t[i].parameters,r.parameters))}var Nr=class{constructor(e=new Se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xs(this.queryParams),this._queryParamMap}toString(){return YL.serialize(this)}},Se=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zd(this)}},ro=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=xs(this.parameters),this._parameterMap}toString(){return kT(this)}};function KL(t,e){return io(t,e)&&t.every((n,r)=>Jn(n.parameters,e[r].parameters))}function io(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function QL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}var Nc=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>new Ps,providedIn:"root"})}}return t})(),Ps=class{parse(e){let n=new My(e);return new Nr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${gc(e.root,!0)}`,r=XL(e.queryParams),i=typeof e.fragment=="string"?`#${ZL(e.fragment)}`:"";return`${n}${r}${i}`}},YL=new Ps;function Zd(t){return t.segments.map(e=>kT(e)).join("/")}function gc(t,e){if(!t.hasChildren())return Zd(t);if(e){let n=t.children[se]?gc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${gc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=QL(t,(r,i)=>i===se?[gc(t.children[se],!1)]:[`${i}:${gc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${Zd(t)}/${n[0]}`:`${Zd(t)}/(${n.join("//")})`}}function PT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kd(t){return PT(t).replace(/%3B/gi,";")}function ZL(t){return encodeURI(t)}function Ry(t){return PT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jd(t){return decodeURIComponent(t)}function vT(t){return Jd(t.replace(/\+/g,"%20"))}function kT(t){return`${Ry(t.path)}${JL(t.parameters)}`}function JL(t){return Object.entries(t).map(([e,n])=>`;${Ry(e)}=${Ry(n)}`).join("")}function XL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Kd(n)}=${Kd(i)}`).join("&"):`${Kd(n)}=${Kd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var eV=/^[^\/()?;#]+/;function Dy(t){let e=t.match(eV);return e?e[0]:""}var tV=/^[^\/()?;=#]+/;function nV(t){let e=t.match(tV);return e?e[0]:""}var rV=/^[^=?&#]+/;function iV(t){let e=t.match(rV);return e?e[0]:""}var oV=/^[^&#]+/;function sV(t){let e=t.match(oV);return e?e[0]:""}var My=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new Se(e,n)),r}parseSegment(){let e=Dy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new ro(Jd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=nV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Dy(this.remaining);i&&(r=i,this.capture(r))}e[Jd(n)]=Jd(r)}parseQueryParam(e){let n=iV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=sV(this.remaining);s&&(r=s,this.capture(r))}let i=vT(n),o=vT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[se]:new Se([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function OT(t){return t.segments.length>0?new Se([],{[se]:t}):t}function FT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=FT(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Se(t.segments,e);return aV(n)}function aV(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new Se(t.segments.concat(e.segments),e.children)}return t}function oo(t){return t instanceof Nr}function cV(t,e,n=null,r=null){let i=LT(t);return VT(i,e,n,r)}function LT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Se(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=OT(r);return e??i}function VT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Cy(i,i,i,n,r);let o=uV(e);if(o.toRoot())return Cy(i,i,new Se([],{}),n,r);let s=lV(o,i,t),a=s.processChildren?_c(s.segmentGroup,s.index,o.commands):jT(s.segmentGroup,s.index,o.commands);return Cy(i,s.segmentGroup,a,n,r)}function Xd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ec(t){return typeof t=="object"&&t!=null&&t.outlets}function Cy(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=UT(t,e,n);let a=OT(FT(s));return new Nr(a,o,i)}function UT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=UT(o,e,n)}),new Se(t.segments,r)}var eh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xd(r[0]))throw new z(4003,!1);let i=r.find(Ec);if(i&&i!==AT(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new eh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new eh(n,e,r)}var Rs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function lV(t,e,n){if(t.isAbsolute)return new Rs(e,!0,0);if(!n)return new Rs(e,!1,NaN);if(n.parent===null)return new Rs(n,!0,0);let r=Xd(t.commands[0])?0:1,i=n.segments.length-1+r;return dV(n,i,t.numberOfDoubleDots)}function dV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new Rs(r,!1,i-o)}function hV(t){return Ec(t[0])?t[0].outlets:{[se]:t}}function jT(t,e,n){if(t??=new Se([],{}),t.segments.length===0&&t.hasChildren())return _c(t,e,n);let r=fV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Se(t.segments.slice(0,r.pathIndex),{});return o.children[se]=new Se(t.segments.slice(r.pathIndex),t.children),_c(o,0,i)}else return r.match&&i.length===0?new Se(t.segments,{}):r.match&&!t.hasChildren()?Ny(t,e,n):r.match?_c(t,0,i):Ny(t,e,n)}function _c(t,e,n){if(n.length===0)return new Se(t.segments,{});{let r=hV(n),i={};if(Object.keys(r).some(o=>o!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let o=_c(t.children[se],e,n);return new Se(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=jT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(t.segments,i)}}function fV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ec(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!IT(u,l,s))return o;r+=2}else{if(!IT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ny(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ec(o)){let u=pV(o.outlets);return new Se(r,u)}if(i===0&&Xd(n[0])){let u=t.segments[e];r.push(new ro(u.path,_T(n[0]))),i++;continue}let s=Ec(o)?o.outlets[se]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Xd(a)?(r.push(new ro(s,_T(a))),i+=2):(r.push(new ro(s,{})),i++)}return new Se(r,{})}function pV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ny(new Se([],{}),0,r))}),e}function _T(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function IT(t,e,n){return t==n.path&&Jn(e,n.parameters)}var Ic="imperative",ht=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ht||{}),yn=class{constructor(e,n){this.id=e,this.url=n}},ks=class extends yn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ht.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vn=class extends yn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},an=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(an||{}),th=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(th||{}),Mr=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ht.NavigationSkipped}},Dc=class extends yn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nh=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xy=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Py=class extends yn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ky=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oy=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fy=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ly=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vy=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uy=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jy=class{constructor(e){this.snapshot=e,this.type=ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},By=class{constructor(e){this.snapshot=e,this.type=ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ht.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Cc=class{},Os=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function mV(t,e){return t.providers&&!t._injector&&(t._injector=Td(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Fn(t){return t.outlet||se}function gV(t,e){let n=t.filter(r=>Fn(r)===e);return n.push(...t.filter(r=>Fn(r)!==e)),n}function xc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var $y=class{get injector(){return xc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Pc(this.rootInjector),this.attachRef=null}},Pc=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $y(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(ee(tn))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ih=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=qy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qy(e,this._root).map(n=>n.value)}};function Hy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hy(t,n);if(r)return r}return null}function qy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=qy(t,n);if(r.length)return r.unshift(e),r}return[]}var sn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function As(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var oh=class extends ih{constructor(e,n){super(e),this.snapshot=n,Xy(this,e)}toString(){return this.snapshot.toString()}};function BT(t){let e=yV(t),n=new at([new ro("",{})]),r=new at({}),i=new at({}),o=new at({}),s=new at(""),a=new gi(n,r,o,s,i,se,t,e.root);return a.snapshot=e.root,new oh(new sn(a,[]),e)}function yV(t){let e={},n={},r={},i="",o=new Ms([],e,r,i,n,se,t,null,{});return new ah("",new sn(o,[]))}var gi=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(l=>l[Mc]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>xs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>xs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&HT(i)&&(r.resolve[Mc]=i.title),r}var Ms=class{get title(){return this.data?.[Mc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ah=class extends ih{constructor(e,n){super(n),this.url=e,Xy(this,n)}toString(){return $T(this._root)}};function Xy(t,e){e.value._routerState=t,e.children.forEach(n=>Xy(t,n))}function $T(t){let e=t.children.length>0?` { ${t.children.map($T).join(", ")} } `:"";return`${t.value}${e}`}function by(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Jn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Jn(e.params,n.params)||t.paramsSubject.next(n.params),qL(e.url,n.url)||t.urlSubject.next(n.url),Jn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zy(t,e){let n=Jn(t.params,e.params)&&KL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zy(t.parent,e.parent))}function HT(t){return typeof t.title=="string"||t.title===null}var ev=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=k(Pc),this.location=k(bd),this.changeDetector=k(di),this.inputBinder=k(dh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Gy(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ue({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oi]})}}return t})(),Gy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gi?this.route:e===Pc?this.childContexts:this.parent.get(e,n)}},dh=new H(""),wT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Wa([r.queryParams,r.params,r.data]).pipe(xt(([o,s,a],u)=>(a=U(U(U({},o),s),a),u===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=Gb(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})();function vV(t,e,n){let r=bc(t,e._root,n?n._root:void 0);return new oh(r,e)}function bc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=_V(t,e,n);return new sn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bc(t,a)),s}}let r=IV(e.value),i=e.children.map(o=>bc(t,o));return new sn(r,i)}}function _V(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bc(t,r,i);return bc(t,r)})}function IV(t){return new gi(new at(t.url),new at(t.params),new at(t.queryParams),new at(t.fragment),new at(t.data),t.outlet,t.component,t)}var Tc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},qT="ngNavigationCancelingError";function ch(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zT(!1,an.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function zT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[qT]=!0,n.cancellationCode=e,n}function wV(t){return GT(t)&&oo(t.url)}function GT(t){return!!t&&t[qT]}var EV=(t,e,n,r)=>Y(i=>(new Wy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Wy=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),by(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=As(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=As(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new By(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Uy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(by(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),by(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},uh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ns=class{constructor(e,n){this.component=e,this.route=n}};function DV(t,e,n){let r=t._root,i=e?e._root:null;return yc(r,i,n,[r.value])}function CV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ls(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!gD(t)?t:e.get(t):r}function yc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=As(e);return t.children.forEach(s=>{bV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wc(a,n.getContext(s),i)),i}function bV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=TV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new uh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yc(t,e,a?a.children:null,r,i):yc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ns(a.outlet.component,s))}else s&&wc(e,a,i),i.canActivateChecks.push(new uh(r)),o.component?yc(t,null,a?a.children:null,r,i):yc(t,null,n,r,i);return i}function TV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!io(t.url,e.url);case"pathParamsOrQueryParamsChange":return!io(t.url,e.url)||!Jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zy(t,e)||!Jn(t.queryParams,e.queryParams);case"paramsChange":default:return!zy(t,e)}}function wc(t,e,n){let r=As(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?wc(s,e.children.getContext(o),n):wc(s,null,n):wc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ns(e.outlet.component,i)):n.canDeactivateChecks.push(new Ns(null,i)):n.canDeactivateChecks.push(new Ns(null,i))}function kc(t){return typeof t=="function"}function SV(t){return typeof t=="boolean"}function AV(t){return t&&kc(t.canLoad)}function RV(t){return t&&kc(t.canActivate)}function MV(t){return t&&kc(t.canActivateChild)}function NV(t){return t&&kc(t.canDeactivate)}function xV(t){return t&&kc(t.canMatch)}function WT(t){return t instanceof pr||t?.name==="EmptyError"}var Qd=Symbol("INITIAL_VALUE");function Fs(){return xt(t=>Wa(t.map(e=>e.pipe(mr(1),$i(Qd)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===Qd)return Qd;if(n===!1||PV(n))return n}return!0}),Ct(e=>e!==Qd),mr(1)))}function PV(t){return oo(t)||t instanceof Tc}function kV(t,e){return Je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(me(U({},n),{guardsResult:!0})):OV(s,r,i,t).pipe(Je(a=>a&&SV(a)?FV(r,o,t,e):Q(a)),Y(a=>me(U({},n),{guardsResult:a})))})}function OV(t,e,n,r){return Fe(t).pipe(Je(i=>BV(i.component,i.route,n,e,r)),jn(i=>i!==!0,!0))}function FV(t,e,n,r){return Fe(e).pipe(Bi(i=>Ko(VV(i.route.parent,r),LV(i.route,r),jV(t,i.path,n),UV(t,i.route,n))),jn(i=>i!==!0,!0))}function LV(t,e){return t!==null&&e&&e(new jy(t)),Q(!0)}function VV(t,e){return t!==null&&e&&e(new Vy(t)),Q(!0)}function UV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Tl(()=>{let s=xc(e)??n,a=Ls(o,s),u=RV(a)?a.canActivate(e,t):Wn(s,()=>a(e,t));return yi(u).pipe(jn())}));return Q(i).pipe(Fs())}function jV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>CV(s)).filter(s=>s!==null).map(s=>Tl(()=>{let a=s.guards.map(u=>{let l=xc(s.node)??n,h=Ls(u,l),p=MV(h)?h.canActivateChild(r,t):Wn(l,()=>h(r,t));return yi(p).pipe(jn())});return Q(a).pipe(Fs())}));return Q(o).pipe(Fs())}function BV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=xc(e)??i,l=Ls(a,u),h=NV(l)?l.canDeactivate(t,e,n,r):Wn(u,()=>l(t,e,n,r));return yi(h).pipe(jn())});return Q(s).pipe(Fs())}function $V(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=Ls(s,t),u=AV(a)?a.canLoad(e,n):Wn(t,()=>a(e,n));return yi(u)});return Q(o).pipe(Fs(),KT(r))}function KT(t){return sl(ze(e=>{if(typeof e!="boolean")throw ch(t,e)}),Y(e=>e===!0))}function HV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=Ls(s,t),u=xV(a)?a.canMatch(e,n):Wn(t,()=>a(e,n));return yi(u)});return Q(o).pipe(Fs(),KT(r))}var Sc=class{constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{constructor(e){super(),this.urlTree=e}};function Ss(t){return Go(new Sc(t))}function qV(t){return Go(new z(4e3,!1))}function zV(t){return Go(zT(!1,an.GuardRejected))}var Ky=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[se])return qV(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:b,title:M}=i,R=Wn(o,()=>a({params:y,data:b,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:M}));if(R instanceof Nr)throw new Ac(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ac(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Nr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Se(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GV(t,e,n,r,i){let o=QT(t,e,n);return o.matched?(r=mV(e,r),HV(r,e,n,i).pipe(Y(s=>s===!0?o:U({},Qy)))):Q(o)}function QT(t,e,n){if(e.path==="**")return WV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Qy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||HL)(n,t,e);if(!i)return U({},Qy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WV(t){return{matched:!0,parameters:t.length>0?AT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ET(t,e,n,r){return n.length>0&&YV(t,n,r)?{segmentGroup:new Se(e,QV(r,new Se(n,t.children))),slicedSegments:[]}:n.length===0&&ZV(t,n,r)?{segmentGroup:new Se(t.segments,KV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Se(t.segments,t.children),slicedSegments:n}}function KV(t,e,n,r){let i={};for(let o of n)if(hh(t,e,o)&&!r[Fn(o)]){let s=new Se([],{});i[Fn(o)]=s}return U(U({},r),i)}function QV(t,e){let n={};n[se]=e;for(let r of t)if(r.path===""&&Fn(r)!==se){let i=new Se([],{});n[Fn(r)]=i}return n}function YV(t,e,n){return n.some(r=>hh(t,e,r)&&Fn(r)!==se)}function ZV(t,e,n){return n.some(r=>hh(t,e,r))}function hh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function JV(t,e,n){return e.length===0&&!t.children[n]}var Yy=class{};function XV(t,e,n,r,i,o,s="emptyOnly"){return new Zy(t,e,n,r,i,s,o).recognize()}var e2=31,Zy=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ky(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=ET(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:n,rootSnapshot:r})=>{let i=new sn(r,n),o=new ah("",i),s=cV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ms([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,n).pipe(Y(r=>({children:r,rootSnapshot:n})),Yr(r=>{if(r instanceof Ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof sn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Fe(o).pipe(Bi(s=>{let a=r.children[s],u=gV(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Al((s,a)=>(s.push(...a),s)),Zr(null),im(),Je(s=>{if(s===null)return Ss(r);let a=YT(s);return t2(a),Q(a)}))}processSegment(e,n,r,i,o,s,a){return Fe(n).pipe(Bi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Yr(l=>{if(l instanceof Sc)return Q(null);throw l}))),jn(u=>!!u),Yr(u=>{if(WT(u))return JV(r,i,o)?Q(new Yy):Ss(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Fn(r)!==s&&(s===se||!hh(i,o,r))?Ss(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ss(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=QT(n,i,o);if(!u)return Ss(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>e2&&(this.allowRedirects=!1));let y=new Ms(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,DT(i),Fn(i),i.component??i._loadedComponent??null,i,CT(i)),b=sh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(b.params),y.data=Object.freeze(b.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Je(R=>this.processSegment(e,r,n,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=GV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(xt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,b=new Ms(g,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,DT(r),Fn(r),r.component??r._loadedComponent??null,r,CT(r)),M=sh(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:j}=ET(n,g,y,l);if(j.length===0&&R.hasChildren())return this.processChildren(h,l,R,b).pipe(Y(K=>new sn(b,K)));if(l.length===0&&j.length===0)return Q(new sn(b,[]));let q=Fn(r)===o;return this.processSegment(h,l,R,j,q?se:o,!0,b).pipe(Y(K=>new sn(b,K instanceof sn?[K]:[])))}))):Ss(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):$V(e,n,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,n).pipe(ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zV(n))):Q({routes:[],injector:e})}};function t2(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function n2(t){let e=t.value.routeConfig;return e&&e.path===""}function YT(t){let e=[],n=new Set;for(let r of t){if(!n2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=YT(r.children);e.push(new sn(r.value,i))}return e.filter(r=>!n.has(r))}function DT(t){return t.data||{}}function CT(t){return t.resolve||{}}function r2(t,e,n,r,i,o){return Je(s=>XV(t,e,n,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:u})=>me(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function i2(t,e){return Je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of ZT(u))s.add(l);let a=0;return Fe(s).pipe(Bi(u=>o.has(u)?o2(u,r,t,e):(u.data=sh(u,u.parent,t).resolve,Q(void 0))),ze(()=>a++),Qo(1),Je(u=>a===s.size?Q(n):en))})}function ZT(t){let e=t.children.map(n=>ZT(n)).flat();return[t,...e]}function o2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!HT(i)&&(o[Mc]=i.title),s2(o,t,e,r).pipe(Y(s=>(t._resolvedData=s,t.data=sh(t,t.parent,n).resolve,null)))}function s2(t,e,n,r){let i=Ay(t);if(i.length===0)return Q({});let o={};return Fe(i).pipe(Je(s=>a2(t[s],e,n,r).pipe(jn(),ze(a=>{if(a instanceof Tc)throw ch(new Ps,a);o[s]=a}))),Qo(1),rm(o),Yr(s=>WT(s)?en:Go(s)))}function a2(t,e,n,r){let i=xc(e)??r,o=Ls(t,i),s=o.resolve?o.resolve(e,n):Wn(i,()=>o(e,n));return yi(s)}function Ty(t){return xt(e=>{let n=t(e);return n?Fe(n).pipe(Y(()=>e)):Q(e)})}var JT=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[Mc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(c2),providedIn:"root"})}}return t})(),c2=(()=>{class t extends JT{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(ee(gT))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Oc=new H("",{providedIn:"root",factory:()=>({})}),u2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Re({type:t,selectors:[["ng-component"]],standalone:!0,features:[Me],decls:1,vars:0,template:function(r,i){r&1&&Te(0,"router-outlet")},dependencies:[ev],encapsulation:2})}}return t})();function tv(t){let e=t.children&&t.children.map(tv),n=e?me(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=u2),n}var Rc=new H(""),nv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Nd)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=yi(n.loadComponent()).pipe(Y(XT),ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ka(()=>{this.componentLoaders.delete(n)})),i=new Bo(r,()=>new lt).pipe(jo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=l2(r,this.compiler,n,this.onLoadEndListener).pipe(Ka(()=>{this.childrenLoaders.delete(r)})),s=new Bo(o,()=>new lt).pipe(jo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function l2(t,e,n,r){return yi(t.loadChildren()).pipe(Y(XT),Je(i=>i instanceof nc||Array.isArray(i)?Q(i):Fe(e.compileModuleAsync(i))),Y(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Rc,[],{optional:!0,self:!0}).flat()),{routes:s.map(tv),injector:o}}))}function d2(t){return t&&typeof t=="object"&&"default"in t}function XT(t){return d2(t)?t.default:t}var rv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(h2),providedIn:"root"})}}return t})(),h2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eS=new H(""),tS=new H("");function f2(t,e,n){let r=t.get(tS),i=t.get(Yt);return t.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),p2(t))),{onViewTransitionCreated:u}=r;return u&&Wn(t,()=>u({transition:a,from:e,to:n})),s})}function p2(t){return new Promise(e=>{ey({read:()=>setTimeout(e)},{injector:t})})}var m2=new H(""),iv=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.transitionAbortSubject=new lt,this.configLoader=k(nv),this.environmentInjector=k(tn),this.urlSerializer=k(Nc),this.rootContexts=k(Pc),this.location=k(Ts),this.inputBindingEnabled=k(dh,{optional:!0})!==null,this.titleStrategy=k(JT),this.options=k(Oc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(rv),this.createViewTransition=k(eS,{optional:!0}),this.navigationErrorHandler=k(m2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Fy(i)),r=i=>this.events.next(new Ly(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(me(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new at({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ic,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(o=>o.id!==0),Y(o=>me(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xt(o=>{let s=!1,a=!1;return Q(o).pipe(xt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",an.SupersededByNewNavigation),en;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?me(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new mi(u.id,this.urlSerializer.serialize(u.rawUrl),p,th.IgnoredSameUrlNavigation)),u.resolve(!1),en}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(xt(p=>{let g=this.transitions?.getValue();return this.events.next(new ks(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?en:Promise.resolve(p)}),r2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=me(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new nh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:b,extras:M}=u,R=new ks(p,this.urlSerializer.serialize(g),y,b);this.events.next(R);let j=BT(this.rootComponentType).snapshot;return this.currentTransition=o=me(U({},u),{targetSnapshot:j,urlAfterRedirects:g,extras:me(U({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Q(o)}else{let p="";return this.events.next(new mi(u.id,this.urlSerializer.serialize(u.extractedUrl),p,th.IgnoredByUrlHandlingStrategy)),u.resolve(!1),en}}),ze(u=>{let l=new xy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Y(u=>(this.currentTransition=o=me(U({},u),{guards:DV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),kV(this.environmentInjector,u=>this.events.next(u)),ze(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ch(this.urlSerializer,u.guardsResult);let l=new Py(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ct(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",an.GuardRejected),!1)),Ty(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(ze(l=>{let h=new ky(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),xt(l=>{let h=!1;return Q(l).pipe(i2(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",an.NoDataFromResolver)}}))}),ze(l=>{let h=new Oy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Ty(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ze(g=>{h.component=g}),Y(()=>{})));for(let g of h.children)p.push(...l(g));return p};return Wa(l(u.targetSnapshot.root)).pipe(Zr(null),mr(1))}),Ty(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Fe(h).pipe(Y(()=>o)):Q(o)}),Y(u=>{let l=vV(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=me(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ze(()=>{this.events.next(new Cc)}),EV(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),mr(1),ze({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),om(this.transitionAbortSubject.pipe(ze(u=>{throw u}))),Ka(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",an.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yr(u=>{if(a=!0,GT(u))this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),wV(u)?this.events.next(new Os(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Dc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=Wn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Tc){let{message:p,cancellationCode:g}=ch(this.urlSerializer,h);this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Os(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return en}))}))}cancelNavigationTransition(n,r,i){let o=new Mr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function g2(t){return t!==Ic}var y2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(v2),providedIn:"root"})}}return t})(),Jy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},v2=(()=>{class t extends Jy{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})()}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(_2),providedIn:"root"})}}return t})(),_2=(()=>{class t extends nS{constructor(){super(...arguments),this.location=k(Ts),this.urlSerializer=k(Nc),this.options=k(Oc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(rv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ks)this.stateMemento=this.createStateMemento();else if(n instanceof mi)this.rawUrlTree=r.initialUrl;else if(n instanceof nh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Cc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Mr&&(n.code===an.GuardRejected||n.code===an.NoDataFromResolver)?this.restoreHistory(r):n instanceof Dc?this.restoreHistory(r,!0):n instanceof vn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Nr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})()}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(vc||{});function rS(t,e){t.events.pipe(Ct(n=>n instanceof vn||n instanceof Mr||n instanceof Dc||n instanceof mi),Y(n=>n instanceof vn||n instanceof mi?vc.COMPLETE:(n instanceof Mr?n.code===an.Redirect||n.code===an.SupersededByNewNavigation:!1)?vc.REDIRECTING:vc.FAILED),Ct(n=>n!==vc.REDIRECTING),mr(1)).subscribe(()=>{e()})}function I2(t){throw t}var w2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ut=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Ad),this.stateManager=k(nS),this.options=k(Oc,{optional:!0})||{},this.pendingTasks=k(Es),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(iv),this.urlSerializer=k(Nc),this.location=k(Ts),this.urlHandlingStrategy=k(rv),this._events=new lt,this.errorHandler=this.options.errorHandler||I2,this.navigated=!1,this.routeReuseStrategy=k(y2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Rc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(dh,{optional:!0}),this.eventsSubscription=new qe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mr&&r.code!==an.Redirect&&r.code!==an.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vn)this.navigated=!0;else if(r instanceof Os){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||g2(i.source)},s);this.scheduleNavigation(a,Ic,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}C2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ic,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(tv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=LT(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return VT(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=oo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ic,null,r)}navigate(n,r={skipLocationChange:!1}){return D2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},w2):r===!1?i=U({},E2):i=r,oo(n))return yT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return yT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return rS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function D2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function C2(t){return!(t instanceof Cc)&&!(t instanceof Os)}var Vs=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new lt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(oo(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:OC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:oo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(ce(Ut),ce(gi),kg("tabindex"),ce(Qn),ce(Mn),ce(Rr))}}static{this.\u0275dir=Ue({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Tt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&to("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Cr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Cr],replaceUrl:[2,"replaceUrl","replaceUrl",Cr],routerLink:"routerLink"},standalone:!0,features:[Jg,oi]})}}return t})();var lh=class{};var b2=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(n=>n instanceof vn),Bi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Td(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Fe(i).pipe(Wo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Q(null);let o=i.pipe(Je(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Fe([o,s]).pipe(Wo())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(ee(Ut),ee(Nd),ee(tn),ee(lh),ee(nv))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iS=new H(""),T2=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ks?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof vn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof mi&&n.code===th.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rh&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rh(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){YC()}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})();function oS(t,...e){return Gn([{provide:Rc,multi:!0,useValue:t},[],{provide:gi,useFactory:sS,deps:[Ut]},{provide:Md,multi:!0,useFactory:aS},e.map(n=>n.\u0275providers)])}function sS(t){return t.routerState.root}function Fc(t,e){return{\u0275kind:t,\u0275providers:e}}function aS(){let t=k(yt);return e=>{let n=t.get(no);if(e!==n.components[0])return;let r=t.get(Ut),i=t.get(cS);t.get(ov)===1&&r.initialNavigation(),t.get(uS,null,ue.Optional)?.setUpPreloading(),t.get(iS,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cS=new H("",{factory:()=>new lt}),ov=new H("",{providedIn:"root",factory:()=>1});function S2(){return Fc(2,[{provide:ov,useValue:0},{provide:Rd,multi:!0,deps:[yt],useFactory:e=>{let n=e.get(Xb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Ut),o=e.get(cS);rS(i,()=>{r(!0)}),e.get(iv).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}])}function A2(){return Fc(3,[{provide:Rd,multi:!0,useFactory:()=>{let e=k(Ut);return()=>{e.setUpLocationChangeListener()}}},{provide:ov,useValue:2}])}var uS=new H("");function R2(t){return Fc(0,[{provide:uS,useExisting:b2},{provide:lh,useExisting:t}])}function M2(){return Fc(8,[wT,{provide:dh,useExisting:wT}])}function N2(t){let e=[{provide:eS,useValue:f2},{provide:tS,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return Fc(9,e)}var bT=new H("ROUTER_FORROOT_GUARD"),x2=[Ts,{provide:Nc,useClass:Ps},Ut,Pc,{provide:gi,useFactory:sS,deps:[Ut]},nv,[]],_n=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[x2,[],{provide:Rc,multi:!0,useValue:n},{provide:bT,useFactory:F2,deps:[[Ut,new Ft,new DD]]},{provide:Oc,useValue:r||{}},r?.useHash?k2():O2(),P2(),r?.preloadingStrategy?R2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?L2(r):[],r?.bindToComponentInputs?M2().\u0275providers:[],r?.enableViewTransitions?N2().\u0275providers:[],V2()]}}static forChild(n){return{ngModule:t,providers:[{provide:Rc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(ee(bT,8))}}static{this.\u0275mod=eo({type:t})}static{this.\u0275inj=Xi({})}}return t})();function P2(){return{provide:iS,useFactory:()=>{let t=k(aT),e=k(be),n=k(Oc),r=k(iv),i=k(Nc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new T2(i,r,t,e,n)}}}function k2(){return{provide:Rr,useClass:tT}}function O2(){return{provide:Rr,useClass:fy}}function F2(t){return"guarded"}function L2(t){return[t.initialNavigation==="disabled"?A2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?S2().\u0275providers:[]]}var TT=new H("");function V2(){return[{provide:TT,useFactory:aS},{provide:Md,multi:!0,useExisting:TT}]}var dS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new av;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},av=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},j2=function(t){let e=dS(t);return hS.encodeByteArray(e,!0)},Lc=function(t){return j2(t).replace(/\./g,"")},uv=function(t){try{return hS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $2=()=>B2().__FIREBASE_DEFAULTS__,H2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&uv(t[1]);return e&&JSON.parse(e)},mh=()=>{try{return $2()||H2()||q2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lv=t=>{var e,n;return(n=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fS=t=>{let e=lv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dv=()=>{var t;return(t=mh())===null||t===void 0?void 0:t.config},hv=t=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${t}`]};var ph=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function pS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(s)),""].join(".")}function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function z2(){var t;let e=(t=mh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){let t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IS(){return!z2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fv(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var G2="FirebaseError",cn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xr.prototype.create)}},xr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?W2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new cn(i,a,r)}};function W2(t,e){return t.replace(K2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var K2=/\{\$([^}]+)}/g;function ES(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(lS(o)&&lS(s)){if(!so(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function lS(t){return t!==null&&typeof t=="object"}function Vc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Us(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function js(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DS(t,e){let n=new cv(t,e);return n.subscribe.bind(n)}var cv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sv),i.error===void 0&&(i.error=sv),i.complete===void 0&&(i.complete=sv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Q2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sv(){}var X5=4*60*60*1e3;function nt(t){return t&&t._delegate?t._delegate:t}var In=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ao="[DEFAULT]";var pv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ph;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z2(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Y2(t){return t===ao?void 0:t}function Z2(t){return t.instantiationMode==="EAGER"}var gh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new pv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var J2=[],ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{}),X2={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},eU=ye.INFO,tU={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},nU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=tU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},vi=class{constructor(e){this.name=e,this._logLevel=eU,this._logHandler=nU,this._userLogHandler=null,J2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var rU=(t,e)=>e.some(n=>t instanceof n),CS,bS;function iU(){return CS||(CS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oU(){return bS||(bS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TS=new WeakMap,gv=new WeakMap,SS=new WeakMap,mv=new WeakMap,vv=new WeakMap;function sU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Xn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&TS.set(n,t)}).catch(()=>{}),vv.set(e,t),e}function aU(t){if(gv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});gv.set(t,e)}var yv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AS(t){yv=t(yv)}function cU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yh(this),e,...n);return SS.set(r,e.sort?e.sort():[e]),Xn(r)}:oU().includes(t)?function(...e){return t.apply(yh(this),e),Xn(TS.get(this))}:function(...e){return Xn(t.apply(yh(this),e))}}function uU(t){return typeof t=="function"?cU(t):(t instanceof IDBTransaction&&aU(t),rU(t,iU())?new Proxy(t,yv):t)}function Xn(t){if(t instanceof IDBRequest)return sU(t);if(mv.has(t))return mv.get(t);let e=uU(t);return e!==t&&(mv.set(t,e),vv.set(e,t)),e}var yh=t=>vv.get(t);function MS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Xn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Xn(s.result),u.oldVersion,u.newVersion,Xn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var lU=["get","getKey","getAll","getAllKeys","count"],dU=["put","add","delete","clear"],_v=new Map;function RS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_v.get(e))return _v.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=dU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lU.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return _v.set(e,o),o}AS(t=>me(U({},t),{get:(e,n,r)=>RS(e,n)||t.get(e,n,r),has:(e,n)=>!!RS(e,n)||t.has(e,n)}));var wv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hU(t){let e=t.getComponent();return e?.type==="VERSION"}var Ev="@firebase/app",NS="0.10.13";var Pr=new vi("@firebase/app"),fU="@firebase/app-compat",pU="@firebase/analytics-compat",mU="@firebase/analytics",gU="@firebase/app-check-compat",yU="@firebase/app-check",vU="@firebase/auth",_U="@firebase/auth-compat",IU="@firebase/database",wU="@firebase/data-connect",EU="@firebase/database-compat",DU="@firebase/functions",CU="@firebase/functions-compat",bU="@firebase/installations",TU="@firebase/installations-compat",SU="@firebase/messaging",AU="@firebase/messaging-compat",RU="@firebase/performance",MU="@firebase/performance-compat",NU="@firebase/remote-config",xU="@firebase/remote-config-compat",PU="@firebase/storage",kU="@firebase/storage-compat",OU="@firebase/firestore",FU="@firebase/vertexai-preview",LU="@firebase/firestore-compat",VU="firebase",UU="10.14.1";var Dv="[DEFAULT]",jU={[Ev]:"fire-core",[fU]:"fire-core-compat",[mU]:"fire-analytics",[pU]:"fire-analytics-compat",[yU]:"fire-app-check",[gU]:"fire-app-check-compat",[vU]:"fire-auth",[_U]:"fire-auth-compat",[IU]:"fire-rtdb",[wU]:"fire-data-connect",[EU]:"fire-rtdb-compat",[DU]:"fire-fn",[CU]:"fire-fn-compat",[bU]:"fire-iid",[TU]:"fire-iid-compat",[SU]:"fire-fcm",[AU]:"fire-fcm-compat",[RU]:"fire-perf",[MU]:"fire-perf-compat",[NU]:"fire-rc",[xU]:"fire-rc-compat",[PU]:"fire-gcs",[kU]:"fire-gcs-compat",[OU]:"fire-fst",[LU]:"fire-fst-compat",[FU]:"fire-vertex","fire-js":"fire-js",[VU]:"fire-js-all"};var Uc=new Map,BU=new Map,Cv=new Map;function xS(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ii(t){let e=t.name;if(Cv.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;Cv.set(e,t);for(let n of Uc.values())xS(n,t);for(let n of BU.values())xS(n,t);return!0}function Bc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t.settings!==void 0}var $U={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new xr("app","Firebase",$U);var bv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new In("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}};var wi=UU;function Av(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Dv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(n||(n=dv()),!n)throw _i.create("no-options");let o=Uc.get(i);if(o){if(so(n,o.options)&&so(r,o.config))return o;throw _i.create("duplicate-app",{appName:i})}let s=new gh(i);for(let u of Cv.values())s.addComponent(u);let a=new bv(n,r,s);return Uc.set(i,a),a}function Bs(t=Dv){let e=Uc.get(t);if(!e&&t===Dv&&dv())return Av();if(!e)throw _i.create("no-app",{appName:t});return e}function vh(){return Array.from(Uc.values())}function ct(t,e,n){var r;let i=(r=jU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}Ii(new In(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var HU="firebase-heartbeat-database",qU=1,jc="firebase-heartbeat-store",Iv=null;function FS(){return Iv||(Iv=MS(HU,qU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),Iv}function zU(t){return _(this,null,function*(){try{let n=(yield FS()).transaction(jc),r=yield n.objectStore(jc).get(LS(t));return yield n.done,r}catch(e){if(e instanceof cn)Pr.warn(e.message);else{let n=_i.create("idb-get",{originalErrorMessage:e?.message});Pr.warn(n.message)}}})}function PS(t,e){return _(this,null,function*(){try{let r=(yield FS()).transaction(jc,"readwrite");yield r.objectStore(jc).put(e,LS(t)),yield r.done}catch(n){if(n instanceof cn)Pr.warn(n.message);else{let r=_i.create("idb-set",{originalErrorMessage:n?.message});Pr.warn(r.message)}}})}function LS(t){return`${t.name}!${t.options.appId}`}var GU=1024,WU=30*24*60*60*1e3,Tv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Sv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=WU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=kS(),{heartbeatsToSend:r,unsentEntries:i}=KU(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Pr.warn(n),""}})}};function kS(){return new Date().toISOString().substring(0,10)}function KU(t,e=GU){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),OS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Sv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return fv()?wS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function OS(t){return Lc(JSON.stringify({version:2,heartbeats:t})).length}function QU(t){Ii(new In("platform-logger",e=>new wv(e),"PRIVATE")),Ii(new In("heartbeat",e=>new Tv(e),"PRIVATE")),ct(Ev,NS,t),ct(Ev,NS,"esm2017"),ct("fire-js","")}QU("");var YU="firebase",ZU="10.14.1";ct(YU,ZU,"app");var uo=new vr("ANGULARFIRE2_VERSION");function Ih(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var $c=(t,e)=>{let n=e?[e]:vh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Hs=class{constructor(){return $c(JU)}},JU="app-check";function $s(){}var _h=class{zone;delegate;constructor(e,n=Jp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Rv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),n.pipe(ze({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},qs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _h(Zone.current)),this.insideAngular=n.run(()=>new _h(Zone.current,zo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ee(be))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function XU(t){return wh().ngZone.runOutsideAngular(()=>t())}function co(t){return wh().ngZone.run(()=>t())}function ej(t){return tj(wh())(t)}function tj(t){return function(n){return n=n.lift(new Rv(t.ngZone)),n.pipe(Qr(t.outsideAngular),Kr(t.insideAngular))}}var nj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),co(()=>t.apply(void 0,r))},ut=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=co(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s))),r[o]=nj(r[o],n));let i=XU(()=>t.apply(this,r));if(!e)if(i instanceof ae){let o=wh();return i.pipe(Qr(o.outsideAngular),Kr(o.insideAngular))}else return co(()=>i);return i instanceof ae?i.pipe(ej):i instanceof Promise?co(()=>new Promise((o,s)=>i.then(a=>co(()=>o(a)),a=>co(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:co(()=>i)};var kr=class{constructor(e){return e}},lo=class{constructor(){return vh()}};function rj(t){return t&&t.length===1?t[0]:new kr(Bs())}var Mv=new H("angularfire2._apps"),ij={provide:kr,useFactory:rj,deps:[[new Ft,Mv]]},oj={provide:lo,deps:[[new Ft,Mv]]};function sj(t){return(e,n)=>{let r=n.get(Kn);ct("angularfire",uo.full,"core"),ct("angularfire",uo.full,"app"),ct("angular",Ub.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new kr(i)}}function VS(t,...e){return Gn([ij,oj,{provide:Mv,useFactory:sj(t),multi:!0,deps:[be,yt,qs,...e]}])}var US=ut(Av,!0);function nA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rA=nA,iA=new xr("auth","Firebase",nA());var Sh=new vi("@firebase/auth");function aj(t,...e){Sh.logLevel<=ye.WARN&&Sh.warn(`Auth (${wi}): ${t}`,...e)}function Dh(t,...e){Sh.logLevel<=ye.ERROR&&Sh.error(`Auth (${wi}): ${t}`,...e)}function tr(t,...e){throw Xv(t,...e)}function ho(t,...e){return Xv(t,...e)}function oA(t,e,n){let r=Object.assign(Object.assign({},rA()),{[e]:n});return new xr("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return oA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iA.create(t,...e)}function Z(t,e,...n){if(!t)throw Xv(e,...n)}function Or(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Dh(e),new Error(e)}function Di(t,e){t||Or(e)}function kv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cj(){return jS()==="http:"||jS()==="https:"}function jS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function uj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cj()||yS()||"connection"in navigator)?navigator.onLine:!0}function lj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var fo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=mS()||vS()}get(){return uj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function e_(t,e){Di(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ah=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hj=new fo(3e4,6e4);function Ci(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function bi(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return sA(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Vc(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return gS()||(y.referrerPolicy="no-referrer"),Ah.fetch()(aA(t,t.config.apiHost,n,p),y)}))})}function sA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},dj),e);try{let i=new Ov(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Eh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Eh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Eh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw oA(t,h,l);tr(t,h)}}catch(i){if(i instanceof cn)throw i;tr(t,"network-request-failed",{message:String(i)})}})}function Yc(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield bi(t,e,n,r,i);return"mfaPendingCredential"in l&&tr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function aA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?e_(t.config,i):`${t.config.apiScheme}://${i}`}function fj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ov=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ho(this.auth,"network-request-failed")),hj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Eh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ho(t,e,r);return i.customData._tokenResponse=n,i}function BS(t){return t!==void 0&&t.enterprise!==void 0}var Fv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function pj(t,e){return _(this,null,function*(){return bi(t,"GET","/v2/recaptchaConfig",Ci(t,e))})}function mj(t,e){return _(this,null,function*(){return bi(t,"POST","/v1/accounts:delete",e)})}function cA(t,e){return _(this,null,function*(){return bi(t,"POST","/v1/accounts:lookup",e)})}function Hc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function t_(t,e=!1){return _(this,null,function*(){let n=nt(t),r=yield n.getIdToken(e),i=n_(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Hc(Nv(i.auth_time)),issuedAtTime:Hc(Nv(i.iat)),expirationTime:Hc(Nv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Nv(t){return Number(t)*1e3}function n_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{let i=uv(n);return i?JSON.parse(i):(Dh("Failed to decode base64 JWT payload"),null)}catch(i){return Dh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $S(t){let e=n_(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof cn&&gj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function gj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Lv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Gc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield zc(t,cA(n,{idToken:r}));Z(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uA(o.providerUserInfo):[],a=yj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function r_(t){return _(this,null,function*(){let e=nt(t);yield Rh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uA(t){return t.map(e=>{var{providerId:n}=e,r=Xp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vj(t,e){return _(this,null,function*(){let n=yield sA(t,{},()=>_(this,null,function*(){let r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=aA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ah.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function _j(t,e){return _(this,null,function*(){return bi(t,"POST","/v2/accounts:revokeToken",Ci(t,e))})}var qc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$S(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let n=$S(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield vj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Or("not implemented")}};function Ei(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var zs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield zc(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return t_(this,e)}reload(){return r_(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Ln(this.auth.app))return Promise.reject(Lr(this.auth));let e=yield this.getIdToken();return yield zc(this,mj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:de,isAnonymous:$e,providerData:ne,stsTokenManager:D}=n;Z(K&&D,e,"internal-error");let v=qc.fromJSON(this.name,D);Z(typeof K=="string",e,"internal-error"),Ei(p,e.name),Ei(g,e.name),Z(typeof de=="boolean",e,"internal-error"),Z(typeof $e=="boolean",e,"internal-error"),Ei(y,e.name),Ei(b,e.name),Ei(M,e.name),Ei(R,e.name),Ei(j,e.name),Ei(q,e.name);let I=new t({uid:K,auth:e,email:g,emailVerified:de,displayName:p,isAnonymous:$e,photoURL:b,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:j,lastLoginAt:q});return ne&&Array.isArray(ne)&&(I.providerData=ne.map(E=>Object.assign({},E))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new qc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?uA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new qc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Gc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var HS=new Map;function Fr(t){Di(t instanceof Function,"Expected a class definition");let e=HS.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HS.set(t,e),e)}var Ij=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Vv=Ij;function Ch(t,e,n){return`firebase:${t}:${e}:${n}`}var Mh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ch(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ch("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?zs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Fr(Vv),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Fr(Vv),s=Ch(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=zs._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function qS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mA(e))return"Blackberry";if(gA(e))return"Webos";if(dA(e))return"Safari";if((e.includes("chrome/")||hA(e))&&!e.includes("edge/"))return"Chrome";if(pA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lA(t=ft()){return/firefox\//i.test(t)}function dA(t=ft()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hA(t=ft()){return/crios\//i.test(t)}function fA(t=ft()){return/iemobile/i.test(t)}function pA(t=ft()){return/android/i.test(t)}function mA(t=ft()){return/blackberry/i.test(t)}function gA(t=ft()){return/webos/i.test(t)}function i_(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wj(t=ft()){var e;return i_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ej(){return _S()&&document.documentMode===10}function yA(t=ft()){return i_(t)||pA(t)||gA(t)||mA(t)||/windows phone/i.test(t)||fA(t)}function vA(t,e=[]){let n;switch(t){case"Browser":n=qS(ft());break;case"Worker":n=`${qS(ft())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wi}/${r}`}var Uv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Dj(n){return _(this,arguments,function*(t,e={}){return bi(t,"GET","/v2/passwordPolicy",Ci(t,e))})}var Cj=6,jv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Cj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Bv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nh(this),this.idTokenSubscription=new Nh(this),this.beforeStateQueue=new Uv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Mh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield cA(this,{idToken:e}),r=yield zs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Ln(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=lj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Ln(this.app))return Promise.reject(Lr(this));let n=e?nt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Ln(this.app)?Promise.reject(Lr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ln(this.app)?Promise.reject(Lr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Fr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Dj(this),n=new jv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield _j(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=yield Mh.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&aj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function mo(t){return nt(t)}var Nh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DS(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bj(t){Vh=t}function _A(t){return Vh.loadJS(t)}function Tj(){return Vh.recaptchaEnterpriseScript}function Sj(){return Vh.gapiScript}function IA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Aj="recaptcha-enterprise",Rj="NO_RECAPTCHA",$v=class{constructor(e){this.type=Aj,this.auth=mo(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){pj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Fv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;BS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Rj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&BS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Tj();u.length!==0&&(u+=a),_A(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function zS(t,e,n,r=!1){return _(this,null,function*(){let i=new $v(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Hv(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield zS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>_(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield zS(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function o_(t,e){let n=Bc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(so(o,e??{}))return i;tr(i,"already-initialized")}return n.initialize({options:e})}function Mj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function s_(t,e,n){let r=mo(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=wA(e),{host:s,port:a}=Nj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||xj()}function wA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nj(t){let e=wA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:GS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:GS(s)}}}function GS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function xj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Wc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}};function Pj(t,e){return _(this,null,function*(){return bi(t,"POST","/v1/accounts:signUp",e)})}function kj(t,e){return _(this,null,function*(){return Yc(t,"POST","/v1/accounts:signInWithPassword",Ci(t,e))})}function Oj(t,e){return _(this,null,function*(){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",Ci(t,e))})}function Fj(t,e){return _(this,null,function*(){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",Ci(t,e))})}var Kc=class t extends Wc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hv(e,n,"signInWithPassword",kj);case"emailLink":return Oj(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hv(e,r,"signUpPassword",Pj);case"emailLink":return Fj(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function xv(t,e){return _(this,null,function*(){return Yc(t,"POST","/v1/accounts:signInWithIdp",Ci(t,e))})}function Lj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vj(t){let e=Us(js(t)).link,n=e?Us(js(e)).deep_link_id:null,r=Us(js(t)).deep_link_id;return(r?Us(js(r)).link:null)||r||n||e||t}var xh=class t{constructor(e){var n,r,i,o,s,a;let u=Us(js(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Lj((i=u.mode)!==null&&i!==void 0?i:null);Z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Vj(e);try{return new t(n)}catch{return null}}};var EA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Kc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=xh.parseLink(r);return Z(i,"argument-error"),Kc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ph=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var qv=class extends Ph{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Uj(t,e){return _(this,null,function*(){return Yc(t,"POST","/v1/accounts:signUp",Ci(t,e))})}var Gs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield zs._fromIdTokenResponse(e,r,i),s=WS(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=WS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function WS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var zv=class t extends cn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function DA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zv._fromErrorAndOperation(t,o,e,r):o})}function jj(t,e,n=!1){return _(this,null,function*(){let r=yield zc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Gs._forOperation(t,"link",r)})}function Bj(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Ln(r.app))return Promise.reject(Lr(r));let i="reauthenticate";try{let o=yield zc(t,DA(r,i,e,t),n);Z(o.idToken,r,"internal-error");let s=n_(o.idToken);Z(s,r,"internal-error");let{sub:a}=s;return Z(t.uid===a,r,"user-mismatch"),Gs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),o}})}function CA(t,e,n=!1){return _(this,null,function*(){if(Ln(t.app))return Promise.reject(Lr(t));let r="signIn",i=yield DA(t,r,e),o=yield Gs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function a_(t,e){return _(this,null,function*(){return CA(mo(t),e)})}function bA(t){return _(this,null,function*(){let e=mo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function c_(t,e,n){return _(this,null,function*(){if(Ln(t.app))return Promise.reject(Lr(t));let r=mo(t),s=yield Hv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&bA(t),u}),a=yield Gs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function u_(t,e,n){return Ln(t.app)?Promise.reject(Lr(t)):a_(nt(t),EA.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&bA(t),r}))}function Zc(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function l_(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function d_(t){return nt(t).signOut()}var kh="__sak";var Oh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var $j=1e3,Hj=10,qj=(()=>{class t extends Oh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Ej()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Hj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},$j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Gr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Gr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Gr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),TA=qj;var zj=(()=>{class t extends Oh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),h_=zj;function Gj(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Wj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield Gj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function SA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Gv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=SA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function er(){return window}function Kj(t){er().location.href=t}function AA(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}function Qj(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Yj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Zj(){return AA()?self:null}var RA="firebaseLocalStorageDb",Jj=1,Fh="firebaseLocalStorage",MA="fbase_key",po=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Uh(t,e){return t.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function Xj(){let t=indexedDB.deleteDatabase(RA);return new po(t).toPromise()}function Wv(){let t=indexedDB.open(RA,Jj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fh,{keyPath:MA})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),yield Xj(),e(yield Wv()))}))})}function KS(t,e,n){return _(this,null,function*(){let r=Uh(t,!0).put({[MA]:e,value:n});return new po(r).toPromise()})}function eB(t,e){return _(this,null,function*(){let n=Uh(t,!1).get(e),r=yield new po(n).toPromise();return r===void 0?null:r.value})}function QS(t,e){let n=Uh(t,!0).delete(e);return new po(n).toPromise()}var tB=800,nB=3,rB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Wv(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>nB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return AA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=Wj._getInstance(Zj()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Qj(),!this.activeServiceWorker)return;this.sender=new Gv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Yj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Wv();return yield KS(n,kh,"1"),yield QS(n,kh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>KS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>eB(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>QS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=Uh(o,!1).getAll();return new po(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),tB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),NA=rB;var GK=IA("rcb"),WK=new fo(3e4,6e4);function iB(t,e){return e?Fr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Qc=class extends Wc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function oB(t){return CA(t.auth,new Qc(t),t.bypassAuthState)}function sB(t){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),Bj(n,new Qc(t),t.bypassAuthState)}function aB(t){return _(this,null,function*(){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),jj(n,new Qc(t),t.bypassAuthState)})}var Kv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oB;case"linkViaPopup":case"linkViaRedirect":return aB;case"reauthViaPopup":case"reauthViaRedirect":return sB;default:tr(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var KK=new fo(2e3,1e4);var cB="pendingRedirect",bh=new Map,Qv=class t extends Kv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=bh.get(this.auth._key());if(!e){try{let r=(yield uB(this.resolver,this.auth))?yield Gr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Gr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Gr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function uB(t,e){return _(this,null,function*(){let n=hB(e),r=dB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function lB(t,e){bh.set(t._key(),e)}function dB(t){return Fr(t._redirectPersistence)}function hB(t){return Ch(cB,t.config.apiKey,t.name)}function fB(t,e,n=!1){return _(this,null,function*(){if(Ln(t.app))return Promise.reject(Lr(t));let r=mo(t),i=iB(r,e),s=yield new Qv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var pB=10*60*1e3,Yv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ho(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pB&&this.cachedEventUids.clear(),this.cachedEventUids.has(YS(e))}saveEventToCache(e){this.cachedEventUids.add(YS(e)),this.lastProcessedEventTime=Date.now()}};function YS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xA(t);default:return!1}}function gB(n){return _(this,arguments,function*(t,e={}){return bi(t,"GET","/v1/projects",e)})}var yB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vB=/^https?/;function _B(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield gB(t);for(let n of e)try{if(IB(n))return}catch{}tr(t,"unauthorized-domain")})}function IB(t){let e=kv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!vB.test(n))return!1;if(yB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var wB=new fo(3e4,6e4);function ZS(){let t=er().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EB(t){return new Promise((e,n)=>{var r,i,o;function s(){ZS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZS(),n(ho(t,"network-request-failed"))},timeout:wB.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=er().gapi)===null||o===void 0)&&o.load)s();else{let a=IA("iframefcb");return er()[a]=()=>{gapi.load?s():n(ho(t,"network-request-failed"))},_A(`${Sj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Th=null,e})}var Th=null;function DB(t){return Th=Th||EB(t),Th}var CB=new fo(5e3,15e3),bB="__/auth/iframe",TB="emulator/auth/iframe",SB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RB(t){let e=t.config;Z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?e_(e,TB):`https://${t.config.authDomain}/${bB}`,r={apiKey:e.apiKey,appName:t.name,v:wi},i=AB.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Vc(r).slice(1)}`}function MB(t){return _(this,null,function*(){let e=yield DB(t),n=er().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:RB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SB,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ho(t,"network-request-failed"),a=er().setTimeout(()=>{o(s)},CB.get());function u(){er().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var NB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xB=500,PB=600,kB="_blank",OB="http://localhost",Lh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FB(t,e,n,r=xB,i=PB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},NB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ft().toLowerCase();n&&(a=hA(l)?kB:n),lA(l)&&(e=e||OB,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,b])=>`${g}${y}=${b},`,"");if(wj(l)&&a!=="_self")return LB(e||"",a),new Lh(null);let p=window.open(e||"",a,h);Z(p,t,"popup-blocked");try{p.focus()}catch{}return new Lh(p)}function LB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var VB="__/auth/handler",UB="emulator/auth/handler",jB=encodeURIComponent("fac");function JS(t,e,n,r,i,o){return _(this,null,function*(){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wi,eventId:i};if(e instanceof Ph){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",ES(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof qv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${jB}=${encodeURIComponent(u)}`:"";return`${BB(t)}?${Vc(a).slice(1)}${l}`})}function BB({config:t}){return t.emulator?e_(t,UB):`https://${t.authDomain}/${VB}`}var Pv="webStorageSupport",Zv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h_,this._completeRedirectFn=fB,this._overrideRedirectResult=lB}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield JS(e,n,r,kv(),i);return FB(e,s,SA())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield JS(e,n,r,kv(),i);return Kj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Di(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield MB(e),r=new Yv(e);return n.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pv,{type:Pv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Pv];s!==void 0&&n(!!s),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_B(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yA()||dA()||i_()}},PA=Zv;var XS="@firebase/auth",eA="1.7.9";var Jv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $B(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HB(t){Ii(new In("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vA(t)},l=new Bv(r,i,o,u);return Mj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ii(new In("auth-internal",e=>{let n=mo(e.getProvider("auth").getImmediate());return(r=>new Jv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ct(XS,eA,$B(t)),ct(XS,eA,"esm2017")}var qB=5*60,zB=hv("authIdTokenMaxAge")||qB,tA=null,GB=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zB)return;let i=n?.token;tA!==i&&(tA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function f_(t=Bs()){let e=Bc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=o_(t,{popupRedirectResolver:PA,persistence:[NA,TA,h_]}),r=hv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=GB(o.toString());l_(n,s,()=>s(n.currentUser)),Zc(n,a=>s(a))}}let i=lv("auth");return i&&s_(n,`http://${i}`),n}function WB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ho("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",WB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HB("Browser");function FA(t){return new ae(function(e){var n=Zc(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var LA="auth",go=class{constructor(e){return e}},Jc=class{constructor(){return $c(LA)}};var p_=new H("angularfire2.auth-instances");function O$(t,e){let n=Ih(LA,t,e);return n&&new go(n)}function F$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new go(r)}}var L$={provide:Jc,deps:[[new Ft,p_]]},V$={provide:go,useFactory:O$,deps:[[new Ft,p_],kr]};function VA(t,...e){return ct("angularfire",uo.full,"auth"),Gn([V$,L$,{provide:p_,useFactory:F$(t),multi:!0,deps:[be,yt,qs,lo,[new Ft,Hs],...e]}])}var UA=ut(FA,!0);var jA=ut(c_,!0);var BA=ut(f_,!0);var $A=ut(u_,!0);var HA=ut(d_,!0);var qA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zA={};var Ti,m_;(function(){var t;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(E,C,S){for(var w=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)w[lr-2]=arguments[lr];return v.prototype[C].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var E=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)E[C]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(C=0;16>C;++C)E[C]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],C=D.g[2];var S=D.g[3],w=v+(S^I&(C^S))+E[0]+3614090360&4294967295;v=I+(w<<7&4294967295|w>>>25),w=S+(C^v&(I^C))+E[1]+3905402710&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(I^S&(v^I))+E[2]+606105819&4294967295,C=S+(w<<17&4294967295|w>>>15),w=I+(v^C&(S^v))+E[3]+3250441966&4294967295,I=C+(w<<22&4294967295|w>>>10),w=v+(S^I&(C^S))+E[4]+4118548399&4294967295,v=I+(w<<7&4294967295|w>>>25),w=S+(C^v&(I^C))+E[5]+1200080426&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(I^S&(v^I))+E[6]+2821735955&4294967295,C=S+(w<<17&4294967295|w>>>15),w=I+(v^C&(S^v))+E[7]+4249261313&4294967295,I=C+(w<<22&4294967295|w>>>10),w=v+(S^I&(C^S))+E[8]+1770035416&4294967295,v=I+(w<<7&4294967295|w>>>25),w=S+(C^v&(I^C))+E[9]+2336552879&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(I^S&(v^I))+E[10]+4294925233&4294967295,C=S+(w<<17&4294967295|w>>>15),w=I+(v^C&(S^v))+E[11]+2304563134&4294967295,I=C+(w<<22&4294967295|w>>>10),w=v+(S^I&(C^S))+E[12]+1804603682&4294967295,v=I+(w<<7&4294967295|w>>>25),w=S+(C^v&(I^C))+E[13]+4254626195&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(I^S&(v^I))+E[14]+2792965006&4294967295,C=S+(w<<17&4294967295|w>>>15),w=I+(v^C&(S^v))+E[15]+1236535329&4294967295,I=C+(w<<22&4294967295|w>>>10),w=v+(C^S&(I^C))+E[1]+4129170786&4294967295,v=I+(w<<5&4294967295|w>>>27),w=S+(I^C&(v^I))+E[6]+3225465664&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^I&(S^v))+E[11]+643717713&4294967295,C=S+(w<<14&4294967295|w>>>18),w=I+(S^v&(C^S))+E[0]+3921069994&4294967295,I=C+(w<<20&4294967295|w>>>12),w=v+(C^S&(I^C))+E[5]+3593408605&4294967295,v=I+(w<<5&4294967295|w>>>27),w=S+(I^C&(v^I))+E[10]+38016083&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^I&(S^v))+E[15]+3634488961&4294967295,C=S+(w<<14&4294967295|w>>>18),w=I+(S^v&(C^S))+E[4]+3889429448&4294967295,I=C+(w<<20&4294967295|w>>>12),w=v+(C^S&(I^C))+E[9]+568446438&4294967295,v=I+(w<<5&4294967295|w>>>27),w=S+(I^C&(v^I))+E[14]+3275163606&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^I&(S^v))+E[3]+4107603335&4294967295,C=S+(w<<14&4294967295|w>>>18),w=I+(S^v&(C^S))+E[8]+1163531501&4294967295,I=C+(w<<20&4294967295|w>>>12),w=v+(C^S&(I^C))+E[13]+2850285829&4294967295,v=I+(w<<5&4294967295|w>>>27),w=S+(I^C&(v^I))+E[2]+4243563512&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^I&(S^v))+E[7]+1735328473&4294967295,C=S+(w<<14&4294967295|w>>>18),w=I+(S^v&(C^S))+E[12]+2368359562&4294967295,I=C+(w<<20&4294967295|w>>>12),w=v+(I^C^S)+E[5]+4294588738&4294967295,v=I+(w<<4&4294967295|w>>>28),w=S+(v^I^C)+E[8]+2272392833&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^I)+E[11]+1839030562&4294967295,C=S+(w<<16&4294967295|w>>>16),w=I+(C^S^v)+E[14]+4259657740&4294967295,I=C+(w<<23&4294967295|w>>>9),w=v+(I^C^S)+E[1]+2763975236&4294967295,v=I+(w<<4&4294967295|w>>>28),w=S+(v^I^C)+E[4]+1272893353&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^I)+E[7]+4139469664&4294967295,C=S+(w<<16&4294967295|w>>>16),w=I+(C^S^v)+E[10]+3200236656&4294967295,I=C+(w<<23&4294967295|w>>>9),w=v+(I^C^S)+E[13]+681279174&4294967295,v=I+(w<<4&4294967295|w>>>28),w=S+(v^I^C)+E[0]+3936430074&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^I)+E[3]+3572445317&4294967295,C=S+(w<<16&4294967295|w>>>16),w=I+(C^S^v)+E[6]+76029189&4294967295,I=C+(w<<23&4294967295|w>>>9),w=v+(I^C^S)+E[9]+3654602809&4294967295,v=I+(w<<4&4294967295|w>>>28),w=S+(v^I^C)+E[12]+3873151461&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^I)+E[15]+530742520&4294967295,C=S+(w<<16&4294967295|w>>>16),w=I+(C^S^v)+E[2]+3299628645&4294967295,I=C+(w<<23&4294967295|w>>>9),w=v+(C^(I|~S))+E[0]+4096336452&4294967295,v=I+(w<<6&4294967295|w>>>26),w=S+(I^(v|~C))+E[7]+1126891415&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~I))+E[14]+2878612391&4294967295,C=S+(w<<15&4294967295|w>>>17),w=I+(S^(C|~v))+E[5]+4237533241&4294967295,I=C+(w<<21&4294967295|w>>>11),w=v+(C^(I|~S))+E[12]+1700485571&4294967295,v=I+(w<<6&4294967295|w>>>26),w=S+(I^(v|~C))+E[3]+2399980690&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~I))+E[10]+4293915773&4294967295,C=S+(w<<15&4294967295|w>>>17),w=I+(S^(C|~v))+E[1]+2240044497&4294967295,I=C+(w<<21&4294967295|w>>>11),w=v+(C^(I|~S))+E[8]+1873313359&4294967295,v=I+(w<<6&4294967295|w>>>26),w=S+(I^(v|~C))+E[15]+4264355552&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~I))+E[6]+2734768916&4294967295,C=S+(w<<15&4294967295|w>>>17),w=I+(S^(C|~v))+E[13]+1309151649&4294967295,I=C+(w<<21&4294967295|w>>>11),w=v+(C^(I|~S))+E[4]+4149444226&4294967295,v=I+(w<<6&4294967295|w>>>26),w=S+(I^(v|~C))+E[11]+3174756917&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~I))+E[2]+718787259&4294967295,C=S+(w<<15&4294967295|w>>>17),w=I+(S^(C|~v))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,E=this.B,C=this.h,S=0;S<v;){if(C==0)for(;S<=I;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(E[C++]=D.charCodeAt(S++),C==this.blockSize){i(this,E),C=0;break}}else for(;S<v;)if(E[C++]=D[S++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var E=0;32>E;E+=8)D[I++]=this.g[v]>>>E&255;return D};function o(D,v){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],E=!0,C=D.length-1;0<=C;C--){var S=D[C]|0;E&&S==v||(I[C]=S,E=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],I=1,E=0;D>=I;E++)v[E]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),E=p,C=0;C<D.length;C+=8){var S=Math.min(8,D.length-C),w=parseInt(D.substring(C,C+S),v);8>S?(S=l(Math.pow(v,S)),E=E.j(S).add(l(w))):(E=E.j(I),E=E.add(l(w)))}return E}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var E=this.i(I);D+=(0<=E?E:4294967296+E)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,E="";;){var C=de(I,v).g;I=j(I,C.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=C,b(I))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=j(this,D),M(D)?-1:b(D)?0:1};function R(D){for(var v=D.g.length,I=[],E=0;E<v;E++)I[E]=~D.g[E];return new s(I,~D.h).add(g)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],E=0,C=0;C<=v;C++){var S=E+(this.i(C)&65535)+(D.i(C)&65535),w=(S>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=w>>>16,S&=65535,w&=65535,I[C]=w<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function j(D,v){return D.add(R(v))}t.j=function(D){if(b(this)||b(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],E=0;E<2*v;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var S=this.i(E)>>>16,w=this.i(E)&65535,lr=D.i(C)>>>16,Ca=D.i(C)&65535;I[2*E+2*C]+=w*Ca,q(I,2*E+2*C),I[2*E+2*C+1]+=S*Ca,q(I,2*E+2*C+1),I[2*E+2*C+1]+=w*lr,q(I,2*E+2*C+1),I[2*E+2*C+2]+=S*lr,q(I,2*E+2*C+2)}for(E=0;E<v;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=v;E<2*v;E++)I[E]=0;return new s(I,0)};function q(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function K(D,v){this.g=D,this.h=v}function de(D,v){if(b(v))throw Error("division by zero");if(b(D))return new K(p,p);if(M(D))return v=de(R(D),v),new K(R(v.g),R(v.h));if(M(v))return v=de(D,R(v)),new K(R(v.g),v.h);if(30<D.g.length){if(M(D)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,E=v;0>=E.l(D);)I=$e(I),E=$e(E);var C=ne(I,1),S=ne(E,1);for(E=ne(E,2),I=ne(I,2);!b(E);){var w=S.add(E);0>=w.l(D)&&(C=C.add(I),S=w),E=ne(E,1),I=ne(I,1)}return v=j(D,C.j(v)),new K(C,v)}for(C=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(I),w=S.j(v);M(w)||0<w.l(D);)I-=E,S=l(I),w=S.j(v);b(S)&&(S=g),C=C.add(S),D=j(D,w)}return new K(C,D)}t.A=function(D){return de(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)&D.i(E);return new s(I,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)|D.i(E);return new s(I,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)^D.i(E);return new s(I,this.h^D.h)};function $e(D){for(var v=D.g.length+1,I=[],E=0;E<v;E++)I[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(I,D.h)}function ne(D,v){var I=v>>5;v%=32;for(var E=D.g.length-I,C=[],S=0;S<E;S++)C[S]=0<v?D.i(S+I)>>>v|D.i(S+I+1)<<32-v:D.i(S+I);return new s(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m_=zA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ti=zA.Integer=s}).apply(typeof qA<"u"?qA:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vr={};var g_,U$,Ws,y_,Xc,Bh,v_,__,I_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var T=c[m];if(!(T in f))break e;f=f[T]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,T={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,T,A){for(var L=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)L[Ne-2]=arguments[Ne];return d.prototype[T].apply(m,L)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let T=c.length||0,A=m.length||0;c.length=T+A;for(let L=0;L<A;L++)c[T+L]=m[L]}else c.push(m)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var $e=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ne(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(f in m)c[f]=m[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function w(){var c=lp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class lr{constructor(){this.h=this.g=null}add(d,f){let m=Ca.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ca=new j(()=>new DN,c=>c.reset());class DN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ba,Ta=!1,lp=new lr,Hw=()=>{let c=a.Promise.resolve(void 0);ba=()=>{c.then(CN)}};var CN=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ca;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ta=!1};function $r(){this.s=this.s,this.C=this.C}$r.prototype.s=!1,$r.prototype.ma=function(){this.s||(this.s=!0,this.N())},$r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var bN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Sa(c,d){if(It.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if($e){e:{try{de(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:TN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Sa.aa.h.call(this)}}b(Sa,It);var TN={2:"touch",3:"pen",4:"mouse"};Sa.prototype.h=function(){Sa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Aa="closure_listenable_"+(1e6*Math.random()|0),SN=0;function AN(c,d,f,m,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=T,this.key=++SN,this.da=this.fa=!1}function Pu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ku(c){this.src=c,this.g={},this.h=0}ku.prototype.add=function(c,d,f,m,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var L=hp(c,d,m,T);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new AN(d,this.src,A,!!m,T),d.fa=f,c.push(d)),d};function dp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],T=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(m,T,1),A&&(Pu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function hp(c,d,f,m){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return T}return-1}var fp="closure_lm_"+(1e6*Math.random()|0),pp={};function qw(c,d,f,m,T){if(m&&m.once)return Gw(c,d,f,m,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)qw(c,d[A],f,m,T);return null}return f=vp(f),c&&c[Aa]?c.K(d,f,l(m)?!!m.capture:!!m,T):zw(c,d,f,!1,m,T)}function zw(c,d,f,m,T,A){if(!d)throw Error("Invalid event type");var L=l(T)?!!T.capture:!!T,Ne=gp(c);if(Ne||(c[fp]=Ne=new ku(c)),f=Ne.add(d,f,m,L,A),f.proxy)return f;if(m=RN(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)bN||(T=L),T===void 0&&(T=!1),c.addEventListener(d.toString(),m,T);else if(c.attachEvent)c.attachEvent(Kw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function RN(){function c(f){return d.call(c.src,c.listener,f)}let d=MN;return c}function Gw(c,d,f,m,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Gw(c,d[A],f,m,T);return null}return f=vp(f),c&&c[Aa]?c.L(d,f,l(m)?!!m.capture:!!m,T):zw(c,d,f,!0,m,T)}function Ww(c,d,f,m,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)Ww(c,d[A],f,m,T);else m=l(m)?!!m.capture:!!m,f=vp(f),c&&c[Aa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=hp(A,f,m,T),-1<f&&(Pu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=gp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=hp(d,f,m,T)),(f=-1<c?d[c]:null)&&mp(f))}function mp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Aa])dp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Kw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=gp(d))?(dp(f,c),f.h==0&&(f.src=null,d[fp]=null)):Pu(c)}}}function Kw(c){return c in pp?pp[c]:pp[c]="on"+c}function MN(c,d){if(c.da)c=!0;else{d=new Sa(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&mp(c),c=f.call(m,d)}return c}function gp(c){return c=c[fp],c instanceof ku?c:null}var yp="__closure_events_fn_"+(1e9*Math.random()>>>0);function vp(c){return typeof c=="function"?c:(c[yp]||(c[yp]=function(d){return c.handleEvent(d)}),c[yp])}function wt(){$r.call(this),this.i=new ku(this),this.M=this,this.F=null}b(wt,$r),wt.prototype[Aa]=!0,wt.prototype.removeEventListener=function(c,d,f,m){Ww(this,c,d,f,m)};function Mt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new It(d,c);else if(d instanceof It)d.target=d.target||c;else{var T=d;d=new It(m,c),E(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var L=d.g=f[A];T=Ou(L,m,!0,d)&&T}if(L=d.g=c,T=Ou(L,m,!0,d)&&T,T=Ou(L,m,!1,d)&&T,f)for(A=0;A<f.length;A++)L=d.g=f[A],T=Ou(L,m,!1,d)&&T}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Pu(f[m]);delete c.g[d],c.h--}}this.F=null},wt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},wt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Ou(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==f){var Ne=L.listener,mt=L.ha||L.src;L.fa&&dp(c.i,L),T=Ne.call(mt,m)!==!1&&T}}return T&&!m.defaultPrevented}function Qw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Yw(c){c.g=Qw(()=>{c.g=null,c.i&&(c.i=!1,Yw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class NN extends $r{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Yw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(c){$r.call(this),this.h=c,this.g={}}b(Ra,$r);var Zw=[];function Jw(c){ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&mp(d)},c),c.g={}}Ra.prototype.N=function(){Ra.aa.N.call(this),Jw(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _p=a.JSON.stringify,xN=a.JSON.parse,PN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ip(){}Ip.prototype.h=null;function Xw(c){return c.h||(c.h=c.i())}function eE(){}var Ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wp(){It.call(this,"d")}b(wp,It);function Ep(){It.call(this,"c")}b(Ep,It);var Pi={},tE=null;function Fu(){return tE=tE||new wt}Pi.La="serverreachability";function nE(c){It.call(this,Pi.La,c)}b(nE,It);function Na(c){let d=Fu();Mt(d,new nE(d))}Pi.STAT_EVENT="statevent";function rE(c,d){It.call(this,Pi.STAT_EVENT,c),this.stat=d}b(rE,It);function Nt(c){let d=Fu();Mt(d,new rE(d,c))}Pi.Ma="timingevent";function iE(c,d){It.call(this,Pi.Ma,c),this.size=d}b(iE,It);function xa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Pa(){this.g=!0}Pa.prototype.xa=function(){this.g=!1};function kN(c,d,f,m,T,A){c.info(function(){if(c.g)if(A)for(var L="",Ne=A.split("&"),mt=0;mt<Ne.length;mt++){var we=Ne[mt].split("=");if(1<we.length){var Et=we[0];we=we[1];var Dt=Et.split("_");L=2<=Dt.length&&Dt[1]=="type"?L+(Et+"="+we+"&"):L+(Et+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+f+`
`+L})}function ON(c,d,f,m,T,A,L){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+L})}function No(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+LN(c,f)+(m?" "+m:"")})}function FN(c,d){c.info(function(){return"TIMEOUT: "+d})}Pa.prototype.info=function(){};function LN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<T.length;L++)T[L]=""}}}}return _p(f)}catch{return d}}var Lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dp;function Vu(){}b(Vu,Ip),Vu.prototype.g=function(){return new XMLHttpRequest},Vu.prototype.i=function(){return{}},Dp=new Vu;function Hr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sE}function sE(){this.i=null,this.g="",this.h=!1}var aE={},Cp={};function bp(c,d,f){c.L=1,c.v=$u(dr(d)),c.m=f,c.P=!0,cE(c,null)}function cE(c,d){c.F=Date.now(),Uu(c),c.A=dr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),EE(f.i,"t",m),c.C=0,f=c.j.J,c.h=new sE,c.g=jE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new NN(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(Zw[0]=T.toString()),T=Zw);for(var A=0;A<T.length;A++){var L=qw(f,T[A],m||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Na(),kN(c.i,c.u,c.A,c.l,c.R,c.m)}Hr.prototype.ca=function(c){c=c.target;let d=this.M;d&&hr(c)==3?d.j():this.Y(c)},Hr.prototype.Y=function(c){try{if(c==this.g)e:{let Dt=hr(this.g);var d=this.g.Ba();let ko=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||RE(this.g)))){this.J||Dt!=4||d==7||(d==8||0>=ko?Na(3):Na(2)),Tp(this);var f=this.g.Z();this.X=f;t:if(uE(this)){var m=RE(this.g);c="";var T=m.length,A=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),ka(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==T-1)});m.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,ON(this.i,this.u,this.A,this.l,this.R,Dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,mt=this.g;if((Ne=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ne)){var we=Ne;break t}}we=null}if(f=we)No(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sp(this,f);else{this.o=!1,this.s=3,Nt(12),ki(this),ka(this);break e}}if(this.P){f=!0;let Dn;for(;!this.J&&this.C<L.length;)if(Dn=VN(this,L),Dn==Cp){Dt==4&&(this.s=4,Nt(14),f=!1),No(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==aE){this.s=4,Nt(15),No(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else No(this.i,this.l,Dn,null),Sp(this,Dn);if(uE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||L.length!=0||this.h.h||(this.s=1,Nt(16),f=!1),this.o=this.o&&f,!f)No(this.i,this.l,L,"[Invalid Chunked Response]"),ki(this),ka(this);else if(0<L.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Pp(Et),Et.M=!0,Nt(11))}}else No(this.i,this.l,L,null),Sp(this,L);Dt==4&&ki(this),this.o&&!this.J&&(Dt==4?FE(this.j,this):(this.o=!1,Uu(this)))}else tx(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),ki(this),ka(this)}}}catch{}finally{}};function uE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function VN(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Cp:(f=Number(d.substring(f,m)),isNaN(f)?aE:(m+=1,m+f>d.length?Cp:(d=d.slice(m,m+f),c.C=m+f,d)))}Hr.prototype.cancel=function(){this.J=!0,ki(this)};function Uu(c){c.S=Date.now()+c.I,lE(c,c.I)}function lE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xa(g(c.ba,c),d)}function Tp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Hr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(FN(this.i,this.A),this.L!=2&&(Na(),Nt(17)),ki(this),this.s=2,ka(this)):lE(this,this.S-c)};function ka(c){c.j.G==0||c.J||FE(c.j,c)}function ki(c){Tp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Jw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Sp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ap(f.h,c))){if(!c.K&&Ap(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Wu(f),zu(f);else break e;xp(f),Nt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=xa(g(f.Za,f),6e3));if(1>=fE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Fi(f,11)}else if((c.K||f.g==c)&&Wu(f),!q(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let we=T[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let Et=we[3];Et!=null&&(f.la=Et,f.j.info("VER="+f.la));let Dt=we[4];Dt!=null&&(f.Aa=Dt,f.j.info("SVER="+f.Aa));let ko=we[5];ko!=null&&typeof ko=="number"&&0<ko&&(m=1.5*ko,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Dn=c.g;if(Dn){let Qu=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qu){var A=m.h;A.g||Qu.indexOf("spdy")==-1&&Qu.indexOf("quic")==-1&&Qu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Rp(A,A.h),A.h=null))}if(m.D){let kp=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;kp&&(m.ya=kp,Oe(m.I,m.D,kp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var L=c;if(m.qa=UE(m,m.J?m.ia:null,m.W),L.K){pE(m.h,L);var Ne=L,mt=m.L;mt&&(Ne.I=mt),Ne.B&&(Tp(Ne),Uu(Ne)),m.g=L}else kE(m);0<f.i.length&&Gu(f)}else we[0]!="stop"&&we[0]!="close"||Fi(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Fi(f,7):Np(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}Na(4)}catch{}}var UN=class{constructor(c,d){this.g=c,this.map=d}};function dE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fE(c){return c.h?1:c.g?c.g.size:0}function Ap(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Rp(c,d){c.g?c.g.add(d):c.h=d}function pE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}dE.prototype.cancel=function(){if(this.i=mE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function mE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function jN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function BN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function gE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=BN(c),m=jN(c),T=m.length,A=0;A<T;A++)d.call(void 0,m[A],f&&f[A],c)}var yE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $N(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),T=null;if(0<=m){var A=c[f].substring(0,m);T=c[f].substring(m+1)}else A=c[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Oi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oi){this.h=c.h,ju(this,c.j),this.o=c.o,this.g=c.g,Bu(this,c.s),this.l=c.l;var d=c.i,f=new La;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),vE(this,f),this.m=c.m}else c&&(d=String(c).match(yE))?(this.h=!1,ju(this,d[1]||"",!0),this.o=Oa(d[2]||""),this.g=Oa(d[3]||"",!0),Bu(this,d[4]),this.l=Oa(d[5]||"",!0),vE(this,d[6]||"",!0),this.m=Oa(d[7]||"")):(this.h=!1,this.i=new La(null,this.h))}Oi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Fa(d,_E,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Fa(d,_E,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Fa(f,f.charAt(0)=="/"?zN:qN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Fa(f,WN)),c.join("")};function dr(c){return new Oi(c)}function ju(c,d,f){c.j=f?Oa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Bu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function vE(c,d,f){d instanceof La?(c.i=d,KN(c.i,c.h)):(f||(d=Fa(d,GN)),c.i=new La(d,c.h))}function Oe(c,d,f){c.i.set(d,f)}function $u(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,HN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function HN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _E=/[#\/\?@]/g,qN=/[#\?:]/g,zN=/[#\?]/g,GN=/[#\?@]/g,WN=/#/g;function La(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function qr(c){c.g||(c.g=new Map,c.h=0,c.i&&$N(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=La.prototype,t.add=function(c,d){qr(this),this.i=null,c=xo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function IE(c,d){qr(c),d=xo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function wE(c,d){return qr(c),d=xo(c,d),c.g.has(d)}t.forEach=function(c,d){qr(this),this.g.forEach(function(f,m){f.forEach(function(T){c.call(d,T,m,this)},this)},this)},t.na=function(){qr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let T=c[m];for(let A=0;A<T.length;A++)f.push(d[m])}return f},t.V=function(c){qr(this);let d=[];if(typeof c=="string")wE(this,c)&&(d=d.concat(this.g.get(xo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return qr(this),this.i=null,c=xo(this,c),wE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function EE(c,d,f){IE(c,d),0<f.length&&(c.i=null,c.g.set(xo(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),L=this.V(m);for(m=0;m<L.length;m++){var T=A;L[m]!==""&&(T+="="+encodeURIComponent(String(L[m]))),c.push(T)}}return this.i=c.join("&")};function xo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function KN(c,d){d&&!c.j&&(qr(c),c.i=null,c.g.forEach(function(f,m){var T=m.toLowerCase();m!=T&&(IE(this,m),EE(this,T,f))},c)),c.j=d}function QN(c,d){let f=new Pa;if(a.Image){let m=new Image;m.onload=y(zr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(zr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(zr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(zr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function YN(c,d){let f=new Pa,m=new AbortController,T=setTimeout(()=>{m.abort(),zr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(T),A.ok?zr(f,"TestPingServer: ok",!0,d):zr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),zr(f,"TestPingServer: error",!1,d)})}function zr(c,d,f,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(f)}catch{}}function ZN(){this.g=new PN}function JN(c,d,f){let m=f||"";try{gE(c,function(T,A){let L=T;l(T)&&(L=_p(T)),d.push(m+A+"="+encodeURIComponent(L))})}catch(T){throw d.push(m+"type="+encodeURIComponent("_badmap")),T}}function Va(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Va,Ip),Va.prototype.g=function(){return new Hu(this.l,this.j)},Va.prototype.i=function(c){return function(){return c}}({});function Hu(c,d){wt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Hu,wt),t=Hu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ja(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;DE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function DE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ua(this):ja(this),this.readyState==3&&DE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ua(this))},t.Qa=function(c){this.g&&(this.response=c,Ua(this))},t.ga=function(){this.g&&Ua(this)};function Ua(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ja(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ja(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function CE(c){let d="";return ne(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Mp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=CE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Oe(c,d,f))}function He(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(He,wt);var XN=/^https?$/i,ex=["POST","PUT"];t=He.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dp.g(),this.v=this.o?Xw(this.o):Xw(Dp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){bE(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)f.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ex,d,void 0))||m||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of f)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AE(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){bE(this,A)}};function bE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,TE(c),qu(c)}function TE(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Mt(this,"complete"),Mt(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?SE(this):this.bb())},t.bb=function(){SE(this)};function SE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||hr(c)!=4||c.Z()!=2)){if(c.u&&hr(c)==4)Qw(c.Ea,0,c);else if(Mt(c,"readystatechange"),hr(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=L===0){var T=String(c.D).match(yE)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!XN.test(T?T.toLowerCase():"")}f=m}if(f)Mt(c,"complete"),Mt(c,"success");else{c.m=6;try{var A=2<hr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",TE(c)}}finally{qu(c)}}}}function qu(c,d){if(c.g){AE(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Mt(c,"ready");try{f.onreadystatechange=m}catch{}}}function AE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function hr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),xN(d)}};function RE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tx(c){let d={};c=(c.g&&2<=hr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(q(c[m]))continue;var f=C(c[m]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function ME(c){this.Aa=0,this.i=[],this.j=new Pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,c),this.cb=Ba("retryDelaySeedMs",1e4,c),this.Wa=Ba("forwardChannelMaxRetries",2,c),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new dE(c&&c.concurrentRequestLimit),this.Da=new ZN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ME.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Nt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=UE(this,null,this.W),Gu(this)};function Np(c){if(NE(c),c.G==3){var d=c.U++,f=dr(c.I);if(Oe(f,"SID",c.K),Oe(f,"RID",d),Oe(f,"TYPE","terminate"),$a(c,f),d=new Hr(c,c.j,d),d.L=2,d.v=$u(dr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=jE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Uu(d)}VE(c)}function zu(c){c.g&&(Pp(c),c.g.cancel(),c.g=null)}function NE(c){zu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gu(c){if(!hE(c.h)&&!c.s){c.s=!0;var d=c.Ga;ba||Hw(),Ta||(ba(),Ta=!0),lp.add(d,c),c.B=0}}function nx(c,d){return fE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xa(g(c.Ga,c,d),LE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Hr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=PE(this,T,d),f=dr(this.I),Oe(f,"RID",c),Oe(f,"CVER",22),this.D&&Oe(f,"X-HTTP-Session-Id",this.D),$a(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(CE(A)))+"&"+d:this.m&&Mp(f,this.m,A)),Rp(this.h,T),this.Ua&&Oe(f,"TYPE","init"),this.P?(Oe(f,"$req",d),Oe(f,"SID","null"),T.T=!0,bp(T,f,null)):bp(T,f,d),this.G=2}}else this.G==3&&(c?xE(this,c):this.i.length==0||hE(this.h)||xE(this))};function xE(c,d){var f;d?f=d.l:f=c.U++;let m=dr(c.I);Oe(m,"SID",c.K),Oe(m,"RID",f),Oe(m,"AID",c.T),$a(c,m),c.m&&c.o&&Mp(m,c.m,c.o),f=new Hr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=PE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rp(c.h,f),bp(f,m,d)}function $a(c,d){c.H&&ne(c.H,function(f,m){Oe(d,m,f)}),c.l&&gE({},function(f,m){Oe(d,m,f)})}function PE(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let L=["count="+f];A==-1?0<f?(A=T[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let Ne=!0;for(let mt=0;mt<f;mt++){let we=T[mt].g,Et=T[mt].map;if(we-=A,0>we)A=Math.max(0,T[mt].g-100),Ne=!1;else try{JN(Et,L,"req"+we+"_")}catch{m&&m(Et)}}if(Ne){m=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function kE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ba||Hw(),Ta||(ba(),Ta=!0),lp.add(d,c),c.v=0}}function xp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xa(g(c.Fa,c),LE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,OE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xa(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),zu(this),OE(this))};function Pp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function OE(c){c.g=new Hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=dr(c.qa);Oe(d,"RID","rpc"),Oe(d,"SID",c.K),Oe(d,"AID",c.T),Oe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(d,"TO",c.ja),Oe(d,"TYPE","xmlhttp"),$a(c,d),c.m&&c.o&&Mp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=$u(dr(d)),f.m=null,f.P=!0,cE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,zu(this),xp(this),Nt(19))};function Wu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function FE(c,d){var f=null;if(c.g==d){Wu(c),Pp(c),c.g=null;var m=2}else if(Ap(c.h,d))f=d.D,pE(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;m=Fu(),Mt(m,new iE(m,f)),Gu(c)}else kE(c);else if(T=d.s,T==3||T==0&&0<d.X||!(m==1&&nx(c,d)||m==2&&xp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function LE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Fi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let T=!m;m=new Oi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ju(m,"https"),$u(m),T?QN(m.toString(),f):YN(m.toString(),f)}else Nt(2);c.G=0,c.l&&c.l.sa(d),VE(c),NE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function VE(c){if(c.G=0,c.ka=[],c.l){let d=mE(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function UE(c,d,f){var m=f instanceof Oi?dr(f):new Oi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Bu(m,m.s);else{var T=a.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new Oi(null);m&&ju(A,m),d&&(A.g=d),T&&Bu(A,T),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Oe(m,f,d),Oe(m,"VER",c.la),$a(c,m),m}function jE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new He(new Va({eb:f})):new He(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function BE(){}t=BE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ku(){}Ku.prototype.g=function(c,d){return new Jt(c,d)};function Jt(c,d){wt.call(this),this.g=new ME(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Po(this)}b(Jt,wt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Np(this.g)},Jt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=_p(c),c=f);d.i.push(new UN(d.Ya++,c)),d.G==3&&Gu(d)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Np(this.g),delete this.g,Jt.aa.N.call(this)};function $E(c){wp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b($E,wp);function HE(){Ep.call(this),this.status=1}b(HE,Ep);function Po(c){this.g=c}b(Po,BE),Po.prototype.ua=function(){Mt(this.g,"a")},Po.prototype.ta=function(c){Mt(this.g,new $E(c))},Po.prototype.sa=function(c){Mt(this.g,new HE)},Po.prototype.ra=function(){Mt(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,I_=Vr.createWebChannelTransport=function(){return new Ku},__=Vr.getStatEventTarget=function(){return Fu()},v_=Vr.Event=Pi,Bh=Vr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lu.NO_ERROR=0,Lu.TIMEOUT=8,Lu.HTTP_ERROR=6,Xc=Vr.ErrorCode=Lu,oE.COMPLETE="complete",y_=Vr.EventType=oE,eE.EventType=Ma,Ma.OPEN="a",Ma.CLOSE="b",Ma.ERROR="c",Ma.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Ws=Vr.WebChannel=eE,U$=Vr.FetchXmlHttpFactory=Va,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,g_=Vr.XhrIo=He}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});var GA="@firebase/firestore";var pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");var fa="10.14.0";var Io=new vi("@firebase/firestore");function eu(){return Io.logLevel}function $(t,...e){if(Io.logLevel<=ye.DEBUG){let n=e.map(rw);Io.debug(`Firestore (${fa}): ${t}`,...n)}}function Ur(t,...e){if(Io.logLevel<=ye.ERROR){let n=e.map(rw);Io.error(`Firestore (${fa}): ${t}`,...n)}}function ea(t,...e){if(Io.logLevel<=ye.WARN){let n=e.map(rw);Io.warn(`Firestore (${fa}): ${t}`,...n)}}function rw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function J(t="Unexpected state"){let e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+t;throw Ur(e),new Error(e)}function Ae(t,e){t||J()}function te(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var rr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},b_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}},T_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},S_=class{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new Gh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new pt(e)}},A_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},R_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new A_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},M_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},N_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new M_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function j$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=j$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var _t=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new _t(0,0))}static max(){return new t(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends Kh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},B$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ln=class t extends Kh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return B$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var x_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};x_.UNKNOWN_ID=-1;function $$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new wo(i,W.empty(),e)}function H$(t){return new wo(t.readTime,t.key,-1)}var wo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),W.empty(),-1)}static max(){return new t(ie.max(),W.empty(),-1)}};function q$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var z$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",P_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _u(t){return _(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==z$)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function G$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Iu(t){return t.name==="IndexedDbTransactionError"}var SR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Sf(t){return t==null}function su(t){return t===0&&1/t==-1/0}function W$(t){return typeof t=="number"&&Number.isInteger(t)&&!su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var K$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y7=[...K$,"documentOverlays"],Q$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Y$=Q$,Z$=[...Y$,"indexConfiguration","indexState","indexEntries"];var Z7=[...Z$,"globals"];function WA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ge=class t{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zs(this.root,e,this.comparator,!0)}},Zs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ir=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();let e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class t{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qh(this.data.getIterator())}getIteratorFrom(e){return new Qh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Qh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var wn=class t{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new t([])}unionWith(e){let n=new At(ln.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Yh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Rt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Rt.EMPTY_BYTE_STRING=new Rt("");var J$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(Ae(!!t),typeof t=="string"){let e=0,n=J$.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}function iw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ow(t){let e=t.mapValue.fields.__previous_value__;return iw(e)?ow(e):e}function au(t){let e=jr(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}var k_=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Zh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var $h={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iw(t)?4:MR(t)?9007199254740991:RR(t)?10:11:J()}function cr(t,e){if(t===e)return!0;let n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return au(t).isEqual(au(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=jr(i.timestampValue),a=jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ri(i.bytesValue).isEqual(Ri(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?su(s)===su(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(WA(s)!==WA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!cr(s[u],a[u])))return!1;return!0}(t,e);default:return J()}}function cu(t,e){return(t.values||[]).find(n=>cr(n,e))!==void 0}function na(t,e){if(t===e)return 0;let n=Eo(t),r=Eo(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return KA(t.timestampValue,e.timestampValue);case 4:return KA(au(t),au(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ri(o),u=Ri(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ee(a[l],u[l]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ee(Ve(o.latitude),Ve(s.latitude));return a!==0?a:Ee(Ve(o.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return QA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,b=(u=g.value)===null||u===void 0?void 0:u.arrayValue,M=Ee(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:QA(y,b)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===$h.mapValue&&s===$h.mapValue)return 0;if(o===$h.mapValue)return 1;if(s===$h.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Ee(u[p],h[p]);if(g!==0)return g;let y=na(a[u[p]],l[h[p]]);if(y!==0)return y}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw J()}}function KA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=jr(t),r=jr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function QA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=na(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function ra(t){return O_(t)}function O_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=O_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${O_(n.fields[s])}`;return i+"}"}(t.mapValue):J()}function YA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function F_(t){return!!t&&"integerValue"in t}function sw(t){return!!t&&"arrayValue"in t}function ZA(t){return!!t&&"nullValue"in t}function JA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qh(t){return!!t&&"mapValue"in t}function RR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var un=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(nu(this.value))}};function NR(t){let e=[];return Ao(t.fields,(n,r)=>{let i=new ln([n]);if(qh(r)){let o=NR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new wn(e)}var Vn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),un.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ia=class{constructor(e,n){this.position=e,this.inclusive=n}};function XA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=na(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cr(t.position[n],e.position[n]))return!1;return!0}var oa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function X$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jh=class{},ot=class t extends Jh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V_(e,n,r):n==="array-contains"?new B_(e,r):n==="in"?new $_(e,r):n==="not-in"?new H_(e,r):n==="array-contains-any"?new q_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U_(e,r):new j_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(na(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Un=class t extends Jh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return xR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function xR(t){return t.op==="and"}function PR(t){return eH(t)&&xR(t)}function eH(t){for(let e of t.filters)if(e instanceof Un)return!1;return!0}function L_(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(PR(t))return t.filters.map(e=>L_(e)).join(",");{let e=t.filters.map(n=>L_(n)).join(",");return`${t.op}(${e})`}}function kR(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&cr(r.value,i.value)}(t,e):t instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&kR(s,i.filters[a]),!0):!1}(t,e):void J()}function OR(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${ra(n.value)}`}(t):t instanceof Un?function(n){return n.op.toString()+" {"+n.getFilters().map(OR).join(" ,")+"}"}(t):"Filter"}var V_=class extends ot{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},U_=class extends ot{constructor(e,n){super(e,"in",n),this.keys=FR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},j_=class extends ot{constructor(e,n){super(e,"not-in",n),this.keys=FR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function FR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var B_=class extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return sw(n)&&cu(n.arrayValue,this.value)}},$_=class extends ot{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}},H_=class extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!cu(this.value.arrayValue,n)}},q_=class extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!sw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cu(this.value.arrayValue,r))}};var z_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function tR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new z_(t,e,n,r,i,o,s)}function aw(t){let e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>L_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),e.ue=n}return e.ue}function cw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eR(t.startAt,e.startAt)&&eR(t.endAt,e.endAt)}function G_(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Do=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function tH(t,e,n,r,i,o,s,a){return new Do(t,e,n,r,i,o,s,a)}function uw(t){return new Do(t)}function nR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LR(t){return t.collectionGroup!==null}function ru(t){let e=te(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new At(ln.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new oa(o,r))}),n.has(ln.keyField().canonicalString())||e.ce.push(new oa(ln.keyField(),r))}return e.ce}function or(t){let e=te(t);return e.le||(e.le=nH(e,ru(t))),e.le}function nH(t,e){if(t.limitType==="F")return tR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new oa(i.field,o)});let n=t.endAt?new ia(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ia(t.startAt.position,t.startAt.inclusive):null;return tR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W_(t,e){let n=t.filters.concat([e]);return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function K_(t,e,n){return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Af(t,e){return cw(or(t),or(e))&&t.limitType===e.limitType}function VR(t){return`${aw(or(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OR(i)).join(", ")}]`),Sf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ra(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ra(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function Rf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ru(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=XA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,ru(r),i)||r.endAt&&!function(s,a,u){let l=XA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,ru(r),i))}(t,e)}function rH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UR(t){return(e,n)=>{let r=!1;for(let i of ru(t)){let o=iH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function iH(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?na(u,l):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}var Mi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return AR(this.inner)}size(){return this.innerSize}};var oH=new Ge(W.comparator);function Br(){return oH}var jR=new Ge(W.comparator);function tu(...t){let e=jR;for(let n of t)e=e.insert(n.key,n);return e}function BR(t){let e=jR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yo(){return iu()}function $R(){return iu()}function iu(){return new Mi(t=>t.toString(),(t,e)=>t.isEqual(e))}var sH=new Ge(W.comparator),aH=new At(W.comparator);function ve(...t){let e=aH;for(let n of t)e=e.add(n);return e}var cH=new At(Ee);function uH(){return cH}function lw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function HR(t){return{integerValue:""+t}}function lH(t,e){return W$(e)?HR(e):lw(t,e)}var sa=class{constructor(){this._=void 0}};function dH(t,e,n){return t instanceof aa?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&iw(o)&&(o=ow(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Co?zR(t,e):t instanceof bo?GR(t,e):function(i,o){let s=qR(i,o),a=rR(s)+rR(i.Pe);return F_(s)&&F_(i.Pe)?HR(a):lw(i.serializer,a)}(t,e)}function hH(t,e,n){return t instanceof Co?zR(t,e):t instanceof bo?GR(t,e):n}function qR(t,e){return t instanceof ca?function(r){return F_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var aa=class extends sa{},Co=class extends sa{constructor(e){super(),this.elements=e}};function zR(t,e){let n=WR(e);for(let r of t.elements)n.some(i=>cr(i,r))||n.push(r);return{arrayValue:{values:n}}}var bo=class extends sa{constructor(e){super(),this.elements=e}};function GR(t,e){let n=WR(e);for(let r of t.elements)n=n.filter(i=>!cr(i,r));return{arrayValue:{values:n}}}var ca=class extends sa{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function rR(t){return Ve(t.integerValue||t.doubleValue)}function WR(t){return sw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Co&&i instanceof Co||r instanceof bo&&i instanceof bo?ta(r.elements,i.elements,cr):r instanceof ca&&i instanceof ca?cr(r.Pe,i.Pe):r instanceof aa&&i instanceof aa}(t.transform,e.transform)}var Q_=class{constructor(e,n){this.version=e,this.transformResults=n}},Si=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ua=class{};function KR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xh(t.key,Si.none()):new To(t.key,t.data,Si.none());{let n=t.data,r=un.empty(),i=new At(ln.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ur(t.key,r,new wn(i.toArray()),Si.none())}}function pH(t,e,n){t instanceof To?function(i,o,s){let a=i.value.clone(),u=oR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ur?function(i,o,s){if(!zh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=oR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(QR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ou(t,e,n,r){return t instanceof To?function(o,s,a,u){if(!zh(o.precondition,s))return a;let l=o.value.clone(),h=sR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ur?function(o,s,a,u){if(!zh(o.precondition,s))return a;let l=sR(o.fieldTransforms,u,s),h=s.data;return h.setAll(QR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return zh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function mH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=qR(r.transform,i||null);o!=null&&(n===null&&(n=un.empty()),n.set(r.field,o))}return n||null}function iR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ta(r,i,(o,s)=>fH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var To=class extends ua{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ur=class extends ua{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function QR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function oR(t,e,n){let r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hH(s,a,n[i]))}return r}function sR(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,dH(o,s,e))}return r}var Xh=class extends ua{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Y_=class extends ua{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Z_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&pH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=$R();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=KR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,r)=>iR(n,r))&&ta(this.baseMutations,e.baseMutations,(n,r)=>iR(n,r))}},J_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return sH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var X_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var eI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var rt,Ie;function gH(t){switch(t){default:return J();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function YR(t){if(t===void 0)return Ur("GRPC error has no .code"),P.UNKNOWN;switch(t){case rt.OK:return P.OK;case rt.CANCELLED:return P.CANCELLED;case rt.UNKNOWN:return P.UNKNOWN;case rt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case rt.INTERNAL:return P.INTERNAL;case rt.UNAVAILABLE:return P.UNAVAILABLE;case rt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case rt.NOT_FOUND:return P.NOT_FOUND;case rt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case rt.ABORTED:return P.ABORTED;case rt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case rt.DATA_LOSS:return P.DATA_LOSS;default:return J()}}(Ie=rt||(rt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var aR=null;function yH(){return new TextEncoder}var vH=new Ti([4294967295,4294967295],0);function cR(t){let e=yH().encode(t),n=new m_;return n.update(e),new Uint8Array(n.digest())}function uR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ti([n,r],0),new Ti([i,o],0)]}var tI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ti.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ti.fromNumber(r)));return i.compare(vH)===1&&(i=new Ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=cR(e),[r,i]=uR(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=cR(e),[r,i]=uR(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ef=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new Ge(Ee),Br(),ve())}},uu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ve(),ve(),ve())}};var Js=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},tf=class{constructor(e,n){this.targetId=e,this.me=n}},nf=class{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},rf=class{constructor(){this.fe=0,this.ge=dR(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new uu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=dR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},nI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=lR(),this.Qe=new Ge(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(G_(o))if(r===0){let s=new W(o.path);this.Ue(n,s,Vn.newNoDocument(s,ie.min()))}else Ae(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}aR?.et(function(h,p,g,y,b){var M,R,j,q,K,de;let $e={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ne=p.unchangedNames;return ne&&($e.bloomFilter={applied:b===0,hashCount:(M=ne?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(q=(j=(R=ne?.bits)===null||R===void 0?void 0:R.bitmap)===null||j===void 0?void 0:j.length)!==null&&q!==void 0?q:0,padding:(de=(K=ne?.bits)===null||K===void 0?void 0:K.padding)!==null&&de!==void 0?de:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),$e}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ri(r).toUint8Array()}catch(u){if(u instanceof Yh)return ea("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new tI(s,i,o)}catch(u){return ea(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&G_(a.target)){let u=new W(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Vn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new ef(e,n,this.Qe,this.ke,r);return this.ke=Br(),this.qe=lR(),this.Qe=new Ge(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new At(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function lR(){return new Ge(W.comparator)}function dR(){return new Ge(W.comparator)}var _H={asc:"ASCENDING",desc:"DESCENDING"},IH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wH={and:"AND",or:"OR"},rI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function iI(t,e){return t.useProto3Json||Sf(e)?e:{value:e}}function of(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EH(t,e){return of(t,e.toTimestamp())}function sr(t){return Ae(!!t),ie.fromTimestamp(function(n){let r=jr(n);return new _t(r.seconds,r.nanos)}(t))}function dw(t,e){return oI(t,e).canonicalString()}function oI(t,e){let n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JR(t){let e=Be.fromString(t);return Ae(rM(e)),e}function sI(t,e){return dw(t.databaseId,e.path)}function w_(t,e){let n=JR(e);if(n.get(1)!==t.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(eM(n))}function XR(t,e){return dw(t.databaseId,e)}function DH(t){let e=JR(t);return e.length===4?Be.emptyPath():eM(e)}function aI(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eM(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hR(t,e,n){return{name:sI(t,e),fields:n.value.mapValue.fields}}function CH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string"),Rt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:YR(l.code);return new B(h,l.message||"")}(s);n=new nf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=w_(t,r.document.name),o=sr(r.document.updateTime),s=r.document.createTime?sr(r.document.createTime):ie.min(),a=new un({mapValue:{fields:r.document.fields}}),u=Vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Js(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=w_(t,r.document),o=r.readTime?sr(r.readTime):ie.min(),s=Vn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Js([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=w_(t,r.document),o=r.removedTargetIds||[];n=new Js([],o,i,null)}else{if(!("filter"in e))return J();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new eI(i,o),a=r.targetId;n=new tf(a,s)}}return n}function bH(t,e){let n;if(e instanceof To)n={update:hR(t,e.key,e.value)};else if(e instanceof Xh)n={delete:sI(t,e.key)};else if(e instanceof ur)n={update:hR(t,e.key,e.data),updateMask:kH(e.fieldMask)};else{if(!(e instanceof Y_))return J();n={verify:sI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof aa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ca)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:EH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:J()}(t,e.precondition)),n}function TH(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?sr(i.updateTime):sr(o);return s.isEqual(ie.min())&&(s=sr(o)),new Q_(s,i.transformResults||[])}(n,e))):[]}function SH(t,e){return{documents:[XR(t,e.path)]}}function AH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XR(t,i);let o=function(l){if(l.length!==0)return nM(Un.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Qs(g.field),direction:NH(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=iI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function RH(t){let e=DH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=tM(p);return g instanceof Un&&PR(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(b){return new oa(Ys(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Sf(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new ia(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new ia(y,g)}(n.endAt)),tH(e,i,s,o,a,"F",u,l)}function MH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ys(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ys(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ys(n.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ys(n.unaryFilter.field);return ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Ys(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Un.create(n.compositeFilter.filters.map(r=>tM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function NH(t){return _H[t]}function xH(t){return IH[t]}function PH(t){return wH[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return ln.fromServerFormat(t.fieldPath)}function nM(t){return t instanceof ot?function(n){if(n.op==="=="){if(JA(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(ZA(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JA(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(ZA(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:xH(n.op),value:n.value}}}(t):t instanceof Un?function(n){let r=n.getFilters().map(i=>nM(i));return r.length===1?r[0]:{compositeFilter:{op:PH(n.op),filters:r}}}(t):J()}function kH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var lu=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=Rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var cI=class{constructor(e){this.ct=e}};function OH(t){let e=RH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?K_(e,e.limit,"L"):e}var sf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),su(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=jr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ri(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?MR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):RR(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):J()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ve(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),W.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};sf.vt=new sf;var uI=class{constructor(){this.un=new lI}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(wo.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},lI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(Be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(Be.comparator)).toArray()}};var X7=new Uint8Array(0);var nr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(41943040,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);var du=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var dI=class{constructor(){this.changes=new Mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var fI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ou(r.mutation,i,wn.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){let i=yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=tu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Br(),s=iu(),a=function(){return iu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ur)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ou(h.mutation,l,h.mutation.getFieldMask(),_t.now())):s.set(l.key,wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new hI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=iu(),i=new Ge((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||wn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=$R();h.forEach(g=>{if(!o.has(g)){let y=KR(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(yo()),a=-1,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(h=>({batchId:a,changes:BR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=tu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=tu();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=function(p,g){return new Do(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Vn.newInvalidDocument(h)))});let a=tu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ou(h.mutation,l,wn.empty(),_t.now()),Rf(n,l)&&(a=a.insert(u,l))}),a})}};var pI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:sr(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:OH(i.bundledQuery),readTime:sr(i.readTime)}}(n)),O.resolve()}};var mI=class{constructor(){this.overlays=new Ge(W.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=yo();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=yo(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ge((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new X_(n,r));let o=this.Ir.get(n);o===void 0&&(o=ve(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var gI=class{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var hu=class{constructor(){this.Tr=new At(it.Er),this.dr=new At(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new it(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new it(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new W(new Be([])),r=new it(n,e),i=new it(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new W(new Be([])),r=new it(n,e),i=new it(n,e+1),o=ve();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new it(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},it=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return W.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||W.comparator(e.key,n.key)}};var yI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new At(it.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Z_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new it(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ee);return n.forEach(i=>{let o=new it(i,0),s=new it(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new it(new W(o),0),a=new At(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let o=new it(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new it(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var vI=class{constructor(e){this.Mr=e,this.docs=function(){return new Ge(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Br(),s=n.path,a=new W(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||q$(H$(h),r)<=0||(i.has(h.key)||Rf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){J()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _I(this)}getSize(e){return O.resolve(this.size)}},_I=class extends dI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var II=class{constructor(e){this.persistence=e,this.Nr=new Mi(n=>aw(n),cw),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hu,this.targetCount=0,this.kr=du.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new du(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var wI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new SR(0),this.Kr=!1,this.Kr=!0,this.$r=new gI,this.referenceDelegate=e(this),this.Ur=new II(this),this.indexManager=new uI,this.remoteDocumentCache=function(i){return new vI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new cI(n),this.Gr=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new yI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new EI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},EI=class extends P_{constructor(e){super(),this.currentSequenceNumber=e}},DI=class t{constructor(e){this.persistence=e,this.Jr=new hu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=W.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var CI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ve(),i=ve();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var bI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var TI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return IS()?8:G$(ft())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bI;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(eu()<=ye.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(eu()<=ye.DEBUG&&$("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(eu()<=ye.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):O.resolve())}Yi(e,n){if(nR(n))return O.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=K_(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,K_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return nR(n)||i.isEqual(ie.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?O.resolve(null):(eu()<=ye.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(n)),this.rs(e,s,n,$$(i,-1)).next(a=>a))})}ts(e,n){let r=new At(UR(e));return n.forEach((i,o)=>{Rf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return eu()<=ye.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.Ji.getDocumentsMatchingQuery(e,n,wo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var SI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ge(Ee),this._s=new Mi(o=>aw(o),cw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function FH(t,e,n,r){return new SI(t,e,n,r)}function iM(t,e){return _(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ve();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function LH(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=O.resolve();return g.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(M=>{let R=l.docVersions.get(b);Ae(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oM(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function VH(t,e){let n=te(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Rt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,R,j){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(g,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Br(),l=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(UH(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ie.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function UH(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Br();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function jH(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BH(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new lu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function AI(t,e,n){return _(this,null,function*(){let r=te(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Iu(s))throw s;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function fR(t,e,n){let r=te(t),i=ie.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=te(u),g=p._s.get(h);return g!==void 0?O.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:ve())).next(a=>($H(r,rH(e),a),{documents:a,Ts:o})))}function $H(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var af=class{constructor(){this.activeTargetIds=uH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var RI=class{constructor(){this.so=new af,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new af,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var MI=class{_o(e){}shutdown(){}};var cf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hh=null;function E_(){return Hh===null?Hh=function(){return 268435456+Math.round(2147483648*Math.random())}():Hh++,"0x"+Hh.toString(16)}var HH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var NI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var St="WebChannelConnection",xI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=E_(),u=this.xo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>($("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ea("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=HH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=E_();return new Promise((s,a)=>{let u=new g_;u.setWithCredentials(!0),u.listenOnce(y_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xc.NO_ERROR:let h=u.getResponseJson();$(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Xc.TIMEOUT:$(St,`RPC '${e}' ${o} timed out`),a(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:let p=u.getStatus();if($(St,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let b=function(R){let j=R.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(j)>=0?j:P.UNKNOWN}(y.status);a(new B(b,y.message))}else a(new B(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new B(P.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{$(St,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);$(St,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=E_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=I_(),a=__(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");$(St,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,b=new NI({Io:R=>{y?$(St,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||($(St,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),$(St,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,j,q)=>{R.listen(j,K=>{try{q(K)}catch(de){setTimeout(()=>{throw de},0)}})};return M(p,Ws.EventType.OPEN,()=>{y||($(St,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),M(p,Ws.EventType.CLOSE,()=>{y||(y=!0,$(St,`RPC '${e}' stream ${i} transport closed`),b.So())}),M(p,Ws.EventType.ERROR,R=>{y||(y=!0,ea(St,`RPC '${e}' stream ${i} transport errored:`,R),b.So(new B(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ws.EventType.MESSAGE,R=>{var j;if(!y){let q=R.data[0];Ae(!!q);let K=q,de=K.error||((j=K[0])===null||j===void 0?void 0:j.error);if(de){$(St,`RPC '${e}' stream ${i} received error:`,de);let $e=de.status,ne=function(I){let E=rt[I];if(E!==void 0)return YR(E)}($e),D=de.message;ne===void 0&&(ne=P.INTERNAL,D="Unknown error status: "+$e+" with message "+de.message),y=!0,b.So(new B(ne,D)),p.close()}else $(St,`RPC '${e}' stream ${i} received:`,q),b.bo(q)}}),M(a,v_.STAT_EVENT,R=>{R.stat===Bh.PROXY?$(St,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Bh.NOPROXY&&$(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}};function D_(){return typeof document<"u"?document:null}function Mf(t){return new rI(t,!0)}var uf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var lf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new B(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},PI=class extends lf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=CH(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?sr(s.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=aI(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=G_(u)?{documents:SH(o,u)}:{query:AH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ZR(o,s.resumeToken);let l=iI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=of(o,s.snapshotVersion.toTimestamp());let l=iI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=MH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=aI(this.serializer),n.removeTarget=e,this.a_(n)}},kI=class extends lf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=TH(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=aI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>bH(this.serializer,r))};this.a_(n)}};var OI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,oI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(P.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,oI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},FI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ur(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var LI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Ro(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=te(u);l.L_.add(4),yield wu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Nf(l)})}(this))}))}),this.q_=new FI(r,i)}};function Nf(t){return _(this,null,function*(){if(Ro(t))for(let e of t.B_)yield e(!0)})}function wu(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function sM(t,e){let n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),mw(n)?pw(n):pa(n).r_()&&fw(n,e))}function hw(t,e){let n=te(t),r=pa(n);n.N_.delete(e),r.r_()&&aM(n,e),n.N_.size===0&&(r.r_()?r.o_():Ro(n)&&n.q_.set("Unknown"))}function fw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).A_(e)}function aM(t,e){t.Q_.xe(e),pa(t).R_(e)}function pw(t){t.Q_=new nI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.q_.v_()}function mw(t){return Ro(t)&&!pa(t).n_()&&t.N_.size>0}function Ro(t){return te(t).L_.size===0}function cM(t){t.Q_=void 0}function qH(t){return _(this,null,function*(){t.q_.set("Online")})}function zH(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{fw(t,e)})})}function GH(t,e){return _(this,null,function*(){cM(t),mw(t)?(t.q_.M_(e),pw(t)):t.q_.set("Unknown")})}function WH(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof nf&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield df(t,r)}else if(e instanceof Js?t.Q_.Ke(e):e instanceof tf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{let r=yield oM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),aM(o,u);let p=new lu(h.target,u,l,h.sequenceNumber);fw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){$("RemoteStore","Failed to raise snapshot:",r),yield df(t,r)}})}function df(t,e,n){return _(this,null,function*(){if(!Iu(e))throw e;t.L_.add(1),yield wu(t),t.q_.set("Offline"),n||(n=()=>oM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Nf(t)}))})}function uM(t,e){return e().catch(n=>df(t,n,e))}function xf(t){return _(this,null,function*(){let e=te(t),n=Ni(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;KH(e);)try{let i=yield jH(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,QH(e,i)}catch(i){yield df(e,i)}lM(e)&&dM(e)})}function KH(t){return Ro(t)&&t.O_.length<10}function QH(t,e){t.O_.push(e);let n=Ni(t);n.r_()&&n.V_&&n.m_(e.mutations)}function lM(t){return Ro(t)&&!Ni(t).n_()&&t.O_.length>0}function dM(t){Ni(t).start()}function YH(t){return _(this,null,function*(){Ni(t).p_()})}function ZH(t){return _(this,null,function*(){let e=Ni(t);for(let n of t.O_)e.m_(n.mutations)})}function JH(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=J_.from(r,e,n);yield uM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xf(t)})}function XH(t,e){return _(this,null,function*(){e&&Ni(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return gH(s)&&s!==P.ABORTED}(i.code)){let o=r.O_.shift();Ni(r).s_(),yield uM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield xf(r)}})}(t,e)),lM(t)&&dM(t)})}function pR(t,e){return _(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let r=Ro(n);n.L_.add(3),yield wu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Nf(n)})}function eq(t,e){return _(this,null,function*(){let n=te(t);e?(n.L_.delete(2),yield Nf(n)):e||(n.L_.add(2),yield wu(n),n.q_.set("Unknown"))})}function pa(t){return t.K_||(t.K_=function(n,r,i){let o=te(n);return o.w_(),new PI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:qH.bind(null,t),Ro:zH.bind(null,t),mo:GH.bind(null,t),d_:WH.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),mw(t)?pw(t):t.q_.set("Unknown")):(yield t.K_.stop(),cM(t))}))),t.K_}function Ni(t){return t.U_||(t.U_=function(n,r,i){let o=te(n);return o.w_(),new kI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YH.bind(null,t),mo:XH.bind(null,t),f_:ZH.bind(null,t),g_:JH.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield xf(t)):(yield t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var VI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gw(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),Iu(t))return new B(P.UNAVAILABLE,`${e}: ${t}`);throw t}var hf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=tu(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ff=class{constructor(){this.W_=new Ge(W.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},la=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,hf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var UI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},jI=class{constructor(){this.queries=mR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=te(n),o=i.queries;i.queries=mR(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new B(P.ABORTED,"Firestore shutting down"))}};function mR(){return new Mi(t=>VR(t),Af)}function hM(t,e){return _(this,null,function*(){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new UI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=gw(s,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&yw(n)})}function fM(t,e){return _(this,null,function*(){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function tq(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&yw(n)}function nq(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function yw(t){t.Y_.forEach(e=>{e.next()})}var BI,gR;(gR=BI||(BI={})).ea="default",gR.Cache="cache";var pf=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==BI.Cache}};var mf=class{constructor(e){this.key=e}},gf=class{constructor(e){this.key=e}},$I=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=UR(e),this.Ra=new hf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new ff,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Rf(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?b!==M&&(r.track({type:3,doc:y}),R=!0):this.ga(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,b){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return M(y)-M(b)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new la(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ff,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new mf(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return la.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},HI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},qI=class{constructor(e){this.key=e,this.va=!1}},zI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Mi(a=>VR(a),Af),this.Ma=new Map,this.xa=new Set,this.Oa=new Ge(W.comparator),this.Na=new Map,this.La=new hu,this.Ba={},this.ka=new Map,this.qa=du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function rq(t,e,n=!0){return _(this,null,function*(){let r=_M(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield pM(r,e,n,!0),i})}function iq(t,e){return _(this,null,function*(){let n=_M(t);yield pM(n,e,!0,!1)})}function pM(t,e,n,r){return _(this,null,function*(){let i=yield BH(t.localStore,or(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield oq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&sM(t.remoteStore,i),a})}function oq(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,g,y)=>function(M,R,j,q){return _(this,null,function*(){let K=R.view.ma(j);K.ns&&(K=yield fR(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,K)));let de=q&&q.targetChanges.get(R.targetId),$e=q&&q.targetMismatches.get(R.targetId)!=null,ne=R.view.applyChanges(K,M.isPrimaryClient,de,$e);return vR(M,R.targetId,ne.wa),ne.snapshot})}(t,p,g,y);let o=yield fR(t.localStore,e,!0),s=new $I(e,o.Ts),a=s.ma(o.documents),u=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);vR(t,n,l.wa);let h=new HI(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function sq(t,e,n){return _(this,null,function*(){let r=te(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Af(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield AI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hw(r.remoteStore,i.targetId),GI(r,i.targetId)}).catch(_u))):(GI(r,i.targetId),yield AI(r.localStore,i.targetId,!0))})}function aq(t,e){return _(this,null,function*(){let n=te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hw(n.remoteStore,r.targetId))})}function cq(t,e,n){return _(this,null,function*(){let r=mq(t);try{let i=yield function(s,a){let u=te(s),l=_t.now(),h=a.reduce((y,b)=>y.add(b.key),ve()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Br(),M=ve();return u.cs.getEntries(y,h).next(R=>{b=R,b.forEach((j,q)=>{q.isValidDocument()||(M=M.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let j=[];for(let q of a){let K=mH(q,p.get(q.key).overlayedDocument);K!=null&&j.push(new ur(q.key,K,NR(K.value.mapValue),Si.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(R=>{g=R;let j=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,j)})}).then(()=>({batchId:g.batchId,changes:BR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ge(Ee)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Eu(r,i.changes),yield xf(r.remoteStore)}catch(i){let o=gw(i,"Failed to persist write");n.reject(o)}})}function mM(t,e){return _(this,null,function*(){let n=te(t);try{let r=yield VH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ae(s.va):i.removedDocuments.size>0&&(Ae(s.va),s.va=!1))}),yield Eu(n,r,e)}catch(r){yield _u(r)}})}function yR(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&yw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uq(t,e,n){return _(this,null,function*(){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ge(W.comparator);s=s.insert(o,Vn.newNoDocument(o,ie.min()));let a=ve().add(o),u=new ef(ie.min(),new Map,new Ge(Ee),s,a);yield mM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),vw(r)}else yield AI(r.localStore,e,!1).then(()=>GI(r,e,n)).catch(_u)})}function lq(t,e){return _(this,null,function*(){let n=te(t),r=e.batch.batchId;try{let i=yield LH(n.localStore,e);yM(n,r,null),gM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Eu(n,i)}catch(i){yield _u(i)}})}function dq(t,e,n){return _(this,null,function*(){let r=te(t);try{let i=yield function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ae(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);yM(r,e,n),gM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Eu(r,i)}catch(i){yield _u(i)}})}function gM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function yM(t,e,n){let r=te(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function GI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vM(t,r)})}function vM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(hw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),vw(t))}function vR(t,e,n){for(let r of n)r instanceof mf?(t.La.addReference(r.key,e),hq(t,r)):r instanceof gf?($("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vM(t,r.key)):J()}function hq(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||($("SyncEngine","New document in limbo: "+n),t.xa.add(r),vw(t))}function vw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new W(Be.fromString(e)),r=t.qa.next();t.Na.set(r,new qI(n)),t.Oa=t.Oa.insert(n,r),sM(t.remoteStore,new lu(or(uw(n.path)),r,"TargetPurposeLimboResolution",SR.oe))}}function Eu(t,e,n){return _(this,null,function*(){let r=te(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=CI.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,g=>O.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>O.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Iu(p))throw p;$("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),b=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(g,M)}}})}(r.localStore,o))})}function fq(t,e){return _(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let r=yield iM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new B(P.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Eu(n,r.hs)}})}function pq(t,e){let n=te(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function _M(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uq.bind(null,e),e.Ca.d_=tq.bind(null,e.eventManager),e.Ca.$a=nq.bind(null,e.eventManager),e}function mq(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dq.bind(null,e),e}var _R=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Mf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return FH(this.persistence,new TI,n.initialUser,this.serializer)}Ga(n){return new wI(DI.Zr,this.serializer)}Wa(n){return new RI}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var gq=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fq.bind(null,this.syncEngine),yield eq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new jI}()}createDatastore(n){let r=Mf(n.databaseInfo.databaseId),i=function(s){return new xI(s)}(n.databaseInfo);return function(s,a,u,l){return new OI(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new LI(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>yR(this.syncEngine,r,0),function(){return cf.D()?new cf:new MI}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new zI(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=te(o);$("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield wu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var yf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var WI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=Wh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){$("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=gw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function C_(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield iM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function IR(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield yq(t);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pR(e.remoteStore,i)),t._onlineComponents=e})}function yq(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield C_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),yield C_(t,new _R)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield C_(t,new _R);return t._offlineComponents})}function IM(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield IR(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield IR(t,new gq))),t._onlineComponents})}function vq(t){return IM(t).then(e=>e.syncEngine)}function KI(t){return _(this,null,function*(){let e=yield IM(t),n=e.eventManager;return n.onListen=rq.bind(null,e.syncEngine),n.onUnlisten=sq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aq.bind(null,e.syncEngine),n})}function _q(t,e,n={}){let r=new rr;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new yf({next:g=>{h.Za(),s.enqueueAndForget(()=>fM(o,p)),g.fromCache&&u.source==="server"?l.reject(new B(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new pf(a,h,{includeMetadataChanges:!0,_a:!0});return hM(o,p)}(yield KI(t),t.asyncQueue,e,n,r)})),r.promise}function wM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var wR=new Map;function EM(t,e,n){if(!n)throw new B(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Iq(t,e,n,r){if(e===!0&&r===!0)throw new B(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ER(t){if(!W.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DR(t){if(W.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Pf(t);throw new B(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var vf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Iq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},da=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new b_;switch(r.type){case"firstParty":return new R_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=wR.get(n);r&&($("ComponentProvider","Removing Datastore"),wR.delete(n),r.terminate())}(this),Promise.resolve()}};function DM(t,e,n,r={}){var i;let o=(t=ar(t,da))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=pt.MOCK_USER;else{a=pS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new pt(l)}t._authCredentials=new T_(new Gh(a,u))}}var So=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},jt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ai=class t extends So{constructor(e,n,r){super(e,n,uw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function CM(t,e,...n){if(t=nt(t),EM("collection","path",e),t instanceof da){let r=Be.fromString(e,...n);return DR(r),new Ai(t,null,r)}{if(!(t instanceof jt||t instanceof Ai))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return DR(r),new Ai(t.firestore,null,r)}}function bM(t,e,...n){if(t=nt(t),arguments.length===1&&(e=Wh.newId()),EM("doc","path",e),t instanceof da){let r=Be.fromString(e,...n);return ER(r),new jt(t,null,new W(r))}{if(!(t instanceof jt||t instanceof Ai))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return ER(r),new jt(t.firestore,t instanceof Ai?t.converter:null,new W(r))}}var _f=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uf(this,"async_queue_retry"),this.Vu=()=>{let r=D_();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=D_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=D_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new rr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Iu(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=VI.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&J()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function CR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var xi=class extends da{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _f,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new _f(e),this._firestoreClient=void 0,yield e}})}};function TM(t,e){let n=typeof t=="object"?t:Bs(),r=typeof t=="string"?t:e||"(default)",i=Bc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=fS("firestore");o&&DM(i,...o)}return i}function _w(t){if(t._terminated)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wq(t),t._firestoreClient}function wq(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new k_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new WI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var fu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Rt.fromBase64String(e))}catch(n){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ha=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pu=class{constructor(e){this._methodName=e}};var mu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var gu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Eq=/^__.*__$/,QI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new To(e,this.data,n,this.fieldTransforms)}},If=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function SM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var YI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ef(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SM(this.Cu)&&Eq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},ZI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mf(e)}Qu(e,n,r,i=!1){return new YI({Cu:e,methodName:n,qu:r,path:ln.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Iw(t){let e=t._freezeSettings(),n=Mf(t._databaseId);return new ZI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dq(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);ww("Data must be an object, but it was:",s,r);let a=AM(r,s),u,l;if(o.merge)u=new wn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=JI(e,p,n);if(!s.contains(g))throw new B(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);MM(h,g)||h.push(g)}u=new wn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new QI(new un(a),u,l)}var wf=class t extends pu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Cq(t,e,n,r){let i=t.Qu(1,e,n);ww("Data must be an object, but it was:",i,r);let o=[],s=un.empty();Ao(r,(u,l)=>{let h=Ew(e,u,n);l=nt(l);let p=i.Nu(h);if(l instanceof wf)o.push(h);else{let g=Du(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new wn(o);return new If(s,a,i.fieldTransforms)}function bq(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[JI(e,r,n)],u=[i];if(o.length%2!=0)throw new B(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(JI(e,o[g])),u.push(o[g+1]);let l=[],h=un.empty();for(let g=a.length-1;g>=0;--g)if(!MM(l,a[g])){let y=a[g],b=u[g];b=nt(b);let M=s.Nu(y);if(b instanceof wf)l.push(y);else{let R=Du(b,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new wn(l);return new If(h,p,s.fieldTransforms)}function Tq(t,e,n,r=!1){return Du(n,t.Qu(r?4:3,e))}function Du(t,e){if(RM(t=nt(t)))return ww("Unsupported field value:",e,t),AM(t,e);if(t instanceof pu)return function(r,i){if(!SM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Du(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=_t.fromDate(r);return{timestampValue:of(i.serializer,o)}}if(r instanceof _t){let o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:of(i.serializer,o)}}if(r instanceof mu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:ZR(i.serializer,r._byteString)};if(r instanceof jt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return lw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Pf(r)}`)}(t,e)}function AM(t,e){let n={};return AR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{let o=Du(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function RM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof mu||t instanceof fu||t instanceof jt||t instanceof pu||t instanceof gu)}function ww(t,e,n){if(!RM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Pf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function JI(t,e,n){if((e=nt(e))instanceof ha)return e._internalPath;if(typeof e=="string")return Ew(t,e);throw Ef("Field path arguments must be of type string or ",t,!1,void 0,n)}var Sq=new RegExp("[~\\*/\\[\\]]");function Ew(t,e,n){if(e.search(Sq)>=0)throw Ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ha(...e.split("."))._internalPath}catch{throw Ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ef(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(P.INVALID_ARGUMENT,a+t+u)}function MM(t,e){return t.some(n=>n.isEqual(e))}var Df=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new XI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Dw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},XI=class extends Df{data(){return super.data()}};function Dw(t,e){return typeof e=="string"?Ew(t,e):e instanceof ha?e._internalPath:e._delegate._internalPath}function NM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yu=class{},ew=class extends yu{};function xM(t,e,...n){let r=[];e instanceof yu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof tw).length,a=o.filter(u=>u instanceof Cf).length;if(s>1||s>0&&a>0)throw new B(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Cf=class t extends ew{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return kM(e._query,n),new So(e.firestore,e.converter,W_(e._query,n))}_parse(e){let n=Iw(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){TR(p,h);let y=[];for(let b of p)y.push(bR(u,o,b));g={arrayValue:{values:y}}}else g=bR(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||TR(p,h),g=Tq(a,s,p,h==="in"||h==="not-in");return ot.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function PM(t,e,n){let r=e,i=Dw("where",t);return Cf._create(i,r,n)}var tw=class t extends yu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)kM(s,u),s=W_(s,u)}(e._query,n),new So(e.firestore,e.converter,W_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function bR(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new B(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LR(e)&&n.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Be.fromString(n));if(!W.isDocumentKey(r))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YA(t,new W(r))}if(n instanceof jt)return YA(t,n._key);throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function TR(t,e){if(!Array.isArray(t)||t.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var nw=class{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ao(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new gu(o)}convertGeoPoint(e){return new mu(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ow(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){let n=jr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Be.fromString(e);Ae(rM(r));let i=new Zh(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Ur(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Aq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var _o=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bf=class extends Df{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Xs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Dw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Xs=class extends bf{data(e={}){return super.data(e)}},Tf=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xs(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Xs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Xs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Rq(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Rq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}var vu=class extends nw{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}};function OM(t){t=ar(t,So);let e=ar(t.firestore,xi),n=_w(e),r=new vu(e);return NM(t._query),_q(n,t._query).then(i=>new Tf(e,r,t,i))}function FM(t,e,n){t=ar(t,jt);let r=ar(t.firestore,xi),i=Aq(t.converter,e,n);return VM(r,[Dq(Iw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Si.none())])}function LM(t,e,n,...r){t=ar(t,jt);let i=ar(t.firestore,xi),o=Iw(i),s;return s=typeof(e=nt(e))=="string"||e instanceof ha?bq(o,"updateDoc",t._key,e,n,r):Cq(o,"updateDoc",t._key,e),VM(i,[s.toMutation(t._key,Si.exists(!0))])}function Cw(t,...e){var n,r,i;t=nt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||CR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CR(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof jt)l=ar(t.firestore,xi),h=uw(t._key.path),u={next:p=>{e[s]&&e[s](Mq(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=ar(t,So);l=ar(p.firestore,xi),h=p._query;let g=new vu(l);u={next:y=>{e[s]&&e[s](new Tf(l,g,p,y))},error:e[s+1],complete:e[s+2]},NM(t._query)}return function(g,y,b,M){let R=new yf(M),j=new pf(y,R,b);return g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return hM(yield KI(g),j)})),()=>{R.Za(),g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return fM(yield KI(g),j)}))}}(_w(l),h,a,u)}function VM(t,e){return function(r,i){let o=new rr;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return cq(yield vq(r),i,o)})),o.promise}(_w(t),e)}function Mq(t,e,n){let r=n.docs.get(e._key),i=new vu(t);return new bf(t,i,e._key,r,new _o(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){fa=i})(wi),Ii(new In("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new xi(new S_(r.getProvider("auth-internal")),new N_(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ct(GA,"4.7.3",e),ct(GA,"4.7.3","esm2017")})();var kf=function(){return kf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},kf.apply(this,arguments)};var Pq={includeMetadataChanges:!1};function bw(t,e){return e===void 0&&(e=Pq),new ae(function(n){var r=Cw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function UM(t){return bw(t,{includeMetadataChanges:!0})}function jM(t,e){return e===void 0&&(e={}),UM(t).pipe(Y(function(n){return Tw(n,e)}))}function Tw(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:kf(kf({},r),(n={},n[e.idField]=t.id,n))}function BM(t){return bw(t,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function $M(t,e){return e===void 0&&(e={}),BM(t).pipe(Y(function(n){return n.map(function(r){return Tw(r,e)})}))}var Mo=class{constructor(e){return e}},HM="firestore",Sw=class{constructor(){return $c(HM)}};var Aw=new H("angularfire2.firestore-instances");function kq(t,e){let n=Ih(HM,t,e);return n&&new Mo(n)}function Oq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Mo(r)}}var Fq={provide:Sw,deps:[[new Ft,Aw]]},Lq={provide:Mo,useFactory:kq,deps:[[new Ft,Aw],kr]};function qM(t,...e){return ct("angularfire",uo.full,"fst"),Gn([Lq,Fq,{provide:Aw,useFactory:Oq(t),multi:!0,deps:[be,yt,qs,lo,[new Ft,Jc],[new Ft,Hs],...e]}])}var Rw=ut($M,!0);var zM=ut(jM,!0);var Cu=ut(CM,!0);var ma=ut(bM,!0);var GM=ut(OM,!0);var WM=ut(TM,!0);var Mw=ut(xM,!0);var KM=ut(FM,!0);var Of=ut(LM,!0);var Nw=ut(PM,!0);var Zt=class t{defaultUser=[{name:"none",links:["login"]}];firestore=k(Mo);auth=k(go);loginSubject=new at("");loginSubject$=this.loginSubject.asObservable();loggedUser;getLoggedInUsers(){let e=Cu(this.firestore,"users"),n=Mw(e,Nw("loggedIn","==",!0));return Rw(n,{idField:"id"})}getloggedInUser(){let e=Cu(this.firestore,"users");return console.log("getLoddedInUser"),console.log("this.auth",this.auth),UA(this.auth).pipe(xt(i=>i?zM(ma(this.firestore,"users/"+i.uid),{idField:"id"}):Q(null)))}getAllUsers(){let e=Cu(this.firestore,"users");return Rw(e,{idField:"id"})}logOut(e){return _(this,null,function*(){let n=ma(this.firestore,"users",e);Of(n,{loggedIn:!1}).then(()=>console.log("Wylogowano u\u017Cytkownika.")).catch(i=>console.error("B\u0142\u0105d aktualizacji dokumentu",i))})}logIn(e){return _(this,null,function*(){let n=ma(this.firestore,"users",e);Of(n,{loggedIn:!0}).then(()=>console.log("Dokument zaktualizowany.")).catch(i=>console.error("B\u0142\u0105d aktualizacji dokumentu",i))})}logInUser(e,n){return _(this,null,function*(){let r=Cu(this.firestore,"users"),i=Mw(r,Nw("name","==",e));try{let o=yield GM(i);if(o.size>1)throw new Error("Wi\u0119cej ni\u017C jeden u\u017Cytkownik o tym imieniu",{cause:"toomany-users"});if(o.empty)throw new Error("Nie znaleziono u\u017Cytkownika o tym imieniu",{cause:"not-found"});{let s=o.docs[0],a=ma(this.firestore,"users",s.id);if(s.data().password===n){yield Of(a,{loggedIn:!0});return}else throw new Error("Niepoprawne has\u0142o",{cause:"password"})}}catch(o){throw o}})}logAuthIn(e,n){return _(this,null,function*(){try{let r=yield $A(this.auth,e,n);r&&(this.loggedUser=r.user)}catch(r){throw r}})}logAuthOut(){return _(this,null,function*(){try{yield HA(this.auth)}catch(e){throw e}})}createUser(e){return _(this,null,function*(){try{let r=(yield jA(this.auth,e.email,e.password)).user;console.log("New Auth user created :",r);let i=ma(this.firestore,"users/"+r.uid),o={username:e.username,email:e.email,password:e.password,role:e.role,emailverified:r.emailVerified,cratedAt:r.metadata.creationTime,lastSignIn:r.metadata.lastSignInTime,photoURL:r.photoURL};yield KM(i,o),console.log("New user sotore in FireStore : ",o)}catch(n){console.log(n)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function Vq(t,e){if(t&1){let n=ci();N(0,"div",1)(1,"div",3),Te(2,"img",4),x(),N(3,"div",5)(4,"h5",6),V(5),x(),N(6,"ul",7)(7,"li",8),V(8),x(),N(9,"li",8),V(10),Ye(11,"date"),x(),N(12,"li",8),V(13),x(),N(14,"li",8),V(15),x()(),N(16,"div",9)(17,"button",10),Tt("click",function(){Gt(n);let i=Lt();return Wt(i.logOut())}),V(18,"Log out"),x(),N(19,"button",11),V(20,"Edit"),x()()(),N(21,"div",12),V(22),Ye(23,"date"),x()()}if(t&2){let n=e;F(5),pe(n.username),F(3),dt(" Email : ",n.email," "),F(2),dt("Created at : ",Zn(11,6,n.cratedAt),""),F(3),dt("Email verified : ",n.emailverified,""),F(2),dt("Role : ",n.role,""),F(7),dt(" Last sign in : ",mn(23,8,n.lastSignIn,"M/d/yy, HH:mm a")," ")}}function Uq(t,e){t&1&&(N(0,"h1",2),V(1,"Nobody logged"),x())}var Ff=class t{userService=k(Zt);user$=this.userService.getloggedInUser().pipe(ze(e=>console.log(e)));logOut(){return _(this,null,function*(){yield this.userService.logAuthOut()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["user-page"]],standalone:!0,features:[Me],decls:4,vars:3,consts:[[1,"container","text-center","d-flex","justify-content-center"],[1,"card","text-center","m-5","maxw-320"],[1,"m-5"],[1,"card-header"],["src","assets/images/avatar.png","alt","...",1,"card-img-top","w-50"],[1,"card-body"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-center","mt-3"],[1,"btn","btn-primary","me-3",3,"click"],[1,"btn","btn-primary"],[1,"card-footer","text-body-secondary"]],template:function(n,r){if(n&1&&(N(0,"div",0),Le(1,Vq,24,11,"div",1),Ye(2,"async"),Le(3,Uq,2,0,"h1",2),x()),n&2){let i;F(),je((i=Zn(2,1,r.user$))?1:3,i)}},dependencies:[_n,fi,pi]})};var rN=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(ce(Qn),ce(Mn))}}static{this.\u0275dir=Ue({type:t})}}return t})(),kw=(()=>{class t extends rN{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})()}static{this.\u0275dir=Ue({type:t,features:[Qt]})}}return t})(),qf=new H("");var jq={provide:qf,useExisting:hn(()=>Ia),multi:!0};function Bq(){let t=Ar()?Ar().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $q=new H(""),Ia=(()=>{class t extends rN{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Bq())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(ce(Qn),ce(Mn),ce($q,8))}}static{this.\u0275dir=Ue({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Tt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Yn([jq]),Qt]})}}return t})();function zf(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Hq(t){return t!=null&&typeof t.length=="number"}var wa=new H(""),iN=new H(""),qq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function zq(t){return zf(t.value)?{required:!0}:null}function Gq(t){return zf(t.value)||qq.test(t.value)?null:{email:!0}}function Wq(t){return e=>zf(e.value)||!Hq(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Kq(t){if(!t)return xw;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(zf(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function xw(t){return null}function oN(t){return t!=null}function sN(t){return li(t)?Fe(t):t}function aN(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function cN(t,e){return e.map(n=>n(t))}function Qq(t){return!t.validate}function uN(t){return t.map(e=>Qq(e)?e:n=>e.validate(n))}function Yq(t){if(!t)return null;let e=t.filter(oN);return e.length==0?null:function(n){return aN(cN(n,e))}}function Ow(t){return t!=null?Yq(uN(t)):null}function Zq(t){if(!t)return null;let e=t.filter(oN);return e.length==0?null:function(n){let r=cN(n,e).map(sN);return tm(r).pipe(Y(aN))}}function Fw(t){return t!=null?Zq(uN(t)):null}function QM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Jq(t){return t._rawValidators}function Xq(t){return t._rawAsyncValidators}function Pw(t){return t?Array.isArray(t)?t:[t]:[]}function Vf(t,e){return Array.isArray(t)?t.includes(e):t===e}function YM(t,e){let n=Pw(e);return Pw(t).forEach(i=>{Vf(n,i)||n.push(i)}),n}function ZM(t,e){return Pw(e).filter(n=>!Vf(t,n))}var Uf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ow(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},va=class extends Uf{get formDirective(){return null}get path(){return null}},Mu=class extends Uf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},e4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uZ=me(U({},e4),{"[class.ng-submitted]":"isSubmitted"}),Gf=(()=>{class t extends jf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ce(Mu,2))}}static{this.\u0275dir=Ue({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Cs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Qt]})}}return t})(),Wf=(()=>{class t extends jf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ce(va,10))}}static{this.\u0275dir=Ue({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Cs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Qt]})}}return t})();var bu="VALID",Lf="INVALID",ga="PENDING",Tu="DISABLED",_a=class{},Bf=class extends _a{constructor(e,n){super(),this.value=e,this.source=n}},Au=class extends _a{constructor(e,n){super(),this.pristine=e,this.source=n}},Ru=class extends _a{constructor(e,n){super(),this.touched=e,this.source=n}},ya=class extends _a{constructor(e,n){super(),this.status=e,this.source=n}};function lN(t){return(Kf(t)?t.validators:t)||null}function t4(t){return Array.isArray(t)?Ow(t):t||null}function dN(t,e){return(Kf(e)?e.asyncValidators:t)||null}function n4(t){return Array.isArray(t)?Fw(t):t||null}function Kf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function r4(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")}function i4(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new z(1002,"")})}var $f=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=hc(()=>this.statusReactive()),this.statusReactive=uc(void 0),this._pristine=hc(()=>this.pristineReactive()),this.pristineReactive=uc(!0),this._touched=hc(()=>this.touchedReactive()),this.touchedReactive=uc(!1),this._events=new lt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kn(this.statusReactive)}set status(e){kn(()=>this.statusReactive.set(e))}get valid(){return this.status===bu}get invalid(){return this.status===Lf}get pending(){return this.status==ga}get disabled(){return this.status===Tu}get enabled(){return this.status!==Tu}get pristine(){return kn(this.pristineReactive)}set pristine(e){kn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return kn(this.touchedReactive)}set touched(e){kn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZM(e,this._rawAsyncValidators))}hasValidator(e){return Vf(this._rawValidators,e)}hasAsyncValidator(e){return Vf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ru(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ru(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Au(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Au(!0,r))}markAsPending(e={}){this.status=ga;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ya(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this.errors=null,this._forEachChild(i=>{i.disable(me(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bf(this.value,r)),this._events.next(new ya(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bu,this._forEachChild(r=>{r.enable(me(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bu||this.status===ga)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bf(this.value,n)),this._events.next(new ya(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tu:bu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ga,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=sN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ya(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Tu:this.errors?Lf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ga)?ga:this._anyControlsHaveStatus(Lf)?Lf:bu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Au(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ru(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=t4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=n4(this._rawAsyncValidators)}},Hf=class extends $f{constructor(e,n,r){super(lN(n),dN(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){i4(this,!0,e),Object.keys(e).forEach(r=>{r4(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Lw=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Vw}),Vw="always";function o4(t,e){return[...e.path,t]}function hN(t,e,n=Vw){fN(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),a4(t,e),u4(t,e),c4(t,e),s4(t,e)}function JM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function s4(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function fN(t,e){let n=Jq(t);e.validator!==null?t.setValidators(QM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Xq(t);e.asyncValidator!==null?t.setAsyncValidators(QM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();JM(e._rawValidators,i),JM(e._rawAsyncValidators,i)}function a4(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&pN(t,e)})}function c4(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&pN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function pN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function u4(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function l4(t,e){t==null,fN(t,e)}function d4(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function h4(t){return Object.getPrototypeOf(t.constructor)===kw}function f4(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function p4(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ia?n=o:h4(o)?r=o:i=o}),i||r||n||null}var m4={provide:va,useExisting:hn(()=>Nu)},Su=Promise.resolve(),Nu=(()=>{class t extends va{get submitted(){return kn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=hc(()=>this.submittedReactive()),this.submittedReactive=uc(!1),this._directives=new Set,this.ngSubmit=new Xe,this.form=new Hf({},Ow(n),Fw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Su.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),hN(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Su.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Su.then(()=>{let r=this._findContainer(n.path),i=new Hf({});l4(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Su.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Su.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),f4(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(ce(wa,10),ce(iN,10),ce(Lw,8))}}static{this.\u0275dir=Ue({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Tt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yn([m4]),Qt]})}}return t})();function XM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var g4=class extends $f{constructor(e=null,n,r){super(lN(n),dN(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(eN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){eN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var y4={provide:Mu,useExisting:hn(()=>xu)},tN=Promise.resolve(),xu=(()=>{class t extends Mu{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new g4,this._registered=!1,this.name="",this.update=new Xe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=p4(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),d4(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){hN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){tN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Cr(r);tN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?o4(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(ce(va,9),ce(wa,10),ce(iN,10),ce(qf,10),ce(di,8),ce(Lw,8))}}static{this.\u0275dir=Ue({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Yn([y4]),Qt,oi]})}}return t})(),Qf=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ue({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var v4={provide:qf,useExisting:hn(()=>Yf),multi:!0};function mN(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function _4(t){return t.split(":")[0]}var Yf=(()=>{class t extends kw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=mN(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=_4(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})()}static{this.\u0275dir=Ue({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Tt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Yn([v4]),Qt]})}}return t})(),gN=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(mN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(ce(Mn),ce(Qn),ce(Yf,9))}}static{this.\u0275dir=Ue({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),I4={provide:qf,useExisting:hn(()=>yN),multi:!0};function nN(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function w4(t){return t.split(":")[0]}var yN=(()=>{class t extends kw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=w4(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})()}static{this.\u0275dir=Ue({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Tt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Yn([I4]),Qt]})}}return t})(),vN=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(nN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(nN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(ce(Mn),ce(Qn),ce(yN,9))}}static{this.\u0275dir=Ue({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function E4(t){return typeof t=="number"?t:parseInt(t,10)}var Zf=(()=>{class t{constructor(){this._validator=xw}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xw,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ue({type:t,features:[oi]})}}return t})();var D4={provide:wa,useExisting:hn(()=>Uw),multi:!0};var Uw=(()=>{class t extends Zf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Cr,this.createValidator=n=>zq}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})()}static{this.\u0275dir=Ue({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&to("required",i._enabled?"":null)},inputs:{required:"required"},features:[Yn([D4]),Qt]})}}return t})();var C4={provide:wa,useExisting:hn(()=>jw),multi:!0},jw=(()=>{class t extends Zf{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Cr,this.createValidator=n=>Gq}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})()}static{this.\u0275dir=Ue({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Yn([C4]),Qt]})}}return t})(),b4={provide:wa,useExisting:hn(()=>Bw),multi:!0},Bw=(()=>{class t extends Zf{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>E4(n),this.createValidator=n=>Wq(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})()}static{this.\u0275dir=Ue({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&to("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Yn([b4]),Qt]})}}return t})();var T4={provide:wa,useExisting:hn(()=>$w),multi:!0},$w=(()=>{class t extends Zf{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>Kq(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})()}static{this.\u0275dir=Ue({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&to("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[Yn([T4]),Qt]})}}return t})();var S4=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=eo({type:t})}static{this.\u0275inj=Xi({})}}return t})();var Jf=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Lw,useValue:n.callSetDisabledState??Vw}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=eo({type:t})}static{this.\u0275inj=Xi({imports:[S4]})}}return t})();var A4=()=>["/create-user"];function R4(t,e){if(t&1&&(N(0,"div",11),V(1),x()),t&2){let n=Lt();F(),pe(n.networkError)}}var Xf=class t{userService=k(Zt);router=k(Ut);emailError=null;passwordError=null;credentialError=null;networkError=null;model={email:"",password:""};onSubmit(){return _(this,null,function*(){this.emailError=null,this.credentialError=null,this.passwordError=null,this.networkError=null;try{yield this.userService.logAuthIn(this.model.email,this.model.password),this.router.navigate(["/dashboard"])}catch(e){switch(console.log(e.message),e.code){case"auth/invalid-credential":this.credentialError=e.message;break;case"auth/missing-password":this.passwordError=e.message;break;case"auth/invalid-email":this.emailError=e.message;break;case"auth/network-request-failed":this.networkError=e.message;break}}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["app-login-form"]],standalone:!0,features:[Me],decls:30,vars:14,consts:[["myForm","ngForm"],[1,"card","p-3","m-5","login-form","mx-auto","bg-body-tertiary",3,"ngClass"],[1,"text-center"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"invalid-feedback"],["for","password",1,"form-label"],["type","password","id","password","name","password",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],[1,"form-text","text-danger","m-3"],[1,"m-3","text-center"],["href","#",1,"icon-link","icon-link-hover",3,"routerLink"],[1,"bi","bi-arrow-right"]],template:function(n,r){if(n&1){let i=ci();N(0,"div",1)(1,"h3",2),V(2,"Login"),x(),N(3,"form",3,0),Tt("ngSubmit",function(){return Gt(i),Wt(r.onSubmit())}),N(5,"div",4)(6,"label",5),V(7,"Email"),x(),N(8,"input",6),Dr("ngModelChange",function(s){return Gt(i),ui(r.model.email,s)||(r.model.email=s),Wt(s)}),x(),N(9,"div",7),V(10),x(),N(11,"div",7),V(12),x()(),N(13,"div",4)(14,"label",8),V(15,"Password"),x(),N(16,"input",9),Dr("ngModelChange",function(s){return Gt(i),ui(r.model.password,s)||(r.model.password=s),Wt(s)}),x(),N(17,"div",7),V(18),x(),N(19,"div",7),V(20),x()(),N(21,"div",2)(22,"button",10),V(23,"Login"),x()(),Le(24,R4,2,1,"div",11),x(),N(25,"p",12),V(26,"Don't have account? "),N(27,"a",13),V(28," Create one "),Te(29,"i",14),x()()()}n&2&&(Ke("ngClass",r.networkError?"border-danger":""),F(8),lc(r.emailError!=null||r.credentialError!=null?"is-invalid":""),Er("ngModel",r.model.email),F(2),pe(r.emailError),F(2),pe(r.credentialError),F(4),lc(r.passwordError!=null||r.credentialError!=null?"is-invalid":""),Er("ngModel",r.model.password),F(2),pe(r.passwordError),F(2),pe(r.credentialError),F(4),je(r.networkError?24:-1),F(3),Ke("routerLink",dc(13,A4)))},dependencies:[Jf,Qf,Ia,Gf,Wf,xu,Nu,_n,Vs,zd],styles:[".login-form[_ngcontent-%COMP%]{width:320px}"]})};var ep=class t{ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["login-page"]],standalone:!0,features:[Me],decls:2,vars:0,consts:[[1,"container"]],template:function(n,r){n&1&&(N(0,"div",0),Te(1,"app-login-form"),x())},dependencies:[Xf]})};var Ea=class t{today=new Date;dayOfWeek=this.today.getDay();tillWeekend(){let e=5-this.dayOfWeek,n;return e===1?n="Just one day away from the weekend.":e===0?n="Just few hours away from the weekend.":e===-1||e===5?n="It's weekend!!!":n="Just "+e+" days away from the weekend.",n}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["app-calendar-sheet"]],standalone:!0,features:[Me],decls:24,vars:21,consts:[[1,"w-100"],[1,"card","mb-3","text-center"],[1,"card-header"],[1,"fs-5","fw-bold"],[1,"card-body","my-4"],[1,"card-title","display-1","fw-bold"],[1,"fw-bold","fs-5"],[1,"text-primary"],[1,"card-footer"],[1,"bg-white","border","border-dark-subtle","fs-4","align-middle","me-1","px-1"],[1,"align-middle"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),V(4),Ye(5,"date"),x()(),N(6,"div",4)(7,"h1",5),V(8),Ye(9,"date"),x(),N(10,"p",6),V(11),Ye(12,"date"),x(),N(13,"small",7),V(14),x()(),N(15,"div",8)(16,"span",9),V(17),Ye(18,"date"),x(),N(19,"small",10),V(20," week of "),x(),N(21,"span",10),V(22),Ye(23,"date"),x()()()()),n&2&&(F(4),pe(mn(5,6,r.today,"MMMM")),F(4),pe(mn(9,9,r.today,"d")),F(3),pe(mn(12,12,r.today,"EEEE")),F(3),pe(r.tillWeekend()),F(3),pe(mn(18,15,r.today,"ww")),F(5),dt("",mn(23,18,r.today,"yyyy")," year."))},dependencies:[pi]})};function M4(t,e){if(t&1&&(N(0,"blockquote",9)(1,"p"),V(2),x()(),N(3,"figcaption",10)(4,"cite",11),V(5),x()()),t&2){let n=e;F(2),pe(n.quote),F(3),pe(n.author)}}var N4=[{author:"Paul J. Meyer",quote:"Productivity is never an accident. It is always the result of a commitment to excellence, intelligent planning, and focused effort."},{author:"Bruce Lee",quote:"I fear not the man who has practiced 10,000 kicks once, but I fear the man who has practiced one kick 10,000 times."},{author:"BruceLee",quote:"If you spend too much time thinking about a thing, you'll never get it done."},{author:"Rosabeth Moss Kanter",quote:"I've found that small wins, small projects, small differences often make huge differences."},{author:"Sam Walton",quote:"Celebrate your successes. Find some humor in your failures."},{author:"Paulo Coelho",quote:"The great victory, which appears so simple today, was the result of a series of small victories that went unnoticed."},{author:"Tim Ferriss",quote:"Focus on being productive instead of busy."},{author:"Peter Drucker",quote:"What gets measured gets managed."},{author:"Stephen King",quote:"Amateurs sit and wait for inspiration, the rest of us just get up and go to work."}],tp=class t{userService=k(Zt);quotes=N4;user$=this.userService.getloggedInUser().pipe(Y(e=>e?.username));randomQuotes$=nm(1e4).pipe($i(Math.floor(Math.random()*this.quotes.length)),Y(()=>this.quotes[Math.floor(Math.random()*this.quotes.length)]));constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["welcome-page"]],standalone:!0,features:[Me],decls:17,vars:6,consts:[[1,"container","text-center"],[1,"my-5"],[1,"me-2","pacifico-regular","d-inline"],[1,"fs-1","h-1","d-inline"],[1,"text-bg-warning","fw-bold","p-1"],[1,"fs-1","d-inline"],[1,"text-center"],[1,"w-100","d-flex","justify-content-center","p-5"],[1,"maxw-320"],[1,"blockquote"],[1,"blockquote-footer"],["title","Source Title"]],template:function(n,r){if(n&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),V(3,"Hello"),x(),N(4,"div",3)(5,"span",4),V(6),Ye(7,"async"),x()(),N(8,"div",5)(9,"span"),V(10,"."),x()()(),N(11,"figure",6),Le(12,M4,6,2),Ye(13,"async"),x(),N(14,"div",7)(15,"div",8),Te(16,"app-calendar-sheet"),x()()()),n&2){let i;F(6),pe(Zn(7,2,r.user$)),F(6),je((i=Zn(13,4,r.randomQuotes$))?12:-1,i)}},dependencies:[Ea,fi]})};var x4=t=>({"is-invalid":t});function P4(t,e){t&1&&(N(0,"div",10),V(1,"Enter your username. Minimum 4 characters."),x())}function k4(t,e){t&1&&(N(0,"div",10),V(1,"Enter valid email"),x())}function O4(t,e){t&1&&(N(0,"div",10),V(1,"The password must be at least 8 characters, contain at least one capital letter, one lowercase letter, one digit and one special character"),x())}var np=class t{userService=k(Zt);router=k(Ut);creatorRole="standard";model={username:"",email:"",password:"",role:"standard"};onSubmit(e){return _(this,null,function*(){try{console.log("try submit ",this.model),yield this.userService.createUser(this.model),this.router.navigate(["/user"]),console.log("Submitted")}catch{console.log("Error in new user form")}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["newuser-form"]],inputs:{creatorRole:"creatorRole"},standalone:!0,features:[Me],decls:34,vars:16,consts:[["myForm","ngForm"],["username","ngModel"],["emailInput","ngModel"],["password","ngModel"],[1,"card","p-3","m-5","w320","mx-auto","bg-body-tertiary",3,"ngClass"],[1,"text-center","m-3"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","email","id","username","minlength","4","required","","name","username",1,"form-control",3,"ngModelChange","ngModel","ngClass"],[1,"form-text","text-danger"],["for","email",1,"form-label"],["type","email","email","","id","email","required","","name","email",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","password",1,"form-label"],["type","password","id","password","required","","pattern","^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[!@#$%^&*()]).{8,}$","name","password",1,"form-control",3,"ngModelChange","ngModel"],["for","role",1,"form-label"],["id","role","name","role",1,"form-select",3,"ngModelChange","ngModel"],["value","admin",3,"disabled"],["value","standard"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,r){if(n&1){let i=ci();N(0,"div",4)(1,"h3",5),V(2,"Create user account"),x(),N(3,"form",6,0),Tt("ngSubmit",function(){Gt(i);let s=bs(4);return Wt(r.onSubmit(s))}),N(5,"div",7)(6,"label",8),V(7,"User name"),x(),N(8,"input",9,1),Dr("ngModelChange",function(s){return Gt(i),ui(r.model.username,s)||(r.model.username=s),Wt(s)}),x(),Le(10,P4,2,0,"div",10),x(),N(11,"div",7)(12,"label",11),V(13,"Email"),x(),N(14,"input",12,2),Dr("ngModelChange",function(s){return Gt(i),ui(r.model.email,s)||(r.model.email=s),Wt(s)}),x(),Le(16,k4,2,0,"div",10),x(),N(17,"div",7)(18,"label",13),V(19,"Password"),x(),N(20,"input",14,3),Dr("ngModelChange",function(s){return Gt(i),ui(r.model.password,s)||(r.model.password=s),Wt(s)}),x(),Le(22,O4,2,0,"div",10),x(),N(23,"div",7)(24,"label",15),V(25,"Role"),x(),N(26,"select",16),Dr("ngModelChange",function(s){return Gt(i),ui(r.model.role,s)||(r.model.role=s),Wt(s)}),N(27,"option",17),V(28,"Admin"),x(),N(29,"option",18),V(30,"Standard"),x()()(),N(31,"div",19)(32,"button",20),V(33,"Create"),x()()()()}if(n&2){let i=bs(4),o=bs(9),s=bs(15),a=bs(21);Ke("ngClass",i.invalid&&i.touched?"border-danger":""),F(8),Er("ngModel",r.model.username),Ke("ngClass",o.invalid&&o.touched?"is-invalid":""),F(2),je(o.invalid&&o.touched?10:-1),F(4),Er("ngModel",r.model.email),Ke("ngClass",Sd(14,x4,s.invalid&&s.touched)),F(2),je(s.invalid&&s.touched?16:-1),F(4),Cs("is-invalid",a.invalid&&a.touched),Er("ngModel",r.model.password),F(2),je(a.invalid&&a.touched?22:-1),F(4),Er("ngModel",r.model.role),F(),Ke("disabled",r.creatorRole!=="admin"),F(5),Ke("disabled",i.invalid)}},dependencies:[Jf,Qf,gN,vN,Ia,Yf,Gf,Wf,Uw,Bw,$w,jw,xu,Nu,_n,zd],styles:[".w320[_ngcontent-%COMP%]{width:320px}"]})};var rp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["create-user-page"]],standalone:!0,features:[Me],decls:1,vars:0,consts:[["creatorRole","admin"]],template:function(n,r){n&1&&Te(0,"newuser-form",0)},dependencies:[np]})};var F4=t=>[t];function L4(t,e){if(t&1&&(N(0,"span",3),V(1),x()),t&2){let n=Lt();F(),pe(n.data.notifications)}}function V4(t,e){if(t&1&&(N(0,"li",11),Te(1,"i",12),x(),N(2,"li",11)(3,"small"),V(4),x()(),N(5,"li",13)(6,"small"),V(7),x()()),t&2){let n=Lt(3);F(4),pe(n.data.tasks.activeTasks[0].name),F(3),pe(n.data.tasks.activeTasks[0].content.description)}}function U4(t,e){t&1&&(N(0,"li",10)(1,"small"),Te(2,"i",14),x()())}function j4(t,e){if(t&1&&(N(0,"ul",7),Le(1,V4,8,2)(2,U4,3,0,"li",10),x()),t&2){let n=e.$index;F(),je(n<2?1:-1),F(),je(n>=2?2:-1)}}function B4(t,e){if(t&1&&(N(0,"li",6)(1,"small"),V(2,"Active Tasks :"),x(),xn(3,j4,3,2,"ul",7,Nn),x()),t&2){let n=Lt();F(3),Pn(n.data.tasks.activeTasks)}}function $4(t,e){if(t&1&&(N(0,"ul",7)(1,"li",11),Te(2,"i",15),x(),N(3,"li",16)(4,"small"),V(5),x()(),N(6,"li",17)(7,"small"),V(8),Ye(9,"date"),x()()()),t&2){let n=e.$implicit;F(5),pe(n.message),F(3),pe(mn(9,2,n.createdAt,"dd.MM.YY HH:mm"))}}var ip=class t{data={branchTitle:"",messeges:[{author:"",createdAt:"",message:"",read:!1}],workers:null,notifications:0,lastnotification:0};static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["app-card-widget"]],inputs:{data:"data"},standalone:!0,features:[Me],decls:16,vars:7,consts:[[1,"card","mw-120",3,"routerLink"],[1,"card-header","fw-bold","text-body","text-center","orange","text-capitalize"],[1,"fs-5","me-1"],[1,"badge","bg-success","align-top"],[1,"card-body","p-0"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"list-group","list-group-horizontal","lh-1"],[1,"card-footer"],[1,"text-body-secondary"],[1,"list-group-item","py-1","w-100","text-center"],[1,"list-group-item","p-1"],[1,"bi","bi-gear"],[1,"list-group-item","flex-grow-1","p-1"],[1,"bi","bi-three-dots"],[1,"bi","bi-envelope"],[1,"list-group-item","flex-grow-1","p-1","overflow-x-hidden"],[1,"list-group-item","text-end","p-1"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"span",2),V(3),x(),Le(4,L4,2,1,"span",3),x(),N(5,"div",4)(6,"ul",5),Le(7,B4,5,0,"li",6),N(8,"li",6)(9,"small"),V(10,"Messages :"),x(),xn(11,$4,10,5,"ul",7,Nn),x()(),N(13,"div",8)(14,"small",9),V(15),x()()()()),n&2&&(Ke("routerLink",Sd(5,F4,"/"+r.data.branchTitle)),F(3),pe(r.data.branchTitle),F(),je(r.data.notifications>0?4:-1),F(3),je(r.data.tasks&&r.data.tasks.activeTasks?7:-1),F(4),Pn(r.data.messeges),F(4),dt("New element ",r.data.lastnotification," mins ago"))},dependencies:[pi,_n,Vs]})};var Da=class t{branchDataMockup=[{branchTitle:"workshop",notifications:2,lastnotification:154,tasks:{activeTasks:[{name:"Build Logo",content:{description:"160 x 480 logo for Tesco",files:""},taskId:"000002",createdAt:"13-12-2024 10:11"},{name:"Build Logo",content:{description:"160 x 480 logo for Tesco",files:""},taskId:"000002",createdAt:"13-12-2024 10:11"},{name:"Build Logo",content:{description:"160 x 480 logo for Tesco",files:""},taskId:"000002",createdAt:"13-12-2024 10:11"}],activeTasksLength:1,pastTasks:[{name:"Banner preparation",content:{description:"240 x 240 banner for Nike",files:""},taskId:"000001",createdAt:"13-12-2024 09:05"}],pastTasksLength:1},workers:[{name:"mirek",uid:"123123",workingDay:8,hoursWorked:3},{name:"staszek",uid:"123123",workingDay:8,hoursWorked:5},{name:"janek",uid:"123123",workingDay:12,hoursWorked:6},{name:"marek",uid:"123123",workingDay:8,hoursWorked:7}],messeges:[{author:"karol",message:"Welcome new employers",createdAt:"12-12-2024 13:43",read:!1},{author:"mirek",message:"Wrong parts",createdAt:"12-12-2024 13:43",read:!0},{author:"ania",message:"Where is projecgt of new part.",createdAt:"12-13-2024 10:43",read:!1}]},{branchTitle:"warehouse",notifications:3,lastnotification:12,tasks:{activeTasks:[{name:"Order tape",content:{description:"50 pcs. of masking tape",files:""},taskId:"000020",createdAt:"13-12-2024 10:11"}],activeTasksLength:1,pastTasks:[{name:"Order metal",content:{description:"20x30 4m rectangle alu profiles 45 pcs.",files:""},taskId:"000010",createdAt:"13-12-2024 09:05"}],pastTasksLength:1},workers:null,messeges:[{author:"karol",message:"new employee ...",createdAt:"07-22-2024 13:43",read:!1},{author:"ania",message:"invitation ...",createdAt:"07-22-2024 13:43",read:!0}]},{branchTitle:"outside jobs",notifications:1,lastnotification:4,tasks:{activeTasks:[{name:"Logo montage",content:{description:"160 x 480 logo for Tesco",files:""},taskId:"000002",createdAt:"13-12-2024 10:11"}],activeTasksLength:1,pastTasks:[{name:"Demontage Montage preparation",content:{description:"240 x 240 banner for Nike",files:""},taskId:"000001",createdAt:"13-12-2024 09:05"}],pastTasksLength:1},workers:[{name:"mirek",uid:"123123",workingDay:8,hoursWorked:5}],messeges:[{author:"karol",message:"Welcome new employers",createdAt:"12-12-2024 13:43",read:!1},{author:"mirek",message:"Wrong parts",createdAt:"12-12-2024 13:43",read:!0},{author:"ania",message:"Where is projecgt of new part.",createdAt:"12-13-2024 10:43",read:!1}]},{branchTitle:"hr",notifications:4,lastnotification:32,tasks:{activeTasks:[{name:"Prepare agreement",content:{description:"Agreement for new...",files:""},taskId:"000002",createdAt:"13-12-2024 10:11"}],activeTasksLength:1,pastTasks:[{name:"test job 1",content:{description:"New job task 1",files:""},taskId:"000001",createdAt:"13-12-2024 09:05"}],pastTasksLength:1},workers:null,messeges:[{author:"karol",message:"Welcome new ...",createdAt:"12-25-2024 13:43",read:!0},{author:"ania",message:"Done new ...",createdAt:"12-26-2024 15:43",read:!1},{author:"mirek",message:"Send ...",createdAt:"12-27-2024 11:43",read:!0}]},{branchTitle:"marketing",notifications:2,lastnotification:72,tasks:{activeTasks:[{name:"Make offer",content:{description:"Castorama logo",files:""},taskId:"000300",createdAt:"13-12-2024 10:11"}],activeTasksLength:1,pastTasks:[{name:"Send recipee",content:{description:"Nike logo",files:""},taskId:"000400",createdAt:"13-12-2024 09:05"}],pastTasksLength:1},workers:null,messeges:[{author:"karol",message:"where can I find...",createdAt:"12-12-2024 13:43",read:!1}]}];static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function H4(t,e){if(t&1&&(N(0,"div",2),Te(1,"app-card-widget",3),x()),t&2){let n=e.$implicit;F(),Ke("data",n)}}var op=class t{data=k(Da);branchData=this.data.branchDataMockup;widgetData;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["app-dashboard-page"]],standalone:!0,features:[Me],decls:6,vars:0,consts:[[1,"container","py-5"],[1,"row","row-cols-sm-1","row-cols-md-2","row-cols-lg-3","row-cols-4","justify-content-start","g-3"],[1,"col","flex-shrink-1"],[3,"data"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1),xn(2,H4,2,1,"div",2,Nn),N(4,"div",2),Te(5,"app-calendar-sheet"),x()()()),n&2&&(F(2),Pn(r.branchData))},dependencies:[ip,Ea]})};var sp=class t{user=null;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["app-medium-avatar"]],inputs:{user:"user"},standalone:!0,features:[Me],decls:10,vars:4,consts:[[1,"card","w-128","text-center","m-1"],["src","assets/images/avatar.png","alt","...",1,"card-img-top","p-3"],[1,"card-body"],[1,"card-title","text-capitalize"],[1,"card-text"],["role","progressbar","aria-label","Animated striped example","aria-valuenow","4","aria-valuemin","0","aria-valuemax","8",1,"progress"],[1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","75%"]],template:function(n,r){n&1&&(N(0,"div",0),Te(1,"img",1),N(2,"div",2)(3,"h5",3),V(4),x(),N(5,"p",4),V(6),x(),N(7,"div",5)(8,"div",6),V(9),x()()()()),n&2&&(F(4),pe(r.user==null?null:r.user.name),F(2),dt("Id : ",r.user==null?null:r.user.uid,""),F(3),ty(" ",r.user==null?null:r.user.hoursWorked,"/",r.user==null?null:r.user.workingDay," h"))}})};function q4(t,e){if(t&1&&(N(0,"span",3),V(1),x()),t&2){let n=Lt();F(),pe(n.data.notifications)}}function z4(t,e){if(t&1&&(N(0,"ul",9)(1,"li",7),Te(2,"i",10),x(),N(3,"li",7)(4,"small"),V(5),x()(),N(6,"li",11)(7,"small"),V(8),x()(),N(9,"button",12),V(10,"Open"),x()()),t&2){let n=Lt(2);F(5),pe(n.data.tasks.activeTasks[0].name),F(3),pe(n.data.tasks.activeTasks[0].content.description)}}function G4(t,e){if(t&1&&(N(0,"li",6),V(1,"Active Tasks : "),xn(2,z4,11,2,"ul",9,Nn),x()),t&2){let n=Lt();F(2),Pn(n.data.tasks.activeTasks)}}function W4(t,e){if(t&1&&Te(0,"app-medium-avatar",14),t&2){let n=e.$implicit;Ke("user",n)}}function K4(t,e){if(t&1&&(N(0,"li",6),V(1,"Workers : "),N(2,"div",13),xn(3,W4,1,1,"app-medium-avatar",14,Nn),x()()),t&2){let n=Lt();F(3),Pn(n.data.workers)}}function Q4(t,e){if(t&1&&(N(0,"ul",9)(1,"li",7),Te(2,"i",15),x(),N(3,"li",16)(4,"small"),V(5),x()(),N(6,"li",17)(7,"small"),V(8),Ye(9,"date"),x()(),N(10,"button",12),V(11,"Open"),x()()),t&2){let n=e.$implicit;lc(n.read?"":"fw-bold"),F(5),pe(n.message),F(3),pe(mn(9,4,n.createdAt,"dd.MM.YY HH:mm"))}}var ap=class t{service=k(Da);data=this.service.branchDataMockup.filter(e=>e.branchTitle==="workshop")[0];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["app-workshop-page"]],standalone:!0,features:[Me],decls:13,vars:4,consts:[[1,"card"],[1,"card-header","fw-bold","text-body","text-center","orange","text-capitalize"],[1,"fs-5","me-1"],[1,"badge","bg-success","align-top"],[1,"card-body","p-0"],[1,"list-group","list-group-flush"],[1,"list-group-item","py-3"],[1,"list-group-item"],[1,"list-group","list-group-horizontal",3,"class"],[1,"list-group","list-group-horizontal"],[1,"bi","bi-gear"],[1,"list-group-item","flex-grow-1"],["type","button",1,"list-group-item","list-group-item-secondary"],[1,"d-flex","justify-content-start"],[3,"user"],[1,"bi","bi-envelope"],[1,"list-group-item","flex-grow-1","overflow-x-hidden"],[1,"list-group-item","text-end"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"span",2),V(3),x(),Le(4,q4,2,1,"span",3),x(),N(5,"div",4)(6,"ul",5),Le(7,G4,4,0,"li",6)(8,K4,5,0,"li",6),N(9,"li",7),V(10,"Messages : "),xn(11,Q4,12,7,"ul",8,Nn),x()()()()),n&2&&(F(3),pe(r.data.branchTitle),F(),je(r.data.notifications>0?4:-1),F(3),je(r.data.tasks&&r.data.tasks.activeTasks?7:-1),F(),je(r.data.tasks&&r.data.tasks.activeTasks?8:-1),F(3),Pn(r.data.messeges))},dependencies:[pi,sp]})};var IN=[{path:"",redirectTo:"welcome",pathMatch:"full"},{path:"login",component:ep},{path:"welcome",component:tp},{path:"dashboard",component:op},{path:"logout",redirectTo:"login"},{path:"create-user",component:rp},{path:"user",component:Ff},{path:"workshop",component:ap}];var wN={production:!1,firebaseConfig:{apiKey:"AIzaSyBzR2EbaT-ic9VxfXaY6-n4vs2FIBMqXqQ",authDomain:"factory-manager-c71f8.firebaseapp.com",projectId:"factory-manager-c71f8",storageBucket:"factory-manager-c71f8.firebasestorage.app",messagingSenderId:"119966284443",appId:"1:119966284443:web:f26c7c83d9c411cfdca43e"}};var EN={providers:[Hb({eventCoalescing:!0}),oS(IN),VS(()=>US(wN.firebaseConfig)),qM(()=>WM()),VA(()=>BA())]};var Y4=["*"];function Z4(t,e){t&1&&(N(0,"span",4)(1,"a",10),V(2),x()()),t&2&&(F(2),dt(" ",e," "))}function J4(t,e){if(t&1){let n=ci();N(0,"li",9)(1,"a",11),Tt("click",function(){let i=Gt(n).$implicit,o=Lt();return Wt(o.routeTo(i))}),V(2),x()()}if(t&2){let n=e.$implicit;F(),Ke("routerLink",n),F(),pe(n)}}var cp=class t{links=["login"];userService=k(Zt);router=k(Ut);currentUrl$=this.router.events.pipe(Ct(e=>e instanceof vn),Y(e=>e.url.replace("/","on ")));routeTo(e){return _(this,null,function*(){e==="logout"&&(yield this.userService.logAuthOut(),console.log("Logged Out"))})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["app-navbar"]],inputs:{links:"links"},standalone:!0,features:[Me],ngContentSelectors:Y4,decls:13,vars:3,consts:[[1,"navbar","navbar-expand-md","bg-body-tertiary"],[1,"container-fluid"],[1,"navbar-brand","mb-0","h1"],["routerLink","welcome",1,"text-decoration-none","text-reset"],[1,"navbar-brand","mb-0","fs-6"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item","me-3"],[1,"text-decoration-none","text-success","ms-4"],[1,"nav-link","text-decoration-underline","link-offset-1","link-offset-3-hover","link-underline","link-underline-opacity-0","link-underline-opacity-100-hover",3,"click","routerLink"]],template:function(n,r){if(n&1&&(Pb(),N(0,"nav",0)(1,"div",1)(2,"span",2)(3,"a",3),kb(4),x(),Le(5,Z4,3,1,"span",4),Ye(6,"async"),x(),N(7,"button",5),Te(8,"span",6),x(),N(9,"div",7)(10,"ul",8),xn(11,J4,3,2,"li",9,Nn),x()()()()),n&2){let i;F(5),je((i=Zn(6,1,r.currentUrl$))?5:-1,i),F(6),Pn(r.links)}},dependencies:[_n,Vs,fi],encapsulation:2})};var X4=()=>["user","dashboard","settings","logout"],ez=()=>["login"];function tz(t,e){t&1&&(N(0,"app-navbar",0),V(1),x()),t&2&&(Ke("links",dc(2,X4)),F(),dt("Factory Manager ","- "+e.username,""))}function nz(t,e){t&1&&(N(0,"app-navbar",0),V(1,"Factory Manager"),x()),t&2&&Ke("links",dc(1,ez))}var up=class t{userService=k(Zt);loggedUser$=this.userService.getloggedInUser();logOut(e){}logOutAll(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Re({type:t,selectors:[["app-root"]],standalone:!0,features:[Me],decls:4,vars:3,consts:[[3,"links"]],template:function(n,r){if(n&1&&(Le(0,tz,2,3,"app-navbar",0),Ye(1,"async"),Le(2,nz,2,2,"app-navbar",0),Te(3,"router-outlet")),n&2){let i;je((i=Zn(1,1,r.loggedUser$))?0:2,i)}},dependencies:[cp,_n,ev,fi]})};mT(up,EN).catch(t=>console.error(t));
